/*! For license information please see scalextric.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Scalextric",[],e):"object"==typeof exports?exports.Scalextric=e():t.Scalextric=e()}(self,(function(){return(()=>{var t={628:function(t,e){var n;!function(i){"use strict";var s={s:1,n:0,d:1};function r(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message}function n(){}return n.prototype=Error.prototype,e.prototype=new n,e}var a=f.DivisionByZero=r("DivisionByZero"),o=f.InvalidParameter=r("InvalidParameter");function h(t,e){return isNaN(t=parseInt(t,10))&&u(),t*e}function u(){throw new o}var c=function(t,e){var n,i=0,r=1,o=1,c=0,l=0,f=0,p=1,d=1,v=0,w=1,y=1,g=1,M=1e7;if(null==t);else if(void 0!==e)o=(i=t)*(r=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(i=t.n,r=t.d,"s"in t&&(i*=t.s)):0 in t?(i=t[0],1 in t&&(r=t[1])):u(),o=i*r;break;case"number":if(t<0&&(o=t,t=-t),t%1==0)i=t;else if(t>0){for(t>=1&&(t/=d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));w<=M&&g<=M;){if(t===(n=(v+y)/(w+g))){w+g<=M?(i=v+y,r=w+g):g>w?(i=y,r=g):(i=v,r=w);break}t>n?(v+=y,w+=g):(y+=v,g+=w),w>M?(i=y,r=g):(i=v,r=w)}i*=d}else(isNaN(t)||isNaN(e))&&(r=i=NaN);break;case"string":if(null===(w=t.match(/\d+|./g))&&u(),"-"===w[v]?(o=-1,v++):"+"===w[v]&&v++,w.length===v+1?l=h(w[v++],o):"."===w[v+1]||"."===w[v]?("."!==w[v]&&(c=h(w[v++],o)),(1+ ++v===w.length||"("===w[v+1]&&")"===w[v+3]||"'"===w[v+1]&&"'"===w[v+3])&&(l=h(w[v],o),p=Math.pow(10,w[v].length),v++),("("===w[v]&&")"===w[v+2]||"'"===w[v]&&"'"===w[v+2])&&(f=h(w[v+1],o),d=Math.pow(10,w[v+1].length)-1,v+=3)):"/"===w[v+1]||":"===w[v+1]?(l=h(w[v],o),p=h(w[v+2],1),v+=3):"/"===w[v+3]&&" "===w[v+1]&&(c=h(w[v],o),l=h(w[v+2],o),p=h(w[v+4],1),v+=5),w.length<=v){o=i=f+(r=p*d)*c+d*l;break}default:u()}if(0===r)throw new a;s.s=o<0?-1:1,s.n=Math.abs(i),s.d=Math.abs(r)};function l(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function f(t,e){if(!(this instanceof f))return new f(t,e);c(t,e),t=f.REDUCE?l(s.d,s.n):1,this.s=s.s,this.n=s.n/t,this.d=s.d/t}f.REDUCE=1,f.prototype={s:1,n:0,d:1,abs:function(){return new f(this.n,this.d)},neg:function(){return new f(-this.s*this.n,this.d)},add:function(t,e){return c(t,e),new f(this.s*this.n*s.d+s.s*this.d*s.n,this.d*s.d)},sub:function(t,e){return c(t,e),new f(this.s*this.n*s.d-s.s*this.d*s.n,this.d*s.d)},mul:function(t,e){return c(t,e),new f(this.s*s.s*this.n*s.n,this.d*s.d)},div:function(t,e){return c(t,e),new f(this.s*s.s*this.n*s.d,this.d*s.n)},clone:function(){return new f(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new f(NaN):void 0===t?new f(this.s*this.n%this.d,1):(c(t,e),0===s.n&&0===this.d&&f(0,0),new f(this.s*(s.d*this.n)%(s.n*this.d),s.d*this.d))},gcd:function(t,e){return c(t,e),new f(l(s.n,this.n)*l(s.d,this.d),s.d*this.d)},lcm:function(t,e){return c(t,e),0===s.n&&0===this.n?new f:new f(s.n*this.n,l(s.n,this.n)*l(s.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new f(this.s*this.d,this.n)},pow:function(t){return t<0?new f(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new f(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,e){return c(t,e),this.s*this.n*s.d==s.s*s.n*this.d},compare:function(t,e){c(t,e);var n=this.s*this.n*s.d-s.s*s.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function n(t){return 1===t.length?new f(t[0]):n(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var i=0;i<e.length;i++){var s=n(e.slice(0,i+1));if(s.sub(this.abs()).abs().valueOf()<t)return s.mul(this.s)}return this},divisible:function(t,e){return c(t,e),!(!(s.n*this.d)||this.n*s.d%(s.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",i=this.n,s=this.d;return this.s<0&&(n+="-"),1===s?n+=i:(t&&(e=Math.floor(i/s))>0&&(n+=e,n+=" ",i%=s),n+=i,n+="/",n+=s),n},toLatex:function(t){var e,n="",i=this.n,s=this.d;return this.s<0&&(n+="-"),1===s?n+=i:(t&&(e=Math.floor(i/s))>0&&(n+=e,i%=s),n+="\\frac{",n+=i,n+="}{",n+=s,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,i=[];if(isNaN(this.n)||isNaN(this.d))return i;do{i.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return i},toString:function(t){var e,n=this.n,i=this.d;if(isNaN(n)||isNaN(i))return"NaN";f.REDUCE||(n/=e=l(n,i),i/=e),t=t||15;var s=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,i=1;1!==n;i++)if(n=10*n%e,i>2e3)return 0;return i}(0,i),r=function(t,e,n){for(var i=1,s=function(t,e,n){for(var i=1;e>0;t=t*t%n,e>>=1)1&e&&(i=i*t%n);return i}(10,n,e),r=0;r<300;r++){if(i===s)return r;i=10*i%e,s=10*s%e}return 0}(0,i,s),a=-1===this.s?"-":"";if(a+=n/i|0,n%=i,(n*=10)&&(a+="."),s){for(var o=r;o--;)a+=n/i|0,n%=i,n*=10;for(a+="(",o=s;o--;)a+=n/i|0,n%=i,n*=10;a+=")"}else for(o=t;n&&o--;)a+=n/i|0,n%=i,n*=10;return a}},void 0===(n=function(){return f}.apply(e,[]))||(t.exports=n)}()},11:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Interval:()=>o,Tuning:()=>i,TuningNotation:()=>l});var i={};n.r(i),n.d(i,{Tuning:()=>h,TuningTone:()=>u});var s,r=n(628),a=n.n(r);!function(t){t.escapeRegExp=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},t.primes=function(t){const e=[],n=[];for(let i=2;i<=t;++i)if(!e[i]){n.push(i);for(let n=i<<1;n<=t;n+=i)e[n]=!0}return n},t.flipFraction=function(t,e=!1){return e?t.abs().compare(1)<0?t.inverse():t:t.abs().compare(1)>0?t.inverse():t},t.binarySearch=function(t,e,n){let i=0,s=t.length-1;for(;i<=s;){const r=s+i>>1,a=n(e,t[r]);if(a>0)i=r+1;else{if(!(a<0))return r;s=r-1}}return~i},t.arrayEqual=function(t,e,n){return t.length===e.length&&t.every(((t,i)=>0===n(t,e[i])))},t.arrayUnique=function(t){return[...new Set(t)]},t.mod=function(t,e){return(t%e+e)%e}}(s||(s={}));class o{constructor(t){this.ratio=t}get cents(){return 1200*Math.log2(this.ratio.valueOf())}get savarts(){return 1e3*Math.log10(this.ratio.valueOf())}difference(t){return new o(this.ratio.div(t.ratio))}static fromRatio(t){return new o(new(a())(t))}static fromCents(t){return new o(new(a())(Math.pow(2,t/1200)))}static fromSavarts(t){return new o(new(a())(Math.pow(10,t/1e3)))}static compare(t,e){return t.ratio.compare(e.ratio)}}o.JND=null;class h{constructor(t,e=[]){this.intervals=t,this.annotations=e,this.intervals.sort(o.compare),1!=this.intervals[0].ratio.valueOf()&&(this.intervals=[new o(new(a())(1)),...this.intervals])}static fromIntervals(t,e=[]){return new h(t.map((t=>"string"==typeof t?new o(new(a())(t)):o.fromCents(t))),e)}get transposable(){if(void 0!==this._transposable)return this._transposable;const t=this.intervals[1].difference(this.intervals[0]);return this._transposable=this.intervals.slice(1).every(((e,n)=>{const i=e.difference(this.intervals[n]);return new o(s.flipFraction(i.difference(t).ratio,!0)).ratio.compare(o.JND.ratio)<0}))}get steps(){return this.intervals.length-1}get octave(){return this.intervals[this.steps]}tune(t){return new o(this.intervals[t.pitchClass].ratio.mul(this.octave.ratio.pow(t.octave)))}nearest(t){const e=Math.floor(Math.log(t.ratio.valueOf())/Math.log(this.octave.ratio.valueOf())),n=new o(t.ratio.div(this.octave.ratio.pow(e))),i=s.binarySearch(this.intervals,n,o.compare);if(i>=0)return{tone:new u(this,i,e),interval:t,difference:new o(new(a())(1))};{const s=~i,r=Math.abs(this.intervals[s-1].difference(n).cents),a=Math.abs(this.intervals[s].difference(n).cents),o=new u(this,r<a?s-1:s,e),h=this.tune(o);return{tone:o,interval:h,difference:h.difference(t)}}}static intervalsEdo(t){return Array.from(Array(t+1)).map(((e,n)=>o.fromCents(1200/t*n)))}}class u{constructor(t,e,n){this.tuning=t,this.pitchClass=e,this.octave=n}get pitch(){return this.pitchClass+this.octave*this.tuning.steps}static fromPitch(t,e){return new u(t,s.mod(e,t.steps),Math.floor(e/t.steps))}}class c{constructor(){this.keyValueMap=new Map,this.valueKeyMap=new Map,this[Symbol.iterator]=this.keyValueMap[Symbol.iterator],this.entries=()=>this.keyValueMap.entries(),this.keys=()=>this.keyValueMap.keys(),this.values=()=>this.keyValueMap.values(),this.get=t=>this.keyValueMap.get(t),this.getKey=t=>this.valueKeyMap.get(t),this.getValue=t=>this.get(t),this.set=(t,e)=>{this.delete(t),this.keyValueMap.set(t,e);const n=this.valueKeyMap.get(e)||[];return this.valueKeyMap.set(e,[...n,t]),this},this.setKey=(t,e)=>this.set(e,t),this.setValue=(t,e)=>this.set(t,e),this.clear=()=>{this.keyValueMap.clear(),this.valueKeyMap.clear()},this.delete=t=>{if(this.has(t)){const e=this.keyValueMap.get(t);this.keyValueMap.delete(t);const n=this.valueKeyMap.get(e).filter((e=>e!==t));return n.length>0?this.valueKeyMap.set(e,n):this.valueKeyMap.delete(e),!0}return!1},this.deleteKey=t=>this.delete(t),this.deleteValue=t=>!!this.hasValue(t)&&(this.valueKeyMap.get(t).forEach((t=>{this.delete(t)})),!0),this.forEach=(t,e)=>{this.keyValueMap.forEach(((n,i)=>{t.apply(e,[n,i,this])}))},this.has=t=>this.keyValueMap.has(t),this.hasKey=t=>this.has(t),this.hasValue=t=>this.valueKeyMap.has(t),this.inspect=()=>{let t="Multimap {",e=0;return this.forEach(((n,i)=>{e++,t+=i.toString()+" => "+n.toString(),e<this.size&&(t+=", ")})),t+="}",t}}get size(){return this.keyValueMap.size}}class l{constructor(t,e){this.tuning=t,this.map=e,this.regex=new RegExp("^("+Array.from(this.map.keys()).map(s.escapeRegExp).join("|")+")(-?\\d)$","i")}static fromNotesAccidentalsCombination(t,e,n){const i=new c;return Object.keys(e).forEach((r=>{i.set(""+r,e[r]),Object.keys(n).forEach((a=>{i.set(`${r}${a}`,s.mod(e[r]+n[a],t.steps))}))})),new l(t,i)}name(t){return[...this.map.getKey(t.pitchClass)].map((e=>`${e}${t.octave}`))}parse(t){const e=this.regex.exec(t);if(!e)throw new Error("[TuningNotation.parse] Could not parse note "+t);return new u(this.tuning,this.map.get(e[1]),parseInt(e[2],10))}}}},e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,n),s.exports}return n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(11)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY2FsZXh0cmljL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9TY2FsZXh0cmljLy4vbm9kZV9tb2R1bGVzL2ZyYWN0aW9uLmpzL2ZyYWN0aW9uLmpzIiwid2VicGFjazovL1NjYWxleHRyaWMvLi9zcmMvSGVscGVycy50cyIsIndlYnBhY2s6Ly9TY2FsZXh0cmljLy4vc3JjL0ludGVydmFsLnRzIiwid2VicGFjazovL1NjYWxleHRyaWMvLi9zcmMvVHVuaW5nLnRzIiwid2VicGFjazovL1NjYWxleHRyaWMvLi9zcmMvQmltYXAudHMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy8uL3NyYy9UdW5pbmdOb3RhdGlvbi50cyIsIndlYnBhY2s6Ly9TY2FsZXh0cmljL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1NjYWxleHRyaWMvd2VicGFjay9zdGFydHVwIiwid2VicGFjazovL1NjYWxleHRyaWMvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL1NjYWxleHRyaWMvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwiUCIsImNyZWF0ZUVycm9yIiwibmFtZSIsImVycm9yQ29uc3RydWN0b3IiLCJ0ZW1wIiwiRXJyb3IiLCJhcHBseSIsInRoaXMiLCJhcmd1bWVudHMiLCJJbnRlcm1lZGlhdGVJbmhlcml0b3IiLCJwcm90b3R5cGUiLCJEaXZpc2lvbkJ5WmVybyIsIkZyYWN0aW9uIiwiSW52YWxpZFBhcmFtZXRlciIsImFzc2lnbiIsIm4iLCJzIiwiaXNOYU4iLCJwYXJzZUludCIsInRocm93SW52YWxpZFBhcmFtIiwicGFyc2UiLCJwMSIsInAyIiwiTSIsImQiLCJ2IiwidyIsIngiLCJ5IiwieiIsIkEiLCJCIiwiQyIsIkQiLCJOIiwidW5kZWZpbmVkIiwiTWF0aCIsInBvdyIsImZsb29yIiwibG9nIiwiTE4xMCIsIk5hTiIsIm1hdGNoIiwibGVuZ3RoIiwiYWJzIiwiZ2NkIiwiYSIsImIiLCJwbGFjZXMiLCJjZWlsIiwicm91bmQiLCJtIiwidCIsImVwcyIsImNvbnQiLCJyZWMiLCJzbGljZSIsImkiLCJ0bXAiLCJ2YWx1ZU9mIiwiZXhjbHVkZVdob2xlIiwid2hvbGUiLCJzdHIiLCJyZXMiLCJwdXNoIiwiZGVjIiwiZyIsImN5Y0xlbiIsInJlbSIsImN5Y2xlTGVuIiwiY3ljT2ZmIiwibGVuIiwicmVtMSIsInJlbTIiLCJlIiwiciIsIm1vZHBvdyIsImN5Y2xlU3RhcnQiLCJIZWxwZXJzIiwiZXNjYXBlUmVnRXhwIiwicmVwbGFjZSIsInByaW1lcyIsIm1heCIsInNpZXZlIiwiaiIsImZsaXBGcmFjdGlvbiIsImYiLCJncmVhdGVyVGhhbk9uZSIsImNvbXBhcmUiLCJpbnZlcnNlIiwiYmluYXJ5U2VhcmNoIiwiYXIiLCJlbCIsImNvbXAiLCJrIiwiY21wIiwiYXJyYXlFcXVhbCIsImFyMSIsImFyMiIsImV2ZXJ5IiwidmFsdWUiLCJpbmRleCIsImFycmF5VW5pcXVlIiwiU2V0IiwibW9kIiwiSW50ZXJ2YWwiLCJyYXRpbyIsImxvZzIiLCJsb2cxMCIsInJlZmVyZW5jZSIsImRpdiIsImNlbnRzIiwic2F2YXJ0cyIsIkpORCIsIlR1bmluZyIsImludGVydmFscyIsImFubm90YXRpb25zIiwic29ydCIsIm1hcCIsImludGVydmFsIiwiZnJvbUNlbnRzIiwiX3RyYW5zcG9zYWJsZSIsImZpcnN0IiwiZGlmZmVyZW5jZSIsIm5leHQiLCJzdGVwcyIsInRvbmUiLCJwaXRjaENsYXNzIiwibXVsIiwib2N0YXZlIiwiYmFzZSIsIlR1bmluZ1RvbmUiLCJsb3dlciIsInVwcGVyIiwibmVhcmVzdFRvbmUiLCJuZWFyZXN0SW50ZXJ2YWwiLCJ0dW5lIiwiZGl2aXNpb25zIiwiQXJyYXkiLCJmcm9tIiwiXyIsInR1bmluZyIsInBpdGNoIiwiTXVsdGltYXAiLCJrZXlWYWx1ZU1hcCIsIk1hcCIsInZhbHVlS2V5TWFwIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJlbnRyaWVzIiwia2V5cyIsInZhbHVlcyIsImdldCIsImdldEtleSIsImdldFZhbHVlIiwic2V0Iiwia2V5IiwiZGVsZXRlIiwic2V0S2V5Iiwic2V0VmFsdWUiLCJjbGVhciIsImhhcyIsImZpbHRlciIsImRlbGV0ZUtleSIsImRlbGV0ZVZhbHVlIiwiaGFzVmFsdWUiLCJmb3JFYWNoIiwiY2FsbGJhY2tmbiIsInRoaXNBcmciLCJoYXNLZXkiLCJpbnNwZWN0IiwiZW50cnkiLCJ0b1N0cmluZyIsInNpemUiLCJUdW5pbmdOb3RhdGlvbiIsInJlZ2V4IiwiUmVnRXhwIiwiam9pbiIsIm5vdGVzIiwiYWNjaWRlbnRhbHMiLCJPYmplY3QiLCJub3RlIiwiYWNjaWRlbnRhbCIsImV4ZWMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsIm9iaiIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsInRvU3RyaW5nVGFnIl0sIm1hcHBpbmdzIjoiO0NBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxhQUFjLEdBQUlILEdBQ0MsaUJBQVpDLFFBQ2RBLFFBQW9CLFdBQUlELElBRXhCRCxFQUFp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WCxFQUFvQjlHLEVBQUtoRixJQUNILG9CQUFYd0osUUFBMEJBLE9BQU9tRCxhQUMxQ2xCLE9BQU9hLGVBQWV0TSxFQUFTd0osT0FBT21ELFlBQWEsQ0FBRWxHLE1BQU8sV0FFN0RnRixPQUFPYSxlQUFldE0sRUFBUyxhQUFjLENBQUV5RyxPQUFPLEtKRmhEcUYsRUFBb0IsSyIsImZpbGUiOiJzY2FsZXh0cmljLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJTY2FsZXh0cmljXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlNjYWxleHRyaWNcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiU2NhbGV4dHJpY1wiXSA9IGZhY3RvcnkoKTtcbn0pKHNlbGYsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIi8qKlxuICogQGxpY2Vuc2UgRnJhY3Rpb24uanMgdjQuMC4xMiAwOS8wOS8yMDE1XG4gKiBodHRwOi8vd3d3Lnhhcmcub3JnLzIwMTQvMDMvcmF0aW9uYWwtbnVtYmVycy1pbi1qYXZhc2NyaXB0L1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNSwgUm9iZXJ0IEVpc2VsZSAocm9iZXJ0QHhhcmcub3JnKVxuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuXG4gKiovXG5cblxuLyoqXG4gKlxuICogVGhpcyBjbGFzcyBvZmZlcnMgdGhlIHBvc3NpYmlsaXR5IHRvIGNhbGN1bGF0ZSBmcmFjdGlvbnMuXG4gKiBZb3UgY2FuIHBhc3MgYSBmcmFjdGlvbiBpbiBkaWZmZXJlbnQgZm9ybWF0cy4gRWl0aGVyIGFzIGFycmF5LCBhcyBkb3VibGUsIGFzIHN0cmluZyBvciBhcyBhbiBpbnRlZ2VyLlxuICpcbiAqIEFycmF5L09iamVjdCBmb3JtXG4gKiBbIDAgPT4gPG5vbWluYXRvcj4sIDEgPT4gPGRlbm9taW5hdG9yPiBdXG4gKiBbIG4gPT4gPG5vbWluYXRvcj4sIGQgPT4gPGRlbm9taW5hdG9yPiBdXG4gKlxuICogSW50ZWdlciBmb3JtXG4gKiAtIFNpbmdsZSBpbnRlZ2VyIHZhbHVlXG4gKlxuICogRG91YmxlIGZvcm1cbiAqIC0gU2luZ2xlIGRvdWJsZSB2YWx1ZVxuICpcbiAqIFN0cmluZyBmb3JtXG4gKiAxMjMuNDU2IC0gYSBzaW1wbGUgZG91YmxlXG4gKiAxMjMvNDU2IC0gYSBzdHJpbmcgZnJhY3Rpb25cbiAqIDEyMy4nNDU2JyAtIGEgZG91YmxlIHdpdGggcmVwZWF0aW5nIGRlY2ltYWwgcGxhY2VzXG4gKiAxMjMuKDQ1NikgLSBzeW5vbnltXG4gKiAxMjMuNDUnNicgLSBhIGRvdWJsZSB3aXRoIHJlcGVhdGluZyBsYXN0IHBsYWNlXG4gKiAxMjMuNDUoNikgLSBzeW5vbnltXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiB2YXIgZiA9IG5ldyBGcmFjdGlvbihcIjkuNCczMSdcIik7XG4gKiBmLm11bChbLTQsIDNdKS5kaXYoNC45KTtcbiAqXG4gKi9cblxuKGZ1bmN0aW9uKHJvb3QpIHtcblxuICBcInVzZSBzdHJpY3RcIjtcblxuICAvLyBNYXhpbXVtIHNlYXJjaCBkZXB0aCBmb3IgY3ljbGljIHJhdGlvbmFsIG51bWJlcnMuIDIwMDAgc2hvdWxkIGJlIG1vcmUgdGhhbiBlbm91Z2guXG4gIC8vIEV4YW1wbGU6IDEvNyA9IDAuKDE0Mjg1NykgaGFzIDYgcmVwZWF0aW5nIGRlY2ltYWwgcGxhY2VzLlxuICAvLyBJZiBNQVhfQ1lDTEVfTEVOIGdldHMgcmVkdWNlZCwgbG9uZyBjeWNsZXMgd2lsbCBub3QgYmUgZGV0ZWN0ZWQgYW5kIHRvU3RyaW5nKCkgb25seSBnZXRzIHRoZSBmaXJzdCAxMCBkaWdpdHNcbiAgdmFyIE1BWF9DWUNMRV9MRU4gPSAyMDAwO1xuXG4gIC8vIFBhcnNlZCBkYXRhIHRvIGF2b2lkIGNhbGxpbmcgXCJuZXdcIiBhbGwgdGhlIHRpbWVcbiAgdmFyIFAgPSB7XG4gICAgXCJzXCI6IDEsXG4gICAgXCJuXCI6IDAsXG4gICAgXCJkXCI6IDFcbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVFcnJvcihuYW1lKSB7XG5cbiAgICBmdW5jdGlvbiBlcnJvckNvbnN0cnVjdG9yKCkge1xuICAgICAgdmFyIHRlbXAgPSBFcnJvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgdGVtcFsnbmFtZSddID0gdGhpc1snbmFtZSddID0gbmFtZTtcbiAgICAgIHRoaXNbJ3N0YWNrJ10gPSB0ZW1wWydzdGFjayddO1xuICAgICAgdGhpc1snbWVzc2FnZSddID0gdGVtcFsnbWVzc2FnZSddO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVycm9yIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnRlcm1lZGlhdGVJbmhlcml0b3IoKSB7fVxuICAgIEludGVybWVkaWF0ZUluaGVyaXRvci5wcm90b3R5cGUgPSBFcnJvci5wcm90b3R5cGU7XG4gICAgZXJyb3JDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBuZXcgSW50ZXJtZWRpYXRlSW5oZXJpdG9yKCk7XG5cbiAgICByZXR1cm4gZXJyb3JDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIHZhciBEaXZpc2lvbkJ5WmVybyA9IEZyYWN0aW9uWydEaXZpc2lvbkJ5WmVybyddID0gY3JlYXRlRXJyb3IoJ0RpdmlzaW9uQnlaZXJvJyk7XG4gIHZhciBJbnZhbGlkUGFyYW1ldGVyID0gRnJhY3Rpb25bJ0ludmFsaWRQYXJhbWV0ZXInXSA9IGNyZWF0ZUVycm9yKCdJbnZhbGlkUGFyYW1ldGVyJyk7XG5cbiAgZnVuY3Rpb24gYXNzaWduKG4sIHMpIHtcblxuICAgIGlmIChpc05hTihuID0gcGFyc2VJbnQobiwgMTApKSkge1xuICAgICAgdGhyb3dJbnZhbGlkUGFyYW0oKTtcbiAgICB9XG4gICAgcmV0dXJuIG4gKiBzO1xuICB9XG5cbiAgZnVuY3Rpb24gdGhyb3dJbnZhbGlkUGFyYW0oKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRQYXJhbWV0ZXIoKTtcbiAgfVxuXG4gIHZhciBwYXJzZSA9IGZ1bmN0aW9uKHAxLCBwMikge1xuXG4gICAgdmFyIG4gPSAwLCBkID0gMSwgcyA9IDE7XG4gICAgdmFyIHYgPSAwLCB3ID0gMCwgeCA9IDAsIHkgPSAxLCB6ID0gMTtcblxuICAgIHZhciBBID0gMCwgQiA9IDE7XG4gICAgdmFyIEMgPSAxLCBEID0gMTtcblxuICAgIHZhciBOID0gMTAwMDAwMDA7XG4gICAgdmFyIE07XG5cbiAgICBpZiAocDEgPT09IHVuZGVmaW5lZCB8fCBwMSA9PT0gbnVsbCkge1xuICAgICAgLyogdm9pZCAqL1xuICAgIH0gZWxzZSBpZiAocDIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbiA9IHAxO1xuICAgICAgZCA9IHAyO1xuICAgICAgcyA9IG4gKiBkO1xuICAgIH0gZWxzZVxuICAgICAgc3dpdGNoICh0eXBlb2YgcDEpIHtcblxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAoXCJkXCIgaW4gcDEgJiYgXCJuXCIgaW4gcDEpIHtcbiAgICAgICAgICAgIG4gPSBwMVtcIm5cIl07XG4gICAgICAgICAgICBkID0gcDFbXCJkXCJdO1xuICAgICAgICAgICAgaWYgKFwic1wiIGluIHAxKVxuICAgICAgICAgICAgICBuICo9IHAxW1wic1wiXTtcbiAgICAgICAgICB9IGVsc2UgaWYgKDAgaW4gcDEpIHtcbiAgICAgICAgICAgIG4gPSBwMVswXTtcbiAgICAgICAgICAgIGlmICgxIGluIHAxKVxuICAgICAgICAgICAgICBkID0gcDFbMV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93SW52YWxpZFBhcmFtKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHMgPSBuICogZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAocDEgPCAwKSB7XG4gICAgICAgICAgICBzID0gcDE7XG4gICAgICAgICAgICBwMSA9IC1wMTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocDEgJSAxID09PSAwKSB7XG4gICAgICAgICAgICBuID0gcDE7XG4gICAgICAgICAgfSBlbHNlIGlmIChwMSA+IDApIHsgLy8gY2hlY2sgZm9yICE9IDAsIHNjYWxlIHdvdWxkIGJlY29tZSBOYU4gKGxvZygwKSksIHdoaWNoIGNvbnZlcmdlcyByZWFsbHkgc2xvd1xuXG4gICAgICAgICAgICBpZiAocDEgPj0gMSkge1xuICAgICAgICAgICAgICB6ID0gTWF0aC5wb3coMTAsIE1hdGguZmxvb3IoMSArIE1hdGgubG9nKHAxKSAvIE1hdGguTE4xMCkpO1xuICAgICAgICAgICAgICBwMSAvPSB6O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVc2luZyBGYXJleSBTZXF1ZW5jZXNcbiAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cuam9obmRjb29rLmNvbS9ibG9nLzIwMTAvMTAvMjAvYmVzdC1yYXRpb25hbC1hcHByb3hpbWF0aW9uL1xuXG4gICAgICAgICAgICB3aGlsZSAoQiA8PSBOICYmIEQgPD0gTikge1xuICAgICAgICAgICAgICBNID0gKEEgKyBDKSAvIChCICsgRCk7XG5cbiAgICAgICAgICAgICAgaWYgKHAxID09PSBNKSB7XG4gICAgICAgICAgICAgICAgaWYgKEIgKyBEIDw9IE4pIHtcbiAgICAgICAgICAgICAgICAgIG4gPSBBICsgQztcbiAgICAgICAgICAgICAgICAgIGQgPSBCICsgRDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKEQgPiBCKSB7XG4gICAgICAgICAgICAgICAgICBuID0gQztcbiAgICAgICAgICAgICAgICAgIGQgPSBEO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBuID0gQTtcbiAgICAgICAgICAgICAgICAgIGQgPSBCO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgaWYgKHAxID4gTSkge1xuICAgICAgICAgICAgICAgICAgQSArPSBDO1xuICAgICAgICAgICAgICAgICAgQiArPSBEO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBDICs9IEE7XG4gICAgICAgICAgICAgICAgICBEICs9IEI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKEIgPiBOKSB7XG4gICAgICAgICAgICAgICAgICBuID0gQztcbiAgICAgICAgICAgICAgICAgIGQgPSBEO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBuID0gQTtcbiAgICAgICAgICAgICAgICAgIGQgPSBCO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbiAqPSB6O1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNOYU4ocDEpIHx8IGlzTmFOKHAyKSkge1xuICAgICAgICAgICAgZCA9IG4gPSBOYU47XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAge1xuICAgICAgICAgIEIgPSBwMS5tYXRjaCgvXFxkK3wuL2cpO1xuXG4gICAgICAgICAgaWYgKEIgPT09IG51bGwpXG4gICAgICAgICAgICB0aHJvd0ludmFsaWRQYXJhbSgpO1xuXG4gICAgICAgICAgaWYgKEJbQV0gPT09ICctJykgey8vIENoZWNrIGZvciBtaW51cyBzaWduIGF0IHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICAgIHMgPSAtMTtcbiAgICAgICAgICAgIEErKztcbiAgICAgICAgICB9IGVsc2UgaWYgKEJbQV0gPT09ICcrJykgey8vIENoZWNrIGZvciBwbHVzIHNpZ24gYXQgdGhlIGJlZ2lubmluZ1xuICAgICAgICAgICAgQSsrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChCLmxlbmd0aCA9PT0gQSArIDEpIHsgLy8gQ2hlY2sgaWYgaXQncyBqdXN0IGEgc2ltcGxlIG51bWJlciBcIjEyMzRcIlxuICAgICAgICAgICAgdyA9IGFzc2lnbihCW0ErK10sIHMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoQltBICsgMV0gPT09ICcuJyB8fCBCW0FdID09PSAnLicpIHsgLy8gQ2hlY2sgaWYgaXQncyBhIGRlY2ltYWwgbnVtYmVyXG5cbiAgICAgICAgICAgIGlmIChCW0FdICE9PSAnLicpIHsgLy8gSGFuZGxlIDAuNSBhbmQgLjVcbiAgICAgICAgICAgICAgdiA9IGFzc2lnbihCW0ErK10sIHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQSsrO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgZGVjaW1hbCBwbGFjZXNcbiAgICAgICAgICAgIGlmIChBICsgMSA9PT0gQi5sZW5ndGggfHwgQltBICsgMV0gPT09ICcoJyAmJiBCW0EgKyAzXSA9PT0gJyknIHx8IEJbQSArIDFdID09PSBcIidcIiAmJiBCW0EgKyAzXSA9PT0gXCInXCIpIHtcbiAgICAgICAgICAgICAgdyA9IGFzc2lnbihCW0FdLCBzKTtcbiAgICAgICAgICAgICAgeSA9IE1hdGgucG93KDEwLCBCW0FdLmxlbmd0aCk7XG4gICAgICAgICAgICAgIEErKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHJlcGVhdGluZyBwbGFjZXNcbiAgICAgICAgICAgIGlmIChCW0FdID09PSAnKCcgJiYgQltBICsgMl0gPT09ICcpJyB8fCBCW0FdID09PSBcIidcIiAmJiBCW0EgKyAyXSA9PT0gXCInXCIpIHtcbiAgICAgICAgICAgICAgeCA9IGFzc2lnbihCW0EgKyAxXSwgcyk7XG4gICAgICAgICAgICAgIHogPSBNYXRoLnBvdygxMCwgQltBICsgMV0ubGVuZ3RoKSAtIDE7XG4gICAgICAgICAgICAgIEEgKz0gMztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoQltBICsgMV0gPT09ICcvJyB8fCBCW0EgKyAxXSA9PT0gJzonKSB7IC8vIENoZWNrIGZvciBhIHNpbXBsZSBmcmFjdGlvbiBcIjEyMy80NTZcIiBvciBcIjEyMzo0NTZcIlxuICAgICAgICAgICAgdyA9IGFzc2lnbihCW0FdLCBzKTtcbiAgICAgICAgICAgIHkgPSBhc3NpZ24oQltBICsgMl0sIDEpO1xuICAgICAgICAgICAgQSArPSAzO1xuICAgICAgICAgIH0gZWxzZSBpZiAoQltBICsgM10gPT09ICcvJyAmJiBCW0EgKyAxXSA9PT0gJyAnKSB7IC8vIENoZWNrIGZvciBhIGNvbXBsZXggZnJhY3Rpb24gXCIxMjMgMS8yXCJcbiAgICAgICAgICAgIHYgPSBhc3NpZ24oQltBXSwgcyk7XG4gICAgICAgICAgICB3ID0gYXNzaWduKEJbQSArIDJdLCBzKTtcbiAgICAgICAgICAgIHkgPSBhc3NpZ24oQltBICsgNF0sIDEpO1xuICAgICAgICAgICAgQSArPSA1O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChCLmxlbmd0aCA8PSBBKSB7IC8vIENoZWNrIGZvciBtb3JlIHRva2VucyBvbiB0aGUgc3RhY2tcbiAgICAgICAgICAgIGQgPSB5ICogejtcbiAgICAgICAgICAgIHMgPSAvKiB2b2lkICovXG4gICAgICAgICAgICAgICAgICAgIG4gPSB4ICsgZCAqIHYgKyB6ICogdztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8qIEZhbGwgdGhyb3VnaCBvbiBlcnJvciAqL1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3dJbnZhbGlkUGFyYW0oKTtcbiAgICAgIH1cblxuICAgIGlmIChkID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRGl2aXNpb25CeVplcm8oKTtcbiAgICB9XG5cbiAgICBQW1wic1wiXSA9IHMgPCAwID8gLTEgOiAxO1xuICAgIFBbXCJuXCJdID0gTWF0aC5hYnMobik7XG4gICAgUFtcImRcIl0gPSBNYXRoLmFicyhkKTtcbiAgfTtcblxuICBmdW5jdGlvbiBtb2Rwb3coYiwgZSwgbSkge1xuXG4gICAgdmFyIHIgPSAxO1xuICAgIGZvciAoOyBlID4gMDsgYiA9IChiICogYikgJSBtLCBlID4+PSAxKSB7XG5cbiAgICAgIGlmIChlICYgMSkge1xuICAgICAgICByID0gKHIgKiBiKSAlIG07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9XG5cblxuICBmdW5jdGlvbiBjeWNsZUxlbihuLCBkKSB7XG5cbiAgICBmb3IgKDsgZCAlIDIgPT09IDA7XG4gICAgICAgICAgICBkIC89IDIpIHtcbiAgICB9XG5cbiAgICBmb3IgKDsgZCAlIDUgPT09IDA7XG4gICAgICAgICAgICBkIC89IDUpIHtcbiAgICB9XG5cbiAgICBpZiAoZCA9PT0gMSkgLy8gQ2F0Y2ggbm9uLWN5Y2xpYyBudW1iZXJzXG4gICAgICByZXR1cm4gMDtcblxuICAgIC8vIElmIHdlIHdvdWxkIGxpa2UgdG8gY29tcHV0ZSByZWFsbHkgbGFyZ2UgbnVtYmVycyBxdWlja2VyLCB3ZSBjb3VsZCBtYWtlIHVzZSBvZiBGZXJtYXQncyBsaXR0bGUgdGhlb3JlbTpcbiAgICAvLyAxMF4oZC0xKSAlIGQgPT0gMVxuICAgIC8vIEhvd2V2ZXIsIHdlIGRvbid0IG5lZWQgc3VjaCBsYXJnZSBudW1iZXJzIGFuZCBNQVhfQ1lDTEVfTEVOIHNob3VsZCBiZSB0aGUgY2Fwc3RvbmUsXG4gICAgLy8gYXMgd2Ugd2FudCB0byB0cmFuc2xhdGUgdGhlIG51bWJlcnMgdG8gc3RyaW5ncy5cblxuICAgIHZhciByZW0gPSAxMCAlIGQ7XG4gICAgdmFyIHQgPSAxO1xuXG4gICAgZm9yICg7IHJlbSAhPT0gMTsgdCsrKSB7XG4gICAgICByZW0gPSByZW0gKiAxMCAlIGQ7XG5cbiAgICAgIGlmICh0ID4gTUFYX0NZQ0xFX0xFTilcbiAgICAgICAgcmV0dXJuIDA7IC8vIFJldHVybmluZyAwIGhlcmUgbWVhbnMgdGhhdCB3ZSBkb24ndCBwcmludCBpdCBhcyBhIGN5Y2xpYyBudW1iZXIuIEl0J3MgbGlrZWx5IHRoYXQgdGhlIGFuc3dlciBpcyBgZC0xYFxuICAgIH1cbiAgICByZXR1cm4gdDtcbiAgfVxuXG5cbiAgICAgZnVuY3Rpb24gY3ljbGVTdGFydChuLCBkLCBsZW4pIHtcblxuICAgIHZhciByZW0xID0gMTtcbiAgICB2YXIgcmVtMiA9IG1vZHBvdygxMCwgbGVuLCBkKTtcblxuICAgIGZvciAodmFyIHQgPSAwOyB0IDwgMzAwOyB0KyspIHsgLy8gcyA8IH5sb2cxMChOdW1iZXIuTUFYX1ZBTFVFKVxuICAgICAgLy8gU29sdmUgMTBecyA9PSAxMF4ocyt0KSAobW9kIGQpXG5cbiAgICAgIGlmIChyZW0xID09PSByZW0yKVxuICAgICAgICByZXR1cm4gdDtcblxuICAgICAgcmVtMSA9IHJlbTEgKiAxMCAlIGQ7XG4gICAgICByZW0yID0gcmVtMiAqIDEwICUgZDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBnY2QoYSwgYikge1xuXG4gICAgaWYgKCFhKVxuICAgICAgcmV0dXJuIGI7XG4gICAgaWYgKCFiKVxuICAgICAgcmV0dXJuIGE7XG5cbiAgICB3aGlsZSAoMSkge1xuICAgICAgYSAlPSBiO1xuICAgICAgaWYgKCFhKVxuICAgICAgICByZXR1cm4gYjtcbiAgICAgIGIgJT0gYTtcbiAgICAgIGlmICghYilcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBNb2R1bGUgY29uc3RydWN0b3JcbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7bnVtYmVyfEZyYWN0aW9uPX0gYVxuICAgKiBAcGFyYW0ge251bWJlcj19IGJcbiAgICovXG4gIGZ1bmN0aW9uIEZyYWN0aW9uKGEsIGIpIHtcblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGcmFjdGlvbikpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oYSwgYik7XG4gICAgfVxuXG4gICAgcGFyc2UoYSwgYik7XG5cbiAgICBpZiAoRnJhY3Rpb25bJ1JFRFVDRSddKSB7XG4gICAgICBhID0gZ2NkKFBbXCJkXCJdLCBQW1wiblwiXSk7IC8vIEFidXNlIGFcbiAgICB9IGVsc2Uge1xuICAgICAgYSA9IDE7XG4gICAgfVxuXG4gICAgdGhpc1tcInNcIl0gPSBQW1wic1wiXTtcbiAgICB0aGlzW1wiblwiXSA9IFBbXCJuXCJdIC8gYTtcbiAgICB0aGlzW1wiZFwiXSA9IFBbXCJkXCJdIC8gYTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCb29sZWFuIGdsb2JhbCB2YXJpYWJsZSB0byBiZSBhYmxlIHRvIGRpc2FibGUgYXV0b21hdGljIHJlZHVjdGlvbiBvZiB0aGUgZnJhY3Rpb25cbiAgICpcbiAgICovXG4gIEZyYWN0aW9uWydSRURVQ0UnXSA9IDE7XG5cbiAgRnJhY3Rpb24ucHJvdG90eXBlID0ge1xuXG4gICAgXCJzXCI6IDEsXG4gICAgXCJuXCI6IDAsXG4gICAgXCJkXCI6IDEsXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhYnNvbHV0ZSB2YWx1ZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigtNCkuYWJzKCkgPT4gNFxuICAgICAqKi9cbiAgICBcImFic1wiOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih0aGlzW1wiblwiXSwgdGhpc1tcImRcIl0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnZlcnRzIHRoZSBzaWduIG9mIHRoZSBjdXJyZW50IGZyYWN0aW9uXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKC00KS5uZWcoKSA9PiA0XG4gICAgICoqL1xuICAgIFwibmVnXCI6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKC10aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdLCB0aGlzW1wiZFwiXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oe246IDIsIGQ6IDN9KS5hZGQoXCIxNC45XCIpID0+IDQ2NyAvIDMwXG4gICAgICoqL1xuICAgIFwiYWRkXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICAgICAgICB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdICogUFtcImRcIl0gKyBQW1wic1wiXSAqIHRoaXNbXCJkXCJdICogUFtcIm5cIl0sXG4gICAgICAgICAgICAgIHRoaXNbXCJkXCJdICogUFtcImRcIl1cbiAgICAgICAgICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3RzIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKHtuOiAyLCBkOiAzfSkuYWRkKFwiMTQuOVwiKSA9PiAtNDI3IC8gMzBcbiAgICAgKiovXG4gICAgXCJzdWJcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oXG4gICAgICAgICAgICAgIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSAtIFBbXCJzXCJdICogdGhpc1tcImRcIl0gKiBQW1wiblwiXSxcbiAgICAgICAgICAgICAgdGhpc1tcImRcIl0gKiBQW1wiZFwiXVxuICAgICAgICAgICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiLTE3LigzNDUpXCIpLm11bCgzKSA9PiA1Nzc2IC8gMTExXG4gICAgICoqL1xuICAgIFwibXVsXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICAgICAgICB0aGlzW1wic1wiXSAqIFBbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiblwiXSxcbiAgICAgICAgICAgICAgdGhpc1tcImRcIl0gKiBQW1wiZFwiXVxuICAgICAgICAgICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGVzIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiLTE3LigzNDUpXCIpLmludmVyc2UoKS5kaXYoMylcbiAgICAgKiovXG4gICAgXCJkaXZcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oXG4gICAgICAgICAgICAgIHRoaXNbXCJzXCJdICogUFtcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdLFxuICAgICAgICAgICAgICB0aGlzW1wiZFwiXSAqIFBbXCJuXCJdXG4gICAgICAgICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgYWN0dWFsIG9iamVjdFxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIi0xNy4oMzQ1KVwiKS5jbG9uZSgpXG4gICAgICoqL1xuICAgIFwiY2xvbmVcIjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHRoaXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBtb2R1bG8gb2YgdHdvIHJhdGlvbmFsIG51bWJlcnMgLSBhIG1vcmUgcHJlY2lzZSBmbW9kXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKCc0LigzKScpLm1vZChbNywgOF0pID0+ICgxMy8zKSAlICg3LzgpID0gKDUvNilcbiAgICAgKiovXG4gICAgXCJtb2RcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBpZiAoaXNOYU4odGhpc1snbiddKSB8fCBpc05hTih0aGlzWydkJ10pKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTmFOKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gJSB0aGlzW1wiZFwiXSwgMSk7XG4gICAgICB9XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgaWYgKDAgPT09IFBbXCJuXCJdICYmIDAgPT09IHRoaXNbXCJkXCJdKSB7XG4gICAgICAgIEZyYWN0aW9uKDAsIDApOyAvLyBUaHJvdyBEaXZpc2lvbkJ5WmVyb1xuICAgICAgfVxuXG4gICAgICAvKlxuICAgICAgICogRmlyc3Qgc2lsbHkgYXR0ZW1wdCwga2luZGEgc2xvd1xuICAgICAgICpcbiAgICAgICByZXR1cm4gdGhhdFtcInN1YlwiXSh7XG4gICAgICAgXCJuXCI6IG51bVtcIm5cIl0gKiBNYXRoLmZsb29yKCh0aGlzLm4gLyB0aGlzLmQpIC8gKG51bS5uIC8gbnVtLmQpKSxcbiAgICAgICBcImRcIjogbnVtW1wiZFwiXSxcbiAgICAgICBcInNcIjogdGhpc1tcInNcIl1cbiAgICAgICB9KTsqL1xuXG4gICAgICAvKlxuICAgICAgICogTmV3IGF0dGVtcHQ6IGExIC8gYjEgPSBhMiAvIGIyICogcSArIHJcbiAgICAgICAqID0+IGIyICogYTEgPSBhMiAqIGIxICogcSArIGIxICogYjIgKiByXG4gICAgICAgKiA9PiAoYjIgKiBhMSAlIGEyICogYjEpIC8gKGIxICogYjIpXG4gICAgICAgKi9cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oXG4gICAgICAgICAgICAgIHRoaXNbXCJzXCJdICogKFBbXCJkXCJdICogdGhpc1tcIm5cIl0pICUgKFBbXCJuXCJdICogdGhpc1tcImRcIl0pLFxuICAgICAgICAgICAgICBQW1wiZFwiXSAqIHRoaXNbXCJkXCJdXG4gICAgICAgICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGZyYWN0aW9uYWwgZ2NkIG9mIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDUsOCkuZ2NkKDMsNykgPT4gMS81NlxuICAgICAqL1xuICAgIFwiZ2NkXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG5cbiAgICAgIC8vIGdjZChhIC8gYiwgYyAvIGQpID0gZ2NkKGEsIGMpIC8gbGNtKGIsIGQpXG5cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oZ2NkKFBbXCJuXCJdLCB0aGlzW1wiblwiXSkgKiBnY2QoUFtcImRcIl0sIHRoaXNbXCJkXCJdKSwgUFtcImRcIl0gKiB0aGlzW1wiZFwiXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGZyYWN0aW9uYWwgbGNtIG9mIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDUsOCkubGNtKDMsNykgPT4gMTVcbiAgICAgKi9cbiAgICBcImxjbVwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuXG4gICAgICAvLyBsY20oYSAvIGIsIGMgLyBkKSA9IGxjbShhLCBjKSAvIGdjZChiLCBkKVxuXG4gICAgICBpZiAoUFtcIm5cIl0gPT09IDAgJiYgdGhpc1tcIm5cIl0gPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oUFtcIm5cIl0gKiB0aGlzW1wiblwiXSwgZ2NkKFBbXCJuXCJdLCB0aGlzW1wiblwiXSkgKiBnY2QoUFtcImRcIl0sIHRoaXNbXCJkXCJdKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGNlaWwgb2YgYSByYXRpb25hbCBudW1iZXJcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oJzQuKDMpJykuY2VpbCgpID0+ICg1IC8gMSlcbiAgICAgKiovXG4gICAgXCJjZWlsXCI6IGZ1bmN0aW9uKHBsYWNlcykge1xuXG4gICAgICBwbGFjZXMgPSBNYXRoLnBvdygxMCwgcGxhY2VzIHx8IDApO1xuXG4gICAgICBpZiAoaXNOYU4odGhpc1tcIm5cIl0pIHx8IGlzTmFOKHRoaXNbXCJkXCJdKSkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE5hTik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE1hdGguY2VpbChwbGFjZXMgKiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl0pLCBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBmbG9vciBvZiBhIHJhdGlvbmFsIG51bWJlclxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbignNC4oMyknKS5mbG9vcigpID0+ICg0IC8gMSlcbiAgICAgKiovXG4gICAgXCJmbG9vclwiOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbXCJuXCJdKSB8fCBpc05hTih0aGlzW1wiZFwiXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihOYU4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihNYXRoLmZsb29yKHBsYWNlcyAqIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gLyB0aGlzW1wiZFwiXSksIHBsYWNlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdW5kcyBhIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oJzQuKDMpJykucm91bmQoKSA9PiAoNCAvIDEpXG4gICAgICoqL1xuICAgIFwicm91bmRcIjogZnVuY3Rpb24ocGxhY2VzKSB7XG5cbiAgICAgIHBsYWNlcyA9IE1hdGgucG93KDEwLCBwbGFjZXMgfHwgMCk7XG5cbiAgICAgIGlmIChpc05hTih0aGlzW1wiblwiXSkgfHwgaXNOYU4odGhpc1tcImRcIl0pKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTmFOKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTWF0aC5yb3VuZChwbGFjZXMgKiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl0pLCBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnZlcnNlIG9mIHRoZSBmcmFjdGlvbiwgbWVhbnMgbnVtZXJhdG9yIGFuZCBkZW51bWVyYXRvciBhcmUgZXhjaGFuZ2VkXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFstMywgNF0pLmludmVyc2UoKSA9PiAtNCAvIDNcbiAgICAgKiovXG4gICAgXCJpbnZlcnNlXCI6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHRoaXNbXCJzXCJdICogdGhpc1tcImRcIl0sIHRoaXNbXCJuXCJdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZnJhY3Rpb24gdG8gc29tZSBpbnRlZ2VyIGV4cG9uZW50XG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKC0xLDIpLnBvdygtMykgPT4gLThcbiAgICAgKi9cbiAgICBcInBvd1wiOiBmdW5jdGlvbihtKSB7XG5cbiAgICAgIGlmIChtIDwgMCkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE1hdGgucG93KHRoaXNbJ3MnXSAqIHRoaXNbXCJkXCJdLCAtbSksIE1hdGgucG93KHRoaXNbXCJuXCJdLCAtbSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihNYXRoLnBvdyh0aGlzWydzJ10gKiB0aGlzW1wiblwiXSwgbSksIE1hdGgucG93KHRoaXNbXCJkXCJdLCBtKSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHR3byByYXRpb25hbCBudW1iZXJzIGFyZSB0aGUgc2FtZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigxOS42KS5lcXVhbHMoWzk4LCA1XSk7XG4gICAgICoqL1xuICAgIFwiZXF1YWxzXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdID09PSBQW1wic1wiXSAqIFBbXCJuXCJdICogdGhpc1tcImRcIl07IC8vIFNhbWUgYXMgY29tcGFyZSgpID09PSAwXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHR3byByYXRpb25hbCBudW1iZXJzIGFyZSB0aGUgc2FtZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigxOS42KS5lcXVhbHMoWzk4LCA1XSk7XG4gICAgICoqL1xuICAgIFwiY29tcGFyZVwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgdmFyIHQgPSAodGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdIC0gUFtcInNcIl0gKiBQW1wiblwiXSAqIHRoaXNbXCJkXCJdKTtcbiAgICAgIHJldHVybiAoMCA8IHQpIC0gKHQgPCAwKTtcbiAgICB9LFxuXG4gICAgXCJzaW1wbGlmeVwiOiBmdW5jdGlvbihlcHMpIHtcblxuICAgICAgLy8gRmlyc3QgbmFpdmUgaW1wbGVtZW50YXRpb24sIG5lZWRzIGltcHJvdmVtZW50XG5cbiAgICAgIGlmIChpc05hTih0aGlzWyduJ10pIHx8IGlzTmFOKHRoaXNbJ2QnXSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ID0gdGhpc1snYWJzJ10oKVsndG9Db250aW51ZWQnXSgpO1xuXG4gICAgICBlcHMgPSBlcHMgfHwgMC4wMDE7XG5cbiAgICAgIGZ1bmN0aW9uIHJlYyhhKSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKGFbMF0pO1xuICAgICAgICByZXR1cm4gcmVjKGEuc2xpY2UoMSkpWydpbnZlcnNlJ10oKVsnYWRkJ10oYVswXSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdG1wID0gcmVjKGNvbnQuc2xpY2UoMCwgaSArIDEpKTtcbiAgICAgICAgaWYgKHRtcFsnc3ViJ10odGhpc1snYWJzJ10oKSlbJ2FicyddKCkudmFsdWVPZigpIDwgZXBzKSB7XG4gICAgICAgICAgcmV0dXJuIHRtcFsnbXVsJ10odGhpc1sncyddKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHR3byByYXRpb25hbCBudW1iZXJzIGFyZSBkaXZpc2libGVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oMTkuNikuZGl2aXNpYmxlKDEuNSk7XG4gICAgICovXG4gICAgXCJkaXZpc2libGVcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiAhKCEoUFtcIm5cIl0gKiB0aGlzW1wiZFwiXSkgfHwgKCh0aGlzW1wiblwiXSAqIFBbXCJkXCJdKSAlIChQW1wiblwiXSAqIHRoaXNbXCJkXCJdKSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgZGVjaW1hbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgZnJhY3Rpb25cbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxMDAuJzkxODIzJ1wiKS52YWx1ZU9mKCkgPT4gMTAwLjkxODIzOTE4MjM5MTgzXG4gICAgICoqL1xuICAgICd2YWx1ZU9mJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmctZnJhY3Rpb24gcmVwcmVzZW50YXRpb24gb2YgYSBGcmFjdGlvbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxLiczJ1wiKS50b0ZyYWN0aW9uKCkgPT4gXCI0IDEvM1wiXG4gICAgICoqL1xuICAgICd0b0ZyYWN0aW9uJzogZnVuY3Rpb24oZXhjbHVkZVdob2xlKSB7XG5cbiAgICAgIHZhciB3aG9sZSwgc3RyID0gXCJcIjtcbiAgICAgIHZhciBuID0gdGhpc1tcIm5cIl07XG4gICAgICB2YXIgZCA9IHRoaXNbXCJkXCJdO1xuICAgICAgaWYgKHRoaXNbXCJzXCJdIDwgMCkge1xuICAgICAgICBzdHIgKz0gJy0nO1xuICAgICAgfVxuXG4gICAgICBpZiAoZCA9PT0gMSkge1xuICAgICAgICBzdHIgKz0gbjtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgaWYgKGV4Y2x1ZGVXaG9sZSAmJiAod2hvbGUgPSBNYXRoLmZsb29yKG4gLyBkKSkgPiAwKSB7XG4gICAgICAgICAgc3RyICs9IHdob2xlO1xuICAgICAgICAgIHN0ciArPSBcIiBcIjtcbiAgICAgICAgICBuICU9IGQ7XG4gICAgICAgIH1cblxuICAgICAgICBzdHIgKz0gbjtcbiAgICAgICAgc3RyICs9ICcvJztcbiAgICAgICAgc3RyICs9IGQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGF0ZXggcmVwcmVzZW50YXRpb24gb2YgYSBGcmFjdGlvbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxLiczJ1wiKS50b0xhdGV4KCkgPT4gXCJcXGZyYWN7NH17M31cIlxuICAgICAqKi9cbiAgICAndG9MYXRleCc6IGZ1bmN0aW9uKGV4Y2x1ZGVXaG9sZSkge1xuXG4gICAgICB2YXIgd2hvbGUsIHN0ciA9IFwiXCI7XG4gICAgICB2YXIgbiA9IHRoaXNbXCJuXCJdO1xuICAgICAgdmFyIGQgPSB0aGlzW1wiZFwiXTtcbiAgICAgIGlmICh0aGlzW1wic1wiXSA8IDApIHtcbiAgICAgICAgc3RyICs9ICctJztcbiAgICAgIH1cblxuICAgICAgaWYgKGQgPT09IDEpIHtcbiAgICAgICAgc3RyICs9IG47XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIGlmIChleGNsdWRlV2hvbGUgJiYgKHdob2xlID0gTWF0aC5mbG9vcihuIC8gZCkpID4gMCkge1xuICAgICAgICAgIHN0ciArPSB3aG9sZTtcbiAgICAgICAgICBuICU9IGQ7XG4gICAgICAgIH1cblxuICAgICAgICBzdHIgKz0gXCJcXFxcZnJhY3tcIjtcbiAgICAgICAgc3RyICs9IG47XG4gICAgICAgIHN0ciArPSAnfXsnO1xuICAgICAgICBzdHIgKz0gZDtcbiAgICAgICAgc3RyICs9ICd9JztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgY29udGludWVkIGZyYWN0aW9uIGVsZW1lbnRzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiNy84XCIpLnRvQ29udGludWVkKCkgPT4gWzAsMSw3XVxuICAgICAqL1xuICAgICd0b0NvbnRpbnVlZCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgdDtcbiAgICAgIHZhciBhID0gdGhpc1snbiddO1xuICAgICAgdmFyIGIgPSB0aGlzWydkJ107XG4gICAgICB2YXIgcmVzID0gW107XG5cbiAgICAgIGlmIChpc05hTih0aGlzWyduJ10pIHx8IGlzTmFOKHRoaXNbJ2QnXSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH1cblxuICAgICAgZG8ge1xuICAgICAgICByZXMucHVzaChNYXRoLmZsb29yKGEgLyBiKSk7XG4gICAgICAgIHQgPSBhICUgYjtcbiAgICAgICAgYSA9IGI7XG4gICAgICAgIGIgPSB0O1xuICAgICAgfSB3aGlsZSAoYSAhPT0gMSk7XG5cbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBmcmFjdGlvbiB3aXRoIGFsbCBkaWdpdHNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxMDAuJzkxODIzJ1wiKS50b1N0cmluZygpID0+IFwiMTAwLig5MTgyMylcIlxuICAgICAqKi9cbiAgICAndG9TdHJpbmcnOiBmdW5jdGlvbihkZWMpIHtcblxuICAgICAgdmFyIGc7XG4gICAgICB2YXIgTiA9IHRoaXNbXCJuXCJdO1xuICAgICAgdmFyIEQgPSB0aGlzW1wiZFwiXTtcblxuICAgICAgaWYgKGlzTmFOKE4pIHx8IGlzTmFOKEQpKSB7XG4gICAgICAgIHJldHVybiBcIk5hTlwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoIUZyYWN0aW9uWydSRURVQ0UnXSkge1xuICAgICAgICBnID0gZ2NkKE4sIEQpO1xuICAgICAgICBOIC89IGc7XG4gICAgICAgIEQgLz0gZztcbiAgICAgIH1cblxuICAgICAgZGVjID0gZGVjIHx8IDE1OyAvLyAxNSA9IGRlY2ltYWwgcGxhY2VzIHdoZW4gbm8gcmVwaXRhdGlvblxuXG4gICAgICB2YXIgY3ljTGVuID0gY3ljbGVMZW4oTiwgRCk7IC8vIEN5Y2xlIGxlbmd0aFxuICAgICAgdmFyIGN5Y09mZiA9IGN5Y2xlU3RhcnQoTiwgRCwgY3ljTGVuKTsgLy8gQ3ljbGUgc3RhcnRcblxuICAgICAgdmFyIHN0ciA9IHRoaXNbJ3MnXSA9PT0gLTEgPyBcIi1cIiA6IFwiXCI7XG5cbiAgICAgIHN0ciArPSBOIC8gRCB8IDA7XG5cbiAgICAgIE4gJT0gRDtcbiAgICAgIE4gKj0gMTA7XG5cbiAgICAgIGlmIChOKVxuICAgICAgICBzdHIgKz0gXCIuXCI7XG5cbiAgICAgIGlmIChjeWNMZW4pIHtcblxuICAgICAgICBmb3IgKHZhciBpID0gY3ljT2ZmOyBpLS07ICkge1xuICAgICAgICAgIHN0ciArPSBOIC8gRCB8IDA7XG4gICAgICAgICAgTiAlPSBEO1xuICAgICAgICAgIE4gKj0gMTA7XG4gICAgICAgIH1cbiAgICAgICAgc3RyICs9IFwiKFwiO1xuICAgICAgICBmb3IgKHZhciBpID0gY3ljTGVuOyBpLS07ICkge1xuICAgICAgICAgIHN0ciArPSBOIC8gRCB8IDA7XG4gICAgICAgICAgTiAlPSBEO1xuICAgICAgICAgIE4gKj0gMTA7XG4gICAgICAgIH1cbiAgICAgICAgc3RyICs9IFwiKVwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IGRlYzsgTiAmJiBpLS07ICkge1xuICAgICAgICAgIHN0ciArPSBOIC8gRCB8IDA7XG4gICAgICAgICAgTiAlPSBEO1xuICAgICAgICAgIE4gKj0gMTA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICB9O1xuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lW1wiYW1kXCJdKSB7XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBGcmFjdGlvbjtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyd2YWx1ZSc6IHRydWV9KTtcbiAgICBGcmFjdGlvblsnZGVmYXVsdCddID0gRnJhY3Rpb247XG4gICAgRnJhY3Rpb25bJ0ZyYWN0aW9uJ10gPSBGcmFjdGlvbjtcbiAgICBtb2R1bGVbJ2V4cG9ydHMnXSA9IEZyYWN0aW9uO1xuICB9IGVsc2Uge1xuICAgIHJvb3RbJ0ZyYWN0aW9uJ10gPSBGcmFjdGlvbjtcbiAgfVxuXG59KSh0aGlzKTtcbiIsImltcG9ydCBGcmFjdGlvbiBmcm9tICdmcmFjdGlvbi5qcyc7XG5cbmV4cG9ydCBuYW1lc3BhY2UgSGVscGVycyB7XG4gIC8qKlxuICAgKiBFc2NhcGUgYSBzdHJpbmcgdG8gYmUgdXNlZCBpbiByZWd1bGFyIGV4cHJlc3Npb24uXG4gICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvR3VpZGUvUmVndWxhcl9FeHByZXNzaW9uc1xuICAgKlxuICAgKiBAcGFyYW0gc3RyOiBzdHJpbmcgdG8gZXNjYXBlXG4gICAqIEByZXR1cm5zIGVzY2FwZWQsIFJlZ0V4cC1yZWFkeSBzdHJpbmdcbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKTsgLy8gJCYgbWVhbnMgdGhlIHdob2xlIG1hdGNoZWQgc3RyaW5nXG4gIH1cblxuICAvKipcbiAgICogR2V0IHByaW1lcyB1cCB0byBhIGdpdmVuIGludGVnZXIuXG4gICAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMjI4NzU5OS8yMDkxODRcbiAgICogVXNlcyB0aGUgU2lldmUgb2YgRXJhdG9zdGhlbmVzIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NpZXZlX29mX0VyYXRvc3RoZW5lc1xuICAgKlxuICAgKiBAcGFyYW0gbWF4OiBudW1iZXIgdG8gcmVhY2hcbiAgICogQHJldHVybnMgYWxsIHByaW1lcyB1cCB0byBtYXhcbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBwcmltZXMobWF4OiBudW1iZXIpOiBudW1iZXJbXSB7XG4gICAgY29uc3Qgc2lldmU6IGJvb2xlYW5bXSA9IFtdLCBwcmltZXM6IG51bWJlcltdID0gW107XG4gICAgZm9yIChsZXQgaSA9IDI7IGkgPD0gbWF4OyArK2kpIHtcbiAgICAgIGlmICghc2lldmVbaV0pIHtcbiAgICAgICAgLy8gaSBoYXMgbm90IGJlZW4gbWFya2VkIC0tIGl0IGlzIHByaW1lXG4gICAgICAgIHByaW1lcy5wdXNoKGkpO1xuICAgICAgICBmb3IgKGxldCBqID0gaSA8PCAxOyBqIDw9IG1heDsgaiArPSBpKSB7XG4gICAgICAgICAgIHNpZXZlW2pdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJpbWVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuc3VyZSBhIHxmcmFjdGlvbnwgPCAxIG9yID4gMS5cbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBmbGlwRnJhY3Rpb24oZjogRnJhY3Rpb24sIGdyZWF0ZXJUaGFuT25lOiBib29sZWFuID0gZmFsc2UpOiBGcmFjdGlvbiB7XG4gICAgcmV0dXJuIGdyZWF0ZXJUaGFuT25lID9cbiAgICAgIChmLmFicygpLmNvbXBhcmUoMSkgPCAwID8gZi5pbnZlcnNlKCkgOiBmKSA6XG4gICAgICAoZi5hYnMoKS5jb21wYXJlKDEpID4gMCA/IGYuaW52ZXJzZSgpIDogZikgO1xuICB9XG5cbiAgLyoqXG4gICAqIEJpbmFyeSBzZWFyY2ggaW4gYW4gYXJyYXkuXG4gICAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yOTAxODc0NS8yMDkxODRcbiAgICpcbiAgICogQHBhcmFtIGFyOiBlbGVtZW50cyBhcnJheSB0aGF0IGlzIHNvcnRlZFxuICAgKiBAcGFyYW0gZWw6IHRhcmdldCBlbGVtZW50XG4gICAqIEBwYXJhbSBjb21wOiBjb21wYXJpc29uIGZ1bmN0aW9uIChhLGIpID0+IG4gd2l0aFxuICAgKiAgICAgICAgbiA+IDAgaWYgYSA+IGJcbiAgICogICAgICAgIG4gPCAwIGlmIGEgPCBiXG4gICAqICAgICAgICBuID0gMCBpZiBhID0gYlxuICAgKiBAcmV0dXJucyBpbmRleCBtID49IDAgaWYgbWF0Y2ggaXMgZm91bmQsIG0gPCAwIGlmIG5vdCBmb3VuZCB3aXRoIGluc2VydGlvbiBwb2ludCA9IC1tLTEuXG4gICAqL1xuICBleHBvcnQgZnVuY3Rpb24gYmluYXJ5U2VhcmNoPFQ+KGFyOiBBcnJheTxUPiwgZWw6IFQsIGNvbXA6IChhOiBULCBiOiBUKSA9PiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCBtID0gMDtcbiAgICBsZXQgbiA9IGFyLmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKG0gPD0gbikge1xuICAgICAgY29uc3QgayA9IChuICsgbSkgPj4gMTtcbiAgICAgIGNvbnN0IGNtcCA9IGNvbXAoZWwsIGFyW2tdKTtcbiAgICAgIGlmIChjbXAgPiAwKSB7XG4gICAgICAgIG0gPSBrICsgMTtcbiAgICAgIH0gZWxzZSBpZiAoY21wIDwgMCkge1xuICAgICAgICBuID0gayAtIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIH5tO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGFycmF5IGVxdWFsaXR5LlxuICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3EvNzgzNzQ1Ni8yMDkxODRcbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBhcnJheUVxdWFsPFQ+KGFyMTogQXJyYXk8VD4sIGFyMjogQXJyYXk8VD4sIGNvbXA6IChhOiBULCBiOiBUKSA9PiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgYXIxLmxlbmd0aCA9PT0gYXIyLmxlbmd0aCAmJlxuICAgICAgYXIxLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IGNvbXAodmFsdWUsIGFyMltpbmRleF0pID09PSAwKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGFycmF5IHdpdGggdW5pcXVlIHZhbHVlcy5cbiAgICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE3OTAzMDE4LzIwOTE4NFxuICAgKi9cbiAgZXhwb3J0IGZ1bmN0aW9uIGFycmF5VW5pcXVlPFQ+KGFyOiBBcnJheTxUPik6IEFycmF5PFQ+IHtcbiAgICByZXR1cm4gWy4uLm5ldyBTZXQoYXIpXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbHdheXMtcG9zaXRpdmUgTW9kdWxvIGZ1bmN0aW9uLiBUaGUgYnVpbHQtaW4gJSBvcGVyYXRvciBjb21wdXRlcyB0aGUgUmVtYWluZGVyLlxuICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvUmVtYWluZGVyXG4gICAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzMyMzYwOC8yMDkxODRcbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBtb2QobjogbnVtYmVyLCBtOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiAoKG4gJSBtKSArIG0pICUgbTtcbiAgfVxufVxuIiwiaW1wb3J0IEZyYWN0aW9uIGZyb20gJ2ZyYWN0aW9uLmpzJztcblxuLyoqXG4gKiBJTlRFUlZBTFNcbiAqXG4gKiBUaGUgaW50ZXJ2YWwgaXMgdGhlIGJhc2ljIGJ1aWxkaW5nIGJsb2NrIG9mIG11c2ljLlxuICogSXQgaXMgdGhlIGRpZmZlcmVuY2UgaW4gcGl0Y2ggYmV0d2VlbiB0d28gc291bmRzLlxuICpcbiAqIEl0IGNhbiBiZSByZXByZXNlbnRlZCBhczpcbiAqIC0gYSBmcmVxdWVuY3kgcmF0aW9cbiAqIC0gYSBudW1iZXIgb2YgY2VudHMgKDEvMTAwIG9mIGFuIGVxdWFsbHkgdGVtcGVyZWQgc2VtaXRvbmUpXG4gKiAtIGEgbnVtYmVyIG9mIHNhdmFydHMgKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NhdmFydClcbiAqIC0gLi4uYW5kIG1vcmVcbiAqXG4gKiBJdCBjYW4gYWxzbyBiZSBuYW1lZCwgZGVwZW5kaW5nIG9uIHRoZSBub21lbmNsYXR1cmUgYmVpbmcgdXNlZC5cbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnRlcnZhbCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByYXRpbzogRnJhY3Rpb24pIHt9XG4gIGdldCBjZW50cygpIHsgcmV0dXJuIDEyMDAgKiBNYXRoLmxvZzIodGhpcy5yYXRpby52YWx1ZU9mKCkpOyB9XG4gIGdldCBzYXZhcnRzKCkgeyByZXR1cm4gMTAwMCAqIE1hdGgubG9nMTAodGhpcy5yYXRpby52YWx1ZU9mKCkpOyB9XG4gIGRpZmZlcmVuY2UocmVmZXJlbmNlOiBJbnRlcnZhbCkgeyByZXR1cm4gbmV3IEludGVydmFsKHRoaXMucmF0aW8uZGl2KHJlZmVyZW5jZS5yYXRpbykpOyB9XG4gIHN0YXRpYyBmcm9tUmF0aW8ocmF0aW86IHN0cmluZykgeyByZXR1cm4gbmV3IEludGVydmFsKG5ldyBGcmFjdGlvbihyYXRpbykpOyB9XG4gIHN0YXRpYyBmcm9tQ2VudHMoY2VudHM6IG51bWJlcikgeyByZXR1cm4gbmV3IEludGVydmFsKG5ldyBGcmFjdGlvbihNYXRoLnBvdygyLCBjZW50cyAvIDEyMDApKSk7IH1cbiAgc3RhdGljIGZyb21TYXZhcnRzKHNhdmFydHM6IG51bWJlcikgeyByZXR1cm4gbmV3IEludGVydmFsKG5ldyBGcmFjdGlvbihNYXRoLnBvdygxMCwgc2F2YXJ0cyAvIDEwMDApKSk7IH1cbiAgc3RhdGljIGNvbXBhcmUoYTogSW50ZXJ2YWwsIGI6IEludGVydmFsKSB7IHJldHVybiBhLnJhdGlvLmNvbXBhcmUoYi5yYXRpbyk7IH1cbiAgc3RhdGljIEpORCA9IG51bGw7Ly9JbnRlcnZhbC5mcm9tQ2VudHMoNSk7XG59XG4iLCJpbXBvcnQgRnJhY3Rpb24gZnJvbSAnZnJhY3Rpb24uanMnO1xuaW1wb3J0IHtIZWxwZXJzfSBmcm9tICcuL0hlbHBlcnMnO1xuaW1wb3J0IHtJbnRlcnZhbH0gZnJvbSAnLi9JbnRlcnZhbCc7XG5pbXBvcnQge0Fubm90YXRpb259IGZyb20gJy4vQW5ub3RhdGlvbic7XG5cbi8qKlxuICogVFVOSU5HIFNZU1RFTVxuICpcbiAqIEdpdmVuIGEgcmVmZXJlbmNlIHRvbmUgYW5kIGEgdGFyZ2V0IHRvbmUsIGEgdHVuaW5nIHJldHVybnMgdGhlIHJhdGlvIGJldHdlZW4gdGhlbS5cbiAqXG4gKiBUaGUgZnVuZGFtZW50YWwgaW50ZXJ2YWwgaXMgMi8xIGJldHdlZW4gdGhlIGJhc2UgdG9uZSBhbmQgaXRzIG9jdGF2ZS5cbiAqIE90aGVyIHRvbmVzIHN1YmRpdmlkZSB0aGUgb2N0YXZlIGludGVydmFsLiBBIGZpbml0ZSBudW1iZXIgb2YgdG9uZXMgTiBtYWtlIHVwIHRoZSB0dW5pbmcuXG4gKiBUb25lcyBhcmUgaW5kZXhlZCBhY2NvcmRpbmcgdG8gdGhlaXIgcmFuayBpbiB0aGUgb3JkZXJlZCBzZXF1ZW5jZSBvZiByYXRpb3NcbiAqIHRvbmUgMCA9PiByYXRpbyAxICh1bmlzb24pXG4gKiB0b25lIDEgPT4gcmF0aW8gMS5hYmMgKGZpcnN0IGludGVydmFsKVxuICogdG9uZSAyID0+IHJhdGlvIDEuZGVmIChzZWNvbmQgaW50ZXJ2YWwpXG4gKiAuLi5cbiAqIHRvbmUgTi0yID0+IHJhdGlvIDEueHl6IChuZXh0LXRvLWxhc3QgaW50ZXJ2YWwpXG4gKiB0b25lIE4tMSA9PiByYXRpbyAyIChvY3RhdmUpXG4gKlxuICogVG9uZXMgY2FuIGV4dGVuZCBiZXlvbmQgdGhlIG9jdGF2ZVxuICogZS5nLiB0b25lIE4rMSBpcyBlcXVpdmFsZW50IHRvIHRvbmUgMSwgYnV0IG9uZSBvY3RhdmUgaGlnaGVyLlxuICogSW4gYWRkaXRpb24gdG8gcmVwcmVzZW50aW5nIGEgdG9uZSBhcyBhYm92ZSwgd2UgY2FuIHJlcHJlc2VudCBpdCBieSBpdHMgXCJnZW5lcmF0b3JcIjpcbiAqIC0gaXRzIHBpdGNoIGNsYXNzIHBjIOKIiCBbMCwgTi0xXVxuICogLSBpdHMgb2N0YXZlIG8g4oiIIOKEpFxuICogc3VjaCB0aGF0IHQgPSBwYyh0KSArIE4gKiBvKHQpXG4gKi9cbmV4cG9ydCBjbGFzcyBUdW5pbmcge1xuICAvKipcbiAgICogQ09OU1RSVUNUT1JcbiAgICpcbiAgICogQHBhcmFtIGludGVydmFsczogdHVuaW5nIGludGVydmFsc1xuICAgKiBUaGUgaW50ZXJ2YWxzIHdpbGwgYmUgZ3VhcmFudGVlZCB0byBiZSBzb3J0ZWQuXG4gICAqIFRoZSBmaXJzdCBpbnRlcnZhbCB3aWxsIGJlIGd1YXJhbnRlZWQgdG8gYmUgdGhlIHVuaXNvbi5cbiAgICogVGhlIGxhc3QgaW50ZXJ2YWwgd2lsbCBiZSBjb25zaWRlcmVkIHRvIGJlIHRoZSByZXBlYXRlciAoZS5nLiAyLzEgdGhlIG9jdGF2ZSkuXG4gICAqIEBwYXJhbSBhbm5vdGF0aW9uczogbm90ZXMgYWJvdXQgdGhlIHR1bmluZ1xuICAgKi9cbiAgY29uc3RydWN0b3IocHVibGljIGludGVydmFsczogSW50ZXJ2YWxbXSwgcHVibGljIGFubm90YXRpb25zOiBBbm5vdGF0aW9uW10gPSBbXSkge1xuICAgIHRoaXMuaW50ZXJ2YWxzLnNvcnQoSW50ZXJ2YWwuY29tcGFyZSk7XG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxzWzBdLnJhdGlvLnZhbHVlT2YoKSAhPSAxKSB7XG4gICAgICB0aGlzLmludGVydmFscyA9IFtuZXcgSW50ZXJ2YWwobmV3IEZyYWN0aW9uKDEpKSwgLi4udGhpcy5pbnRlcnZhbHNdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB0dW5pbmcgZnJvbSByYXRpb3Mgb3IgY2VudHMuXG4gICAqXG4gICAqIEBwYXJhbSBpbnRlcnZhbHM6IGFuIGFycmF5IG9mIHJhdGlvcyBleHByZXNzZWQgYXMgc3RyaW5ncywgb3IgY2VudHMgZXhwcmVzc2VkIGFzIG51bWJlcnNcbiAgICogQHBhcmFtIGFubm90YXRpb25zOiBhcyBwZXIgY29uc3RydWN0b3JcbiAgICogQHJldHVybnMgdHVuaW5nIG9iamVjdFxuICAgKi9cbiAgc3RhdGljIGZyb21JbnRlcnZhbHMoaW50ZXJ2YWxzOiAobnVtYmVyfHN0cmluZylbXSwgYW5ub3RhdGlvbnM6IEFubm90YXRpb25bXSA9IFtdKSB7XG4gICAgcmV0dXJuIG5ldyBUdW5pbmcoaW50ZXJ2YWxzLm1hcChpbnRlcnZhbCA9PiB7XG4gICAgICBpZiAodHlwZW9mIGludGVydmFsID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW50ZXJ2YWwobmV3IEZyYWN0aW9uKGludGVydmFsKSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEludGVydmFsLmZyb21DZW50cyhpbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfSksIGFubm90YXRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJUyBBIFRVTklORyBUUkFOU1BPU0FCTEU/XG4gICAqXG4gICAqIEEgdHVuaW5nIGlzIGZ1bGx5IHRyYW5zcG9zYWJsZSBpZiBhbGwgb2YgaXRzIGludGVydmFsIGRpZmZlcmVuY2VzIGFyZSBlcXVhbC5cbiAgICogV2Ugd2lsbCBjb25zaWRlciBlcXVhbGl0eSB0byBiZSB3aXRoaW4gdGhlIHJhbmdlIG9mIHRoZSBcImp1c3Qgbm90aWNlYWJsZVwiIGludGVydmFsICg1IGNlbnRzKS5cbiAgICovXG4gIHByaXZhdGUgX3RyYW5zcG9zYWJsZTogYm9vbGVhbjtcbiAgZ2V0IHRyYW5zcG9zYWJsZSgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5fdHJhbnNwb3NhYmxlICE9PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLl90cmFuc3Bvc2FibGU7XG5cbiAgICBjb25zdCBmaXJzdDogSW50ZXJ2YWwgPSB0aGlzLmludGVydmFsc1sxXS5kaWZmZXJlbmNlKHRoaXMuaW50ZXJ2YWxzWzBdKTtcbiAgICByZXR1cm4gKHRoaXMuX3RyYW5zcG9zYWJsZSA9IHRoaXMuaW50ZXJ2YWxzLnNsaWNlKDEpLmV2ZXJ5KCh2LCBpKSA9PiB7XG4gICAgICBjb25zdCBuZXh0OiBJbnRlcnZhbCA9IHYuZGlmZmVyZW5jZSh0aGlzLmludGVydmFsc1tpXSk7XG4gICAgICBjb25zdCBkaWZmOiBJbnRlcnZhbCA9IG5ldyBJbnRlcnZhbChIZWxwZXJzLmZsaXBGcmFjdGlvbihuZXh0LmRpZmZlcmVuY2UoZmlyc3QpLnJhdGlvLCB0cnVlKSk7XG4gICAgICByZXR1cm4gZGlmZi5yYXRpby5jb21wYXJlKEludGVydmFsLkpORC5yYXRpbykgPCAwO1xuICAgIH0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTVEVQUyBPRiBBIFRVTklOR1xuICAgKlxuICAgKiBAcmV0dXJucyBjb3VudCBvZiB0b25lcyBpbiB0aGUgdHVuaW5nXG4gICAqL1xuICBnZXQgc3RlcHMoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnZhbHMubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPQ1RBVkUgT0YgQSBUVU5JTkdcbiAgICpcbiAgICogQHJldHVybnMgdGhlIGxhc3QgaW50ZXJ2YWwgaW4gdGhlIHR1bmluZywgd2hpY2ggaXMgY29uc2lkZXJlZCB0byBiZSB0aGUgb2N0YXZlXG4gICAqL1xuICBnZXQgb2N0YXZlKCk6IEludGVydmFsIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnZhbHNbdGhpcy5zdGVwc107XG4gIH1cblxuICAvKipcbiAgICogVFVORSBBIFRPTkVcbiAgICpcbiAgICogQHBhcmFtIHRvbmU6IHRvbmUgdG8gYmUgdHVuZWRcbiAgICogQHJldHVybnMgZnJlcXVlbmN5IHJhdGlvIG9mIHRoZSB0b25lIHdpdGggcmVzcGVjdCB0byByb290IHRvbmVcbiAgICovXG4gIHR1bmUodG9uZTogVHVuaW5nVG9uZSk6IEludGVydmFsIHtcbiAgICAvLyBHZXQgdGhlIHJhdGlvIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdGFyZ2V0IHRvbmUgYW5kIHRoZSByb290IHRvbmUsIHJhaXNlZCB0byB0aGUgZGlmZmVyZW5jZSBpbiBvY3RhdmUuXG4gICAgLy8gVGhlIG9jdGF2ZSBpcyBhbHdheXMgdGhlIGxhc3QgdG9uZSBhcyBwZXIgdGhlIGRlZmluaXRpb24gb2YgdGhlIGBpbnRlcnZhbHNgIGFycmF5LlxuICAgIHJldHVybiBuZXcgSW50ZXJ2YWwoXG4gICAgICB0aGlzLmludGVydmFsc1t0b25lLnBpdGNoQ2xhc3NdLnJhdGlvLm11bCh0aGlzLm9jdGF2ZS5yYXRpby5wb3codG9uZS5vY3RhdmUpKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTkVBUkVTVCBUT05FXG4gICAqIEZpbmQgdGhlIG5lYXJlc3QgdG9uZSBnaXZlbiBhbiBpbnRlcnZhbCBhbmQgcmV0dXJuIGRpZmZlcmVuY2VcbiAgICpcbiAgICogQHBhcmFtIGludGVydmFsOiB0YXJnZXQgaW50ZXJ2YWxcbiAgICogQHJldHVybnMgbmVhcmVzdCB0b25lLCBpbnRlcnZhbCBhbmQgZGlmZmVyZW5jZSBmcm9tIHRoZSB0YXJnZXRcbiAgICovXG4gIG5lYXJlc3QoaW50ZXJ2YWw6IEludGVydmFsKToge3RvbmU6IFR1bmluZ1RvbmUsIGludGVydmFsOiBJbnRlcnZhbCwgZGlmZmVyZW5jZTogSW50ZXJ2YWx9IHtcbiAgICAvLyBCcmluZyB0aGUgaW50ZXJ2YWwgdG8gdGhlIGJhc2Ugb2N0YXZlLlxuICAgIGNvbnN0IG9jdGF2ZSA9IE1hdGguZmxvb3IoTWF0aC5sb2coaW50ZXJ2YWwucmF0aW8udmFsdWVPZigpKSAvIE1hdGgubG9nKHRoaXMub2N0YXZlLnJhdGlvLnZhbHVlT2YoKSkpO1xuICAgIGNvbnN0IGJhc2UgPSBuZXcgSW50ZXJ2YWwoaW50ZXJ2YWwucmF0aW8uZGl2KHRoaXMub2N0YXZlLnJhdGlvLnBvdyhvY3RhdmUpKSk7XG5cbiAgICAvLyBTZWFyY2ggdGhyb3VnaCB0aGUgaW50ZXJ2YWxzIHRvIGxvY2F0ZSB0aGUgbmVhcmVzdC5cbiAgICBjb25zdCBuID0gSGVscGVycy5iaW5hcnlTZWFyY2godGhpcy5pbnRlcnZhbHMsIGJhc2UsIEludGVydmFsLmNvbXBhcmUpO1xuICAgIGlmIChuID49IDApIHtcbiAgICAgIC8vIEV4YWN0IG1hdGNoOiByZXR1cm4gdGhlIHBpdGNoIGF0IHRoZSByaWdodCBvY3RhdmUuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b25lOiBuZXcgVHVuaW5nVG9uZSh0aGlzLCBuLCBvY3RhdmUpLFxuICAgICAgICBpbnRlcnZhbCxcbiAgICAgICAgZGlmZmVyZW5jZTogbmV3IEludGVydmFsKG5ldyBGcmFjdGlvbigxKSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUGFydGlhbCBtYXRjaDogZmluZCByZWFsIG5lYXJlc3QgYmV0d2VlbiBpbnNlcnRpb24gcG9pbnQgYW5kIHByZXZpb3VzLlxuICAgICAgLy8gV2UncmUgZ3VhcmFudGVlZCB0byBmaW5kIGEgcHJldmlvdXMgdmFsdWUgYmVjYXVzZSB0aGUgZmlyc3QgdmFsdWUgaXMgYWx3YXlzIHVuaXNvbi5cbiAgICAgIGNvbnN0IG0gPSB+bjtcbiAgICAgIGNvbnN0IGxvd2VyID0gTWF0aC5hYnModGhpcy5pbnRlcnZhbHNbbS0xXS5kaWZmZXJlbmNlKGJhc2UpLmNlbnRzKTtcbiAgICAgIGNvbnN0IHVwcGVyID0gTWF0aC5hYnModGhpcy5pbnRlcnZhbHNbbV0uZGlmZmVyZW5jZShiYXNlKS5jZW50cyk7XG4gICAgICBjb25zdCBuZWFyZXN0ID0gbG93ZXIgPCB1cHBlciA/IG0tMSA6IG07XG4gICAgICBjb25zdCBuZWFyZXN0VG9uZSA9IG5ldyBUdW5pbmdUb25lKHRoaXMsIG5lYXJlc3QsIG9jdGF2ZSk7XG4gICAgICBjb25zdCBuZWFyZXN0SW50ZXJ2YWwgPSB0aGlzLnR1bmUobmVhcmVzdFRvbmUpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9uZTogbmVhcmVzdFRvbmUsXG4gICAgICAgIGludGVydmFsOiBuZWFyZXN0SW50ZXJ2YWwsXG4gICAgICAgIGRpZmZlcmVuY2U6IG5lYXJlc3RJbnRlcnZhbC5kaWZmZXJlbmNlKGludGVydmFsKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFUVVBTCBESVZJU0lPTlMgT0YgVEhFIE9DVEFWRS5cbiAgICpcbiAgICogR2VuZXJhdGUgYW4gaW50ZXJ2YWxzIGFycmF5IGJhc2VkIG9uIGVxdWFsIGRpdmlzaW9ucyBvZiB0aGUgb2N0YXZlLlxuICAgKiBUaGUgaW50ZXJ2YWxzIGFyZSBjYWxjdWxhdGVkIGluIGNlbnRzLCBiZWNhdXNlIHRoZXkgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gcmF0aW9zXG4gICAqIGluc2lkZSB0aGUgVHVuaW5nIGNvbnN0cnVjdG9yLlxuICAgKi9cbiAgc3RhdGljIGludGVydmFsc0VkbyhkaXZpc2lvbnM6IG51bWJlcik6IEludGVydmFsW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKEFycmF5KGRpdmlzaW9ucyArIDEpKS5tYXAoKF8sIGkpID0+IHtcbiAgICAgIHJldHVybiBJbnRlcnZhbC5mcm9tQ2VudHMoMTIwMCAvIGRpdmlzaW9ucyAqIGkpO1xuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogVG9uZSBpbiBhIHR1bmluZy5cbiAqL1xuZXhwb3J0IGNsYXNzIFR1bmluZ1RvbmUge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgdHVuaW5nOiBUdW5pbmcsIHB1YmxpYyBwaXRjaENsYXNzOiBudW1iZXIsIHB1YmxpYyBvY3RhdmU6IG51bWJlcikge31cblxuICBnZXQgcGl0Y2goKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5waXRjaENsYXNzICsgdGhpcy5vY3RhdmUgKiB0aGlzLnR1bmluZy5zdGVwcztcbiAgfVxuXG4gIHN0YXRpYyBmcm9tUGl0Y2godHVuaW5nOiBUdW5pbmcsIHBpdGNoOiBudW1iZXIpOiBUdW5pbmdUb25lIHtcbiAgICByZXR1cm4gbmV3IFR1bmluZ1RvbmUodHVuaW5nLCBIZWxwZXJzLm1vZChwaXRjaCwgdHVuaW5nLnN0ZXBzKSwgTWF0aC5mbG9vcihwaXRjaCAvIHR1bmluZy5zdGVwcykpO1xuICB9XG59XG4iLCIvKipcbiAqIEJJRElSRUNUSU9OQUwgTUFQXG4gKlxuICogQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9UaG9tYXNSb29uZXkvdHlwZWQtYmktZGlyZWN0aW9uYWwtbWFwXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUJpbWFwPEssIFY+IGV4dGVuZHMgTWFwPEssIFY+IHtcbiAgcmVhZG9ubHkgc2l6ZTogbnVtYmVyOyAvLyByZXR1cm5zIHRoZSB0b3RhbCBudW1iZXIgb2YgZWxlbWVudHNcbiAgZ2V0OiAoa2V5OiBLKSA9PiBWIHwgdW5kZWZpbmVkOyAvLyByZXR1cm5zIGEgc3BlY2lmaWVkIGVsZW1lbnRcbiAgZ2V0S2V5OiAodmFsdWU6IFYpID0+IEsgfCBLW10gfCB1bmRlZmluZWQ7IC8vIHJldHVybnMgYSBzcGVjaWZpZWQgZWxlbWVudFxuICBnZXRWYWx1ZTogKGtleTogSykgPT4gViB8IHVuZGVmaW5lZDsgLy8gcmV0dXJucyBhIHNwZWNpZmllZCBlbGVtZW50XG4gIHNldDogKGtleTogSywgdmFsdWU6IFYpID0+IHRoaXM7IC8vIGFkZHMgb3IgdXBkYXRlcyB0aGUgdmFsdWUgb2YgYW4gZWxlbWVudCBsb29rZWQgdXAgdmlhIHRoZSBzcGVjaWZpZWQga2V5XG4gIHNldFZhbHVlOiAoa2V5OiBLLCB2YWx1ZTogVikgPT4gdGhpczsgLy8gYWRkcyBvciB1cGRhdGVzIHRoZSBrZXkgb2YgYW4gZWxlbWVudCBsb29rZWQgdXAgdmlhIHRoZSBzcGVjaWZpZWQgdmFsdWVcbiAgc2V0S2V5OiAodmFsdWU6IFYsIGtleTogSykgPT4gdGhpczsgLy8gYWRkcyBvciB1cGRhdGVzIHRoZSB2YWx1ZSBvZiBhbiBlbGVtZW50IGxvb2tlZCB1cCB2aWEgdGhlIHNwZWNpZmllZCBrZXlcbiAgY2xlYXI6ICgpID0+IHZvaWQ7IC8vIHJlbW92ZXMgYWxsIGVsZW1lbnRzXG4gIGRlbGV0ZTogKGtleTogSykgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgZXhpc3RlZCBhbmQgaGFzIGJlZW4gcmVtb3ZlZCwgb3IgZmFsc2UgaWYgdGhlIGVsZW1lbnQgZG9lcyBub3QgZXhpc3QuXG4gIGRlbGV0ZUtleTogKGtleTogSykgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgZXhpc3RlZCBhbmQgaGFzIGJlZW4gcmVtb3ZlZCwgb3IgZmFsc2UgaWYgdGhlIGVsZW1lbnQgZG9lcyBub3QgZXhpc3QuXG4gIGRlbGV0ZVZhbHVlOiAodmFsdWU6IFYpID0+IGJvb2xlYW47IC8vIFJldHVybnMgdHJ1ZSBpZiBhbiBlbGVtZW50IGV4aXN0ZWQgYW5kIGhhcyBiZWVuIHJlbW92ZWQsIG9yIGZhbHNlIGlmIHRoZSBlbGVtZW50IGRvZXMgbm90IGV4aXN0LlxuICBmb3JFYWNoOiAoXG4gICAgY2FsbGJhY2tmbjogKHZhbHVlOiBWLCBrZXk6IEssIG1hcDogSUJpbWFwPEssIFY+KSA9PiB2b2lkLFxuICAgIHRoaXNBcmc/OiBhbnlcbiAgKSA9PiB2b2lkOyAvLyBleGVjdXRlcyB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgb25jZSBmb3IgZWFjaCBrZXkgb2YgdGhlIG1hcFxuICBoYXM6IChrZXk6IEspID0+IGJvb2xlYW47IC8vIFJldHVybnMgdHJ1ZSBpZiBhbiBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBrZXkgZXhpc3RzOyBvdGhlcndpc2UgZmFsc2UuXG4gIGhhc0tleTogKGtleTogSykgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGtleSBleGlzdHM7IG90aGVyd2lzZSBmYWxzZS5cbiAgaGFzVmFsdWU6ICh2YWx1ZTogVikgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIHZhbHVlIGV4aXN0czsgb3RoZXJ3aXNlIGZhbHNlLlxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ01hcCc7IC8vIEFueXRoaW5nIGltcGxlbWVudGluZyBNYXAgbXVzdCBhbHdheXMgaGF2ZSB0b1N0cmluZ1RhZyBkZWNsYXJlZCB0byBiZSAnTWFwJy4gSSBjb25zaWRlciB0aGlzIGEgbGl0dGxlIHNpbGx5LlxuICBpbnNwZWN0OiAoKSA9PiBzdHJpbmc7IC8vIEEgdXRpbGl0eSBmdW5jdGlvbiB0byBpbnNwZWN0IGN1cnJlbnQgY29udGVudHMgYXMgYSBzdHJpbmdcbn1cblxuLyoqXG4gKiBCaW1hcCB3aXRob3V0IGR1cGxpY2F0ZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCaW1hcDxLLCBWPiBpbXBsZW1lbnRzIElCaW1hcDxLLCBWPiB7XG4gIHByb3RlY3RlZCBrZXlWYWx1ZU1hcDogTWFwPEssIFY+ID0gbmV3IE1hcDxLLCBWPigpO1xuICBwcm90ZWN0ZWQgdmFsdWVLZXlNYXA6IE1hcDxWLCBLPiA9IG5ldyBNYXA8ViwgSz4oKTtcblxuICBnZXQgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5rZXlWYWx1ZU1hcC5zaXplO1xuICB9XG5cbiAgLyogdHNsaW50OmRpc2FibGUgbWVtYmVyLW9yZGVyaW5nICovXG4gIHB1YmxpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ01hcCc7XG4gIHB1YmxpYyBbU3ltYm9sLml0ZXJhdG9yXTogKCkgPT4gSXRlcmFibGVJdGVyYXRvcjxbSywgVl0+ID0gdGhpcy5rZXlWYWx1ZU1hcFtTeW1ib2wuaXRlcmF0b3JdO1xuICAvKiB0c2xpbnQ6ZW5hYmxlICovXG5cbiAgcHVibGljIGVudHJpZXMgPSAoKSA9PiB0aGlzLmtleVZhbHVlTWFwLmVudHJpZXMoKTtcbiAgcHVibGljIGtleXMgPSAoKSA9PiB0aGlzLmtleVZhbHVlTWFwLmtleXMoKTtcbiAgcHVibGljIHZhbHVlcyA9ICgpID0+IHRoaXMua2V5VmFsdWVNYXAudmFsdWVzKCk7XG5cbiAgcHVibGljIGdldCA9IChhOiBLKTogViB8IHVuZGVmaW5lZCA9PiB0aGlzLmtleVZhbHVlTWFwLmdldChhKTtcbiAgcHVibGljIGdldEtleSA9IChiOiBWKTogSyB8IHVuZGVmaW5lZCA9PiB0aGlzLnZhbHVlS2V5TWFwLmdldChiKTtcbiAgcHVibGljIGdldFZhbHVlID0gKGE6IEspOiBWIHwgdW5kZWZpbmVkID0+IHRoaXMuZ2V0KGEpO1xuICBwdWJsaWMgc2V0ID0gKGtleTogSywgdmFsdWU6IFYpID0+IHtcbiAgICAvLyBNYWtlIHN1cmUgbm8gZHVwbGljYXRlcy4gT3VyIGNvbmZsaWN0IHNjZW5hcmlvIGlzIGhhbmRsZWQgYnkgZGVsZXRpbmcgcG90ZW50aWFsIGR1cGxpY2F0ZXMsIGluIGZhdm91ciBvZiB0aGUgY3VycmVudCBhcmd1bWVudHNcbiAgICB0aGlzLmRlbGV0ZShrZXkpO1xuICAgIHRoaXMuZGVsZXRlVmFsdWUodmFsdWUpO1xuXG4gICAgdGhpcy5rZXlWYWx1ZU1hcC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgdGhpcy52YWx1ZUtleU1hcC5zZXQodmFsdWUsIGtleSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgcHVibGljIHNldEtleSA9ICh2YWx1ZTogViwga2V5OiBLKSA9PiB0aGlzLnNldChrZXksIHZhbHVlKTtcbiAgcHVibGljIHNldFZhbHVlID0gKGtleTogSywgdmFsdWU6IFYpID0+IHRoaXMuc2V0KGtleSwgdmFsdWUpO1xuICBwdWJsaWMgY2xlYXIgPSAoKSA9PiB7XG4gICAgdGhpcy5rZXlWYWx1ZU1hcC5jbGVhcigpO1xuICAgIHRoaXMudmFsdWVLZXlNYXAuY2xlYXIoKTtcbiAgfTtcbiAgcHVibGljIGRlbGV0ZSA9IChrZXk6IEspID0+IHtcbiAgICBpZiAodGhpcy5oYXMoa2V5KSkge1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmtleVZhbHVlTWFwLmdldChrZXkpIGFzIFY7XG4gICAgICB0aGlzLmtleVZhbHVlTWFwLmRlbGV0ZShrZXkpO1xuICAgICAgdGhpcy52YWx1ZUtleU1hcC5kZWxldGUodmFsdWUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgcHVibGljIGRlbGV0ZUtleSA9IChrZXk6IEspID0+IHRoaXMuZGVsZXRlKGtleSk7XG4gIHB1YmxpYyBkZWxldGVWYWx1ZSA9ICh2YWx1ZTogVikgPT4ge1xuICAgIGlmICh0aGlzLmhhc1ZhbHVlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlKHRoaXMudmFsdWVLZXlNYXAuZ2V0KHZhbHVlKSBhcyBLKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBwdWJsaWMgZm9yRWFjaCA9IChcbiAgICBjYWxsYmFja2ZuOiAodmFsdWU6IFYsIGtleTogSywgbWFwOiBJQmltYXA8SywgVj4pID0+IHZvaWQsXG4gICAgdGhpc0FyZz86IGFueVxuICApID0+IHtcbiAgICB0aGlzLmtleVZhbHVlTWFwLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIGNhbGxiYWNrZm4uYXBwbHkodGhpc0FyZywgW3ZhbHVlLCBrZXksIHRoaXNdKTtcbiAgICB9KTtcbiAgfTtcbiAgcHVibGljIGhhcyA9IChrZXk6IEspID0+IHRoaXMua2V5VmFsdWVNYXAuaGFzKGtleSk7XG4gIHB1YmxpYyBoYXNLZXkgPSAoa2V5OiBLKSA9PiB0aGlzLmhhcyhrZXkpO1xuICBwdWJsaWMgaGFzVmFsdWUgPSAodmFsdWU6IFYpID0+IHRoaXMudmFsdWVLZXlNYXAuaGFzKHZhbHVlKTtcbiAgcHVibGljIGluc3BlY3QgPSAoKSA9PiB7XG4gICAgbGV0IHN0ciA9ICdCaW1hcCB7JztcbiAgICBsZXQgZW50cnkgPSAwO1xuICAgIHRoaXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgZW50cnkrKztcbiAgICAgIHN0ciArPSAnJyArIGtleS50b1N0cmluZygpICsgJyA9PiAnICsgdmFsdWUudG9TdHJpbmcoKSArICcnO1xuICAgICAgaWYgKGVudHJ5IDwgdGhpcy5zaXplKSB7XG4gICAgICAgIHN0ciArPSAnLCAnO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHN0ciArPSAnfSc7XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbn1cblxuLyoqXG4gKiBCaW1hcCB3aXRoIG11bHRpcGxlIHZhbHVlcyBwZXIga2V5LlxuICovXG5leHBvcnQgY2xhc3MgTXVsdGltYXA8SywgVj4gaW1wbGVtZW50cyBJQmltYXA8SywgVj4ge1xuICBwcm90ZWN0ZWQga2V5VmFsdWVNYXA6IE1hcDxLLCBWPiA9IG5ldyBNYXA8SywgVj4oKTtcbiAgcHJvdGVjdGVkIHZhbHVlS2V5TWFwOiBNYXA8ViwgS1tdPiA9IG5ldyBNYXA8ViwgS1tdPigpO1xuXG4gIGdldCBzaXplKCkge1xuICAgIHJldHVybiB0aGlzLmtleVZhbHVlTWFwLnNpemU7XG4gIH1cblxuICAvKiB0c2xpbnQ6ZGlzYWJsZSBtZW1iZXItb3JkZXJpbmcgKi9cbiAgcHVibGljIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnTWFwJztcbiAgcHVibGljIFtTeW1ib2wuaXRlcmF0b3JdOiAoKSA9PiBJdGVyYWJsZUl0ZXJhdG9yPFtLLCBWXT4gPSB0aGlzLmtleVZhbHVlTWFwW1N5bWJvbC5pdGVyYXRvcl07XG4gIC8qIHRzbGludDplbmFibGUgKi9cblxuICBwdWJsaWMgZW50cmllcyA9ICgpID0+IHRoaXMua2V5VmFsdWVNYXAuZW50cmllcygpO1xuICBwdWJsaWMga2V5cyA9ICgpID0+IHRoaXMua2V5VmFsdWVNYXAua2V5cygpO1xuICBwdWJsaWMgdmFsdWVzID0gKCkgPT4gdGhpcy5rZXlWYWx1ZU1hcC52YWx1ZXMoKTtcblxuICBwdWJsaWMgZ2V0ID0gKGE6IEspOiBWIHwgdW5kZWZpbmVkID0+IHRoaXMua2V5VmFsdWVNYXAuZ2V0KGEpO1xuICBwdWJsaWMgZ2V0S2V5ID0gKGI6IFYpOiBLW10gfCB1bmRlZmluZWQgPT4gdGhpcy52YWx1ZUtleU1hcC5nZXQoYik7XG4gIHB1YmxpYyBnZXRWYWx1ZSA9IChhOiBLKTogViB8IHVuZGVmaW5lZCA9PiB0aGlzLmdldChhKTtcbiAgcHVibGljIHNldCA9IChrZXk6IEssIHZhbHVlOiBWKSA9PiB7XG4gICAgdGhpcy5kZWxldGUoa2V5KTtcbiAgICB0aGlzLmtleVZhbHVlTWFwLnNldChrZXksIHZhbHVlKTtcblxuICAgIGNvbnN0IGtleXMgPSB0aGlzLnZhbHVlS2V5TWFwLmdldCh2YWx1ZSkgfHwgW107XG4gICAgdGhpcy52YWx1ZUtleU1hcC5zZXQodmFsdWUsIFsuLi5rZXlzLCBrZXldKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBwdWJsaWMgc2V0S2V5ID0gKHZhbHVlOiBWLCBrZXk6IEspID0+IHRoaXMuc2V0KGtleSwgdmFsdWUpO1xuICBwdWJsaWMgc2V0VmFsdWUgPSAoa2V5OiBLLCB2YWx1ZTogVikgPT4gdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XG4gIHB1YmxpYyBjbGVhciA9ICgpID0+IHtcbiAgICB0aGlzLmtleVZhbHVlTWFwLmNsZWFyKCk7XG4gICAgdGhpcy52YWx1ZUtleU1hcC5jbGVhcigpO1xuICB9O1xuICBwdWJsaWMgZGVsZXRlID0gKGtleTogSykgPT4ge1xuICAgIGlmICh0aGlzLmhhcyhrZXkpKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMua2V5VmFsdWVNYXAuZ2V0KGtleSkgYXMgVjtcbiAgICAgIHRoaXMua2V5VmFsdWVNYXAuZGVsZXRlKGtleSk7XG4gICAgICBjb25zdCBrZXlzID0gdGhpcy52YWx1ZUtleU1hcC5nZXQodmFsdWUpLmZpbHRlcihrID0+IGsgIT09IGtleSk7XG4gICAgICBpZiAoa2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMudmFsdWVLZXlNYXAuc2V0KHZhbHVlLCBrZXlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudmFsdWVLZXlNYXAuZGVsZXRlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIHB1YmxpYyBkZWxldGVLZXkgPSAoa2V5OiBLKSA9PiB0aGlzLmRlbGV0ZShrZXkpO1xuICBwdWJsaWMgZGVsZXRlVmFsdWUgPSAodmFsdWU6IFYpID0+IHtcbiAgICBpZiAodGhpcy5oYXNWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIHRoaXMudmFsdWVLZXlNYXAuZ2V0KHZhbHVlKS5mb3JFYWNoKGtleSA9PiB7IHRoaXMuZGVsZXRlKGtleSk7IH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgcHVibGljIGZvckVhY2ggPSAoXG4gICAgY2FsbGJhY2tmbjogKHZhbHVlOiBWLCBrZXk6IEssIG1hcDogSUJpbWFwPEssIFY+KSA9PiB2b2lkLFxuICAgIHRoaXNBcmc/OiBhbnlcbiAgKSA9PiB7XG4gICAgdGhpcy5rZXlWYWx1ZU1hcC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICBjYWxsYmFja2ZuLmFwcGx5KHRoaXNBcmcsIFt2YWx1ZSwga2V5LCB0aGlzXSk7XG4gICAgfSk7XG4gIH07XG4gIHB1YmxpYyBoYXMgPSAoa2V5OiBLKSA9PiB0aGlzLmtleVZhbHVlTWFwLmhhcyhrZXkpO1xuICBwdWJsaWMgaGFzS2V5ID0gKGtleTogSykgPT4gdGhpcy5oYXMoa2V5KTtcbiAgcHVibGljIGhhc1ZhbHVlID0gKHZhbHVlOiBWKSA9PiB0aGlzLnZhbHVlS2V5TWFwLmhhcyh2YWx1ZSk7XG4gIHB1YmxpYyBpbnNwZWN0ID0gKCkgPT4ge1xuICAgIGxldCBzdHIgPSAnTXVsdGltYXAgeyc7XG4gICAgbGV0IGVudHJ5ID0gMDtcbiAgICB0aGlzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIGVudHJ5Kys7XG4gICAgICBzdHIgKz0gJycgKyBrZXkudG9TdHJpbmcoKSArICcgPT4gJyArIHZhbHVlLnRvU3RyaW5nKCkgKyAnJztcbiAgICAgIGlmIChlbnRyeSA8IHRoaXMuc2l6ZSkge1xuICAgICAgICBzdHIgKz0gJywgJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzdHIgKz0gJ30nO1xuICAgIHJldHVybiBzdHI7XG4gIH07XG59XG4iLCJpbXBvcnQge1R1bmluZywgVHVuaW5nVG9uZX0gZnJvbSAnLi9UdW5pbmcnO1xuaW1wb3J0IHtIZWxwZXJzfSBmcm9tICcuL0hlbHBlcnMnO1xuaW1wb3J0IHtNdWx0aW1hcH0gZnJvbSAnLi9CaW1hcCc7XG5cbi8qKlxuICogTk9NRU5DTEFUVVJFIFNZU1RFTVxuICpcbiAqIFRvIG5hbWUgbm90ZXMsIHdlIHVzZSBhIGNvbW1vbiByZXByZXNlbnRhdGlvbiBiYXNlZCBvbiBTY2llbnRpZmljIFBpdGNoIE5vdGF0aW9uIChTUE4pOlxuICogLSBTdGFuZGFyZCBub3RlIGxldHRlcnMgQywgRCwgRSwgRiwgRywgQSwgQlxuICogLSBBbiBleHRlbnNpYmxlIHNldCBvZiBhY2NpZGVudGFsc1xuICogLSBUaGUgb2N0YXZlIHNwZWNpZmljYXRpb25cbiAqXG4gKiBXZSBkZWZpbmUgYSB0dW5pbmcgbm90YXRpb24gbWFwIHRoYXQgZGVmaW5lcyBob3cgbm90ZXMgYW5kIGFjY2lkZW50YWxzIG1hcCB0byB0dW5pbmcgdG9uZXMvcGl0Y2hlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFR1bmluZ05vdGF0aW9uIHtcbiAgcmVnZXg6IFJlZ0V4cDtcblxuICAvKipcbiAgICogQ09OU1RSVUNUT1JcbiAgICpcbiAgICogQHBhcmFtIHR1bmluZzogdGhlIHR1bmluZyBiZWluZyBub3RhdGVkXG4gICAqIEBwYXJhbSBtYXA6IHRoZSBub3RhdGlvbiBtYXAgdGhhdCBtYXBzIGV2ZXJ5IG5vdGUgbGV0dGVyICsgYWNjaWRlbnRhbCBjb21iaW5hdGlvbiB0byB0aGUgdHVuaW5nIHRvbmVcbiAgICogICAgICAgIC0gZGlmZmVyZW50IG5vdGUgbmFtZXMgdGhhdCBtYXAgdG8gdGhlIHNhbWUgaW5kZXggKGUuZy4gQyMgPSBEYiA9PiAxKSBzaG91bGQgaGF2ZSBzZXBhcmF0ZSBlbnRyaWVzXG4gICAqICAgICAgICAtIGRvbid0IGluY2x1ZGUgb2N0YXZlIG51bWJlcnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB0dW5pbmc6IFR1bmluZywgcHVibGljIG1hcDogTXVsdGltYXA8c3RyaW5nLCBudW1iZXI+KSB7XG4gICAgdGhpcy5yZWdleCA9IG5ldyBSZWdFeHAoXG4gICAgICAnXignICsgQXJyYXkuZnJvbSh0aGlzLm1hcC5rZXlzKCkpLm1hcChIZWxwZXJzLmVzY2FwZVJlZ0V4cCkuam9pbignfCcpICsgJyknICtcbiAgICAgICcoLT9cXFxcZCkkJyxcbiAgICAgICdpJ1xuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQlVJTEQgQSBNQVAgQlkgQ09NQklOSU5HIE5PVEVTIEFORCBBQ0NJREVOVEFMU1xuICAgKlxuICAgKiBAcGFyYW0gdHVuaW5nOiBhcyBwZXIgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIG5vdGVzOiBtYXAgb2Ygbm90ZSBsZXR0ZXJzIHRvIHRvbmUgaW5kZXhlczpcbiAgICogYGBgXG4gICAqIHtcbiAgICogICAnQyc6IDAsXG4gICAqICAgJ0QnOiAyLFxuICAgKiAgICdFJzogNCxcbiAgICogICAnRic6IDUsXG4gICAqICAgJ0cnOiA3LFxuICAgKiAgICdBJzogOSxcbiAgICogICAnQic6IDExLFxuICAgKiB9XG4gICAqIEBwYXJhbSBhY2NpZGVudGFsczogbWFwIG9mIG5vdGUgYWNjaWRlbnRhbHMgdG8gdG9uZSBpbmNyZW1lbnRzOlxuICAgKiBgYGBcbiAgICoge1xuICAgKiAgICcjJzogKzEsXG4gICAqICAgJ2InOiAtMSxcbiAgICogICAnbic6ICAwLFxuICAgKiB9XG4gICAqIGBgYFxuICAgKi9cbiAgc3RhdGljIGZyb21Ob3Rlc0FjY2lkZW50YWxzQ29tYmluYXRpb24oXG4gICAgdHVuaW5nOiBUdW5pbmcsXG4gICAgbm90ZXM6IHtbbm90ZTogc3RyaW5nXTogbnVtYmVyfSxcbiAgICBhY2NpZGVudGFsczoge1thY2NpZGVudGFsOiBzdHJpbmddOiBudW1iZXJ9XG4gICkge1xuICAgIGNvbnN0IG1hcCA9IG5ldyBNdWx0aW1hcDxzdHJpbmcsIG51bWJlcj4oKTtcbiAgICBPYmplY3Qua2V5cyhub3RlcykuZm9yRWFjaChub3RlID0+IHtcbiAgICAgIG1hcC5zZXQoYCR7bm90ZX1gLCBub3Rlc1tub3RlXSk7XG4gICAgICBPYmplY3Qua2V5cyhhY2NpZGVudGFscykuZm9yRWFjaChhY2NpZGVudGFsID0+IHtcbiAgICAgICAgbWFwLnNldChgJHtub3RlfSR7YWNjaWRlbnRhbH1gLCBIZWxwZXJzLm1vZChub3Rlc1tub3RlXSArIGFjY2lkZW50YWxzW2FjY2lkZW50YWxdLCB0dW5pbmcuc3RlcHMpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgVHVuaW5nTm90YXRpb24odHVuaW5nLCBtYXApO1xuICB9XG5cbiAgLyoqXG4gICAqIE5BTUUgQSBUT05FXG4gICAqXG4gICAqIEBwYXJhbSB0b25lOiB0b25lIHRvIGJlIG5hbWVkXG4gICAqIEByZXR1cm5zIGFycmF5IG9mIHN0cmluZ3MgcmVwcmVzZW50aW5nIHRoZSBlbmhhcm1vbmljIG5hbWluZ3Mgb2YgdGhlIHRvbmVcbiAgICovXG4gIG5hbWUodG9uZTogVHVuaW5nVG9uZSk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gWy4uLnRoaXMubWFwLmdldEtleSh0b25lLnBpdGNoQ2xhc3MpXS5tYXAobiA9PiBgJHtufSR7dG9uZS5vY3RhdmV9YCk7XG4gIH1cblxuICAvKipcbiAgICogUEFSU0UgQSBOT1RFXG4gICAqXG4gICAqIEBwYXJhbSBub3RlOiB0YXJnZXQgbm90ZSBpbiBzY2llbnRpZmljIHBpdGNoIG5vdGF0aW9uXG4gICAqIEByZXR1cm5zIHRvbmUgZ2VuZXJhdG9yXG4gICAqL1xuICBwYXJzZShub3RlOiBzdHJpbmcpOiBUdW5pbmdUb25lIHtcbiAgICBjb25zdCBtYXRjaCA9IHRoaXMucmVnZXguZXhlYyhub3RlKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFtUdW5pbmdOb3RhdGlvbi5wYXJzZV0gQ291bGQgbm90IHBhcnNlIG5vdGUgJHtub3RlfWApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFR1bmluZ1RvbmUodGhpcy50dW5pbmcsIHRoaXMubWFwLmdldChtYXRjaFsxXSksIHBhcnNlSW50KG1hdGNoWzJdLCAxMCkpO1xuICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIG1vZHVsZSBleHBvcnRzIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBydW50aW1lIHNvIGVudHJ5IGlubGluaW5nIGlzIGRpc2FibGVkXG4vLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbnJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IG1vZHVsZVsnZGVmYXVsdCddIDpcblx0XHQoKSA9PiBtb2R1bGU7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyJdLCJzb3VyY2VSb290IjoiIn0=