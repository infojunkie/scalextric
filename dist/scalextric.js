/*! For license information please see scalextric.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Scalextric=e():t.Scalextric=e()}(this,(()=>(()=>{var t={628:function(t,e){var n;!function(r){"use strict";var i={s:1,n:0,d:1};function a(t,e){if(isNaN(t=parseInt(t,10)))throw l.InvalidParameter;return t*e}function s(t,e){if(0===e)throw l.DivisionByZero;var n=Object.create(l.prototype);n.s=t<0?-1:1;var r=c(t=t<0?-t:t,e);return n.n=t/r,n.d=e/r,n}function o(t){for(var e={},n=t,r=2,i=4;i<=n;){for(;n%r==0;)n/=r,e[r]=(e[r]||0)+1;i+=1+2*r++}return n!==t?n>1&&(e[n]=(e[n]||0)+1):e[t]=(e[t]||0)+1,e}var u=function(t,e){var n,r=0,s=1,o=1,u=0,c=0,h=0,f=1,p=1,d=0,v=1,y=1,m=1,b=1e7;if(null==t);else if(void 0!==e){if(o=(r=t)*(s=e),r%1!=0||s%1!=0)throw l.NonIntegerParameter}else switch(typeof t){case"object":if("d"in t&&"n"in t)r=t.n,s=t.d,"s"in t&&(r*=t.s);else{if(!(0 in t))throw l.InvalidParameter;r=t[0],1 in t&&(s=t[1])}o=r*s;break;case"number":if(t<0&&(o=t,t=-t),t%1==0)r=t;else if(t>0){for(t>=1&&(t/=p=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));v<=b&&m<=b;){if(t===(n=(d+y)/(v+m))){v+m<=b?(r=d+y,s=v+m):m>v?(r=y,s=m):(r=d,s=v);break}t>n?(d+=y,v+=m):(y+=d,m+=v),v>b?(r=y,s=m):(r=d,s=v)}r*=p}else(isNaN(t)||isNaN(e))&&(s=r=NaN);break;case"string":if(null===(v=t.match(/\d+|./g)))throw l.InvalidParameter;if("-"===v[d]?(o=-1,d++):"+"===v[d]&&d++,v.length===d+1?c=a(v[d++],o):"."===v[d+1]||"."===v[d]?("."!==v[d]&&(u=a(v[d++],o)),(1+ ++d===v.length||"("===v[d+1]&&")"===v[d+3]||"'"===v[d+1]&&"'"===v[d+3])&&(c=a(v[d],o),f=Math.pow(10,v[d].length),d++),("("===v[d]&&")"===v[d+2]||"'"===v[d]&&"'"===v[d+2])&&(h=a(v[d+1],o),p=Math.pow(10,v[d+1].length)-1,d+=3)):"/"===v[d+1]||":"===v[d+1]?(c=a(v[d],o),f=a(v[d+2],1),d+=3):"/"===v[d+3]&&" "===v[d+1]&&(u=a(v[d],o),c=a(v[d+2],o),f=a(v[d+4],1),d+=5),v.length<=d){o=r=h+(s=f*p)*u+p*c;break}default:throw l.InvalidParameter}if(0===s)throw l.DivisionByZero;i.s=o<0?-1:1,i.n=Math.abs(r),i.d=Math.abs(s)};function c(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function l(t,e){if(u(t,e),!(this instanceof l))return s(i.s*i.n,i.d);t=c(i.d,i.n),this.s=i.s,this.n=i.n/t,this.d=i.d/t}l.DivisionByZero=new Error("Division by Zero"),l.InvalidParameter=new Error("Invalid argument"),l.NonIntegerParameter=new Error("Parameters must be integer"),l.prototype={s:1,n:0,d:1,abs:function(){return s(this.n,this.d)},neg:function(){return s(-this.s*this.n,this.d)},add:function(t,e){return u(t,e),s(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(t,e){return u(t,e),s(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(t,e){return u(t,e),s(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(t,e){return u(t,e),s(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return s(this.s*this.n,this.d)},mod:function(t,e){if(isNaN(this.n)||isNaN(this.d))return new l(NaN);if(void 0===t)return s(this.s*this.n%this.d,1);if(u(t,e),0===i.n&&0===this.d)throw l.DivisionByZero;return s(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(t,e){return u(t,e),s(c(i.n,this.n)*c(i.d,this.d),i.d*this.d)},lcm:function(t,e){return u(t,e),0===i.n&&0===this.n?s(0,1):s(i.n*this.n,c(i.n,this.n)*c(i.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):s(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):s(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):s(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return s(this.s*this.d,this.n)},pow:function(t,e){if(u(t,e),1===i.d)return i.s<0?s(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):s(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var n=o(this.n),r=o(this.d),a=1,c=1;for(var l in n)if("1"!==l){if("0"===l){a=0;break}if(n[l]*=i.n,n[l]%i.d!=0)return null;n[l]/=i.d,a*=Math.pow(l,n[l])}for(var l in r)if("1"!==l){if(r[l]*=i.n,r[l]%i.d!=0)return null;r[l]/=i.d,c*=Math.pow(l,r[l])}return i.s<0?s(c,a):s(a,c)},equals:function(t,e){return u(t,e),this.s*this.n*i.d==i.s*i.n*this.d},compare:function(t,e){u(t,e);var n=this.s*this.n*i.d-i.s*i.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var e=this.abs(),n=e.toContinued(),r=1;r<n.length;r++){for(var i=s(n[r-1],1),a=r-2;a>=0;a--)i=i.inverse().add(n[a]);if(i.sub(e).abs().valueOf()<t)return i.mul(this.s)}return this},divisible:function(t,e){return u(t,e),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];if(isNaN(e)||isNaN(n))return r;do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function(t){var e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";t=t||15;var r=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>2e3)return 0;return r}(0,n),i=function(t,e,n){for(var r=1,i=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r}(10,n,e),a=0;a<300;a++){if(r===i)return a;r=10*r%e,i=10*i%e}return 0}(0,n,r),a=this.s<0?"-":"";if(a+=e/n|0,e%=n,(e*=10)&&(a+="."),r){for(var s=i;s--;)a+=e/n|0,e%=n,e*=10;for(a+="(",s=r;s--;)a+=e/n|0,e%=n,e*=10;a+=")"}else for(s=t;e&&s--;)a+=e/n|0,e%=n,e*=10;return a}},void 0===(n=function(){return l}.apply(e,[]))||(t.exports=n)}()},308:function(t,e){var n,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=function(t){"use strict";function e(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function r(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===u(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,s,o=[],u=!0,c=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.toXML=t.default=void 0;var c="array",l="boolean",h="date",f="function",p="jstoxml-object",d="null",v="object",y="string",m=[y,"number",l],b=["_selfCloseTag","_attrs"],g=function(t){return Array.isArray(t)&&c||u(t)===v&&null!==t&&t._name&&p||t instanceof Date&&h||null===t&&d||u(t)},_=function(t){return t.startsWith("<![CDATA[")},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t;if(u(t)===y){if(_(t))return t;var i=new RegExp("(".concat(Object.keys(e).join("|"),")(?!(\\w|#)*;)"),"g");r=String(t).replace(i,(function(t,n){return e[n]||""}))}return"function"==typeof n?n(r):r},M=function(){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return(Array.isArray(t)?t:Object.entries(t).map((function(t){var e=a(t,2);return i({},e[0],e[1])}))).reduce((function(t,i){var a=Object.keys(i)[0],s=i[a];if(u(n)===f&&n(a,s))return t;var o=e?w(s,e):s,c=r||!0!==o?'="'.concat(o,'"'):"";return t.push("".concat(a).concat(c)),t}),[])}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0,arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0);if(0===t.length)return"";var e=t.join(" ");return" ".concat(e)},O=function(t){return m.includes(g(t))},j={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},S=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.depth,s=void 0===a?0:a,o=i.indent,h=i._isFirstItem,d=i._isOutputStart,y=void 0===d||d,m=i.header,S=i.attributeReplacements,k=void 0===S?{}:S,P=i.attributeFilter,x=i.attributeExplicitTrue,N=void 0!==x&&x,T=i.contentReplacements,I=void 0===T?{}:T,E=i.contentMap,V=i.selfCloseTags,A=void 0===V||V,D="boolean"!=typeof k||k?r(r({},j),k):{},C="boolean"!=typeof I||I?r(r({},j),I):{},K=function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").repeat(t)}(o,s),R=g(n),z=function(t){var e=t.header,n=t.isOutputStart;return e&&n?u(e)===l?'<?xml version="1.0" encoding="UTF-8"?>':e:""}({header:m,indent:o,depth:s,isOutputStart:y}),L=y&&!z&&h&&0===s,$=o&&!L?"\n":"",q="";switch(R){case p:var B=n._name,F=n._content;if(null===F&&"function"!=typeof E){q="".concat($).concat(K).concat(B);break}if(Array.isArray(F)&&F.every(O))return F.map((function(e){return t({_name:B,_content:e},r(r({},i),{},{depth:s,_isOutputStart:!1}))})).join("");if(b.includes(B))break;var G=t(F,r(r({},i),{},{depth:s+1,_isOutputStart:L})),X=g(G),U=!G.match("<"),Z=_(G),J="".concat($).concat(K);if("_comment"===B){q+="".concat(J,"\x3c!-- ").concat(F," --\x3e");break}var W="undefined"===X||""===G,Y=A,H=n._selfCloseTag,Q=u(H)===l?W&&H:W&&Y,tt=Q?"/":"",et=M(n._attrs,D,P,N),nt="<".concat(B).concat(et).concat(tt,">"),rt=!o||U||Z?"":"\n".concat(K),it=Q?"":"".concat(G).concat(rt,"</").concat(B,">");q+="".concat(J).concat(nt).concat(it);break;case v:var at=Object.keys(n);q=at.map((function(a,s){var o=r(r({},i),{},{_isFirstItem:0===s,_isLastItem:s+1===at.length,_isOutputStart:L}),u={_name:a};if(g(n[a])===v&&(b.forEach((function(t){var e=n[a][t];void 0!==e&&(u[t]=e,delete n[a][t])})),void 0!==n[a]._content&&Object.keys(n[a]).length>1)){var c=Object.assign({},n[a]);delete c._content,u._content=[].concat(e(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).map((function(e){return{_name:e,_content:t[e]}}))}(c)),[n[a]._content])}return void 0===u._content&&(u._content=n[a]),t(u,o)}),i).join("");break;case f:var st=n(i);q=t(st,i);break;case c:q=n.map((function(e,a){var s=r(r({},i),{},{_isFirstItem:0===a,_isLastItem:a+1===n.length,_isOutputStart:L});return t(e,s)})).join("");break;default:q=w(n,C,E)}return"".concat(z).concat(q)};t.toXML=S;var k={toXML:S};t.default=k},void 0===(r=n.apply(e,[e]))||(t.exports=r)},635:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Interval=void 0;const r=n(655).__importDefault(n(628));class i{constructor(t){this.ratio=t}get cents(){return 1200*Math.log2(this.ratio.valueOf())}get savarts(){return 1e3*Math.log10(this.ratio.valueOf())}difference(t){return new i(this.ratio.div(t.ratio))}static fromRatio(t){return new i(new r.default(t))}static fromCents(t){return new i(new r.default(Math.pow(2,t/1200)))}static fromSavarts(t){return new i(new r.default(Math.pow(10,t/1e3)))}static compare(t,e){return t.ratio.compare(e.ratio)}}e.Interval=i,i.JND=i.fromCents(5)},73:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MusicXML=void 0;const r=n(655),i=n(308),a=n(312),s=n(624),o=n(321),u=r.__importDefault(n(147));class c{constructor(t,e,n={}){this.title=t,this.objects=e,this.options=Object.assign({},c.defaultOptions,n),this.reference=new s.Solmization(a.Tuning.fromEdo(12),{C:0,D:2,E:4,F:5,G:7,A:9,B:11},{})}convert(){return(0,i.toXML)(this.convertDocument(),{header:'\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE score-partwise PUBLIC "-//Recordare//DTD MusicXML 4.0 Partwise//EN" "http://www.musicxml.org/dtds/partwise.dtd">\n      '.trim(),indent:"  "})}convertDocument(){return{_name:"score-partwise",_attrs:{version:"4.0"},_content:[{work:{"work-title":this.title}},{identification:[{encoding:[{software:`@infojunkie/scalextric ${u.default.version}`},{"encoding-date":c.convertDate(new Date)}]}]},{"part-list":{_name:"score-part",_attrs:{id:"P1"},_content:{_name:"part-name",_attrs:{"print-object":"no"},_content:this.title}}},{_name:"part",_attrs:{id:"P1"},_content:this.convertObjects()}]}}convertObjects(){return this.objects.reduce(((t,e,n)=>{let r=this.convertMeasure(t.length+1);t.push(r),n>0&&r._content.push({_name:"print",_attrs:{"new-system":"yes"}}),0===n&&r._content.push({attributes:[{divisions:this.options.divisions},{key:[{fifths:0},{mode:"major"}]},{time:[{beats:this.options.time.beats},{"beat-type":this.options.time.beatType}]},{clef:[{sign:"G"},{line:2}]}]},{_name:"direction",_attrs:{placement:"above"},_content:[{"direction-type":[{_name:"metronome",_attrs:{parentheses:"no"},_content:[{"beat-unit":c.durations[this.options.time.beatType]},{"per-minute":this.options.tempo}]}]},{_name:"sound",_attrs:{tempo:this.options.tempo}}]});const i=o.Annotation.findByLabel("label",e.annotations);i&&r._content.push({_name:"direction",_attrs:{placement:"above"},_content:[{"direction-type":[{words:i[0]}]}]});let a=0;if(e.tones.forEach(((n,i)=>{r._content.push(this.convertNote(n,e)),a=(a+1)%this.options.time.beats,0===a&&i<e.tones.length-1&&(r=this.convertMeasure(t.length+1),t.push(r))})),a>0)for(;a++<this.options.time.beats;)r._content.push({_name:"note",_content:[{_name:"rest"},{duration:this.options.divisions},{type:c.durations[this.options.time.beatType]}]});return r._content.push(this.convertBar("right","light-light")),t}),[])}convertBar(t,e){return{_name:"barline",_attrs:{location:t},_content:[{"bar-style":e}]}}convertMeasure(t){return{_name:"measure",_attrs:{number:t},_content:[]}}convertNote(t,e){const n=e.solmization.name(t)[0],r=n[0],i=this.convertAccidental(n.slice(1,-1)),a=n[n.length-1],s=this.reference.parse(`${r}${a}`),o=t.tune.difference(s.tune).cents;return{_name:"note",_content:[{_name:"pitch",_content:[{step:r},{alter:Math.round(100*o)/1e4},{octave:a}]},{duration:this.options.divisions},{type:c.durations[this.options.time.beatType]},Object.assign({},i&&"other"!==i&&{accidental:i}),Object.assign({},i&&"other"===i&&{_name:"accidental",_content:i,_attrs:{smufl:n.slice(1,-1)}})]}}convertAccidental(t){return t.length?t in c.accidentals?c.accidentals[t]:"other":null}static convertDate(t){return new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().split("T")[0]}}e.MusicXML=c,c.defaultOptions={divisions:768,time:{beats:4,beatType:4},tempo:60},c.accidentals={"#":"sharp","♯":"sharp","":"sharp",n:"natural","♮":"natural","":"natural",b:"flat","♭":"flat","":"flat",x:"double-sharp","𝄪":"double-sharp","":"double-sharp","##":"sharp-sharp","♯♯":"sharp-sharp","":"sharp-sharp",bb:"flat-flat","♭♭":"flat-flat","𝄫":"flat-flat","":"flat-flat","n#":"natural-sharp","♮♯":"natural-sharp","":"natural-sharp",nb:"natural-flat","♮♭":"natural-flat","":"natural-flat","#x":"triple-sharp","♯𝄪":"triple-sharp","":"triple-sharp",bbb:"triple-flat","♭♭♭":"triple-flat","":"triple-flat","":"quarter-flat","":"quarter-sharp","":"three-quarters-flat","":"three-quarters-sharp","":"sharp-down","":"sharp-up","":"natural-down","":"natural-up","":"flat-down","":"flat-up","":"double-sharp-down","":"double-sharp-up","":"flat-flat-down","":"flat-flat-up","":"arrow-down","":"arrow-up","":"slash-quarter-sharp","":"slash-sharp","":"slash-flat","":"double-slash-flat","":"quarter-flat","":"quarter-sharp","":"flat","":"sharp","":"sharp-1","":"sharp-2","":"sharp-3","":"sharp-5","":"flat-1","":"flat-2","":"flat-3","":"flat-4","":"sori","":"koron"},c.durations={8:"eighth",4:"quarter",2:"half",1:"whole"}},624:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Solmization=void 0;const r=n(312),i=n(823),a=n(329);e.Solmization=class{constructor(t,e,n){this.tuning=t,this.notes=e,this.accidentals=n,this.parseMap=new a.Multimap,Object.keys(e).forEach((r=>{this.parseMap.set(r,e[r]),Object.keys(n).forEach((a=>{this.parseMap.set(`${r}${a}`,(0,i.mod)(e[r]+n[a],t.steps))}))})),this.nameMap=new a.Multimap,Object.keys(e).forEach((r=>{const a=[0];this.nameMap.set(r,e[r]),Object.keys(n).forEach((s=>{a.includes(n[s])||(this.nameMap.set(`${r}${s}`,(0,i.mod)(e[r]+n[s],t.steps)),a.push(n[s]))}))})),this.regex=new RegExp("^("+Array.from(this.parseMap.keys()).map(i.escapeRegExp).join("|")+")(-?\\d)$","i")}name(t){return[...this.nameMap.getKey(t.pitchClass)].sort(((t,e)=>t.length-e.length)).map((e=>`${e}${t.octave}`))}parse(t){const e=this.regex.exec(t);if(!e)throw new Error(`[Solmization.parse] Could not match note ${t}`);return new r.Tone(this.tuning,this.parseMap.get(e[1]),parseInt(e[2],10))}}},186:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToneRowSolmized=e.ToneRow=void 0;const r=n(312);class i{constructor(t,e,n=[]){if(this.tuning=t,this.tones=e,this.annotations=n,e.some(((t,n)=>!!e.slice(n+1).find((e=>e.pitchClass===t.pitchClass)))))throw Error("Found repeating pitch class in tone row.")}transpose(t){return new i(this.tuning,this.tones.map((e=>r.Tone.fromPitch(this.tuning,t.pitch+e.pitch))))}invert(t){return new i(this.tuning,this.tones.map((e=>r.Tone.fromPitch(this.tuning,t.pitch-e.pitch))))}reverse(){return new i(this.tuning,[...this.tones].reverse())}rotate(t){const e=t%this.tones.length;return new i(this.tuning,[...this.tones.slice(e),...this.tones.slice(0,e)])}monotonize(t=!1){return new i(this.tuning,this.tones.reduce(((e,n)=>{const i=e.length>0?e[e.length-1]:n;return!t&&n.pitch<i.pitch?e.push(new r.Tone(this.tuning,n.pitchClass,i.octave+(n.pitchClass<i.pitchClass?1:0))):t&&n.pitch>i.pitch?e.push(new r.Tone(this.tuning,n.pitchClass,i.octave+(n.pitchClass>i.pitchClass?-1:0))):e.push(n),e}),[]))}get pitches(){return this.tones.map((t=>t.pitch))}static fromPitches(t,e,n=[]){return new i(t,e.map((e=>r.Tone.fromPitch(t,e))),n)}static fromPitchClasses(t,e,n,a=[]){return new i(t,e.map((e=>new r.Tone(t,e,n))),a)}}e.ToneRow=i;class a extends i{constructor(t,e,n,r=[]){super(t,n,r),this.tuning=t,this.solmization=e,this.tones=n,this.annotations=r}static fromToneRow(t,e){return new a(t.tuning,e,t.tones,t.annotations)}}e.ToneRowSolmized=a},312:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tone=e.Tuning=void 0;const r=n(655).__importDefault(n(628)),i=n(823),a=n(635);class s{constructor(t,e=[]){this.intervals=t,this.annotations=e,this.intervals.sort(a.Interval.compare),1!=this.intervals[0].ratio.valueOf()&&(this.intervals=[new a.Interval(new r.default(1)),...this.intervals])}static fromIntervals(t,e=[]){return new s(t.map((t=>"string"==typeof t?new a.Interval(new r.default(t)):a.Interval.fromCents(t))),e)}get transposable(){if(void 0!==this._transposable)return this._transposable;const t=this.intervals[1].difference(this.intervals[0]);return this._transposable=this.intervals.slice(1).every(((e,n)=>{const r=e.difference(this.intervals[n]);return new a.Interval((0,i.flipFraction)(r.difference(t).ratio,!0)).ratio.compare(a.Interval.JND.ratio)<0}))}get steps(){return this.intervals.length-1}get octave(){return this.intervals[this.steps]}tune(t){return new a.Interval(this.intervals[t.pitchClass].ratio.mul(this.octave.ratio.pow(t.octave)))}nearest(t){const e=Math.floor(Math.log(t.ratio.valueOf())/Math.log(this.octave.ratio.valueOf())),n=new a.Interval(t.ratio.div(this.octave.ratio.pow(e))),s=(0,i.binarySearch)(this.intervals,n,a.Interval.compare);if(s>=0)return{tone:new o(this,s,e),interval:t,difference:new a.Interval(new r.default(1))};{const r=~s,i=Math.abs(this.intervals[r-1].difference(n).cents),a=Math.abs(this.intervals[r].difference(n).cents),u=new o(this,i<a?r-1:r,e),c=this.tune(u);return{tone:u,interval:c,difference:c.difference(t)}}}static fromEdo(t){return new s(Array.from(Array(t+1)).map(((e,n)=>a.Interval.fromCents(1200/t*n))))}}e.Tuning=s;class o{constructor(t,e,n){this.tuning=t,this.pitchClass=e,this.octave=n}get pitch(){return this.pitchClass+this.octave*this.tuning.steps}get tune(){return this.tuning.tune(this)}static fromPitch(t,e){return new o(t,(0,i.mod)(e,t.steps),Math.floor(e/t.steps))}}e.Tone=o},607:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(655);r.__exportStar(n(312),e),r.__exportStar(n(624),e),r.__exportStar(n(635),e),r.__exportStar(n(186),e),r.__exportStar(n(73),e),r.__exportStar(n(321),e)},321:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Annotation=void 0,e.Annotation=class{static findByLabel(t,e){return e.filter((e=>e.label===t)).map((t=>t.value))}constructor(t,e){this.label=t,this.value=e}}},329:(t,e)=>{"use strict";var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.Multimap=e.Bimap=void 0,e.Bimap=class{constructor(){this.keyValueMap=new Map,this.valueKeyMap=new Map,this[n]=this.keyValueMap[Symbol.iterator],this.entries=()=>this.keyValueMap.entries(),this.keys=()=>this.keyValueMap.keys(),this.values=()=>this.keyValueMap.values(),this.get=t=>this.keyValueMap.get(t),this.getKey=t=>this.valueKeyMap.get(t),this.getValue=t=>this.get(t),this.set=(t,e)=>(this.delete(t),this.deleteValue(e),this.keyValueMap.set(t,e),this.valueKeyMap.set(e,t),this),this.setKey=(t,e)=>this.set(e,t),this.setValue=(t,e)=>this.set(t,e),this.clear=()=>{this.keyValueMap.clear(),this.valueKeyMap.clear()},this.delete=t=>{if(this.has(t)){const e=this.keyValueMap.get(t);return this.keyValueMap.delete(t),this.valueKeyMap.delete(e),!0}return!1},this.deleteKey=t=>this.delete(t),this.deleteValue=t=>!!this.hasValue(t)&&this.delete(this.valueKeyMap.get(t)),this.forEach=(t,e)=>{this.keyValueMap.forEach(((n,r)=>{t.apply(e,[n,r,this])}))},this.has=t=>this.keyValueMap.has(t),this.hasKey=t=>this.has(t),this.hasValue=t=>this.valueKeyMap.has(t),this.inspect=()=>{let t="Bimap {",e=0;return this.forEach(((n,r)=>{e++,t+=r.toString()+" => "+n.toString(),e<this.size&&(t+=", ")})),t+="}",t}}get size(){return this.keyValueMap.size}},Symbol.toStringTag,n=Symbol.iterator,e.Multimap=class{constructor(){this.keyValueMap=new Map,this.valueKeyMap=new Map,this[r]=this.keyValueMap[Symbol.iterator],this.entries=()=>this.keyValueMap.entries(),this.keys=()=>this.keyValueMap.keys(),this.values=()=>this.keyValueMap.values(),this.get=t=>this.keyValueMap.get(t),this.getKey=t=>this.valueKeyMap.get(t),this.getValue=t=>this.get(t),this.set=(t,e)=>{this.delete(t),this.keyValueMap.set(t,e);const n=this.valueKeyMap.get(e)||[];return this.valueKeyMap.set(e,[...n,t]),this},this.setKey=(t,e)=>this.set(e,t),this.setValue=(t,e)=>this.set(t,e),this.clear=()=>{this.keyValueMap.clear(),this.valueKeyMap.clear()},this.delete=t=>{if(this.has(t)){const e=this.keyValueMap.get(t);this.keyValueMap.delete(t);const n=this.valueKeyMap.get(e).filter((e=>e!==t));return n.length>0?this.valueKeyMap.set(e,n):this.valueKeyMap.delete(e),!0}return!1},this.deleteKey=t=>this.delete(t),this.deleteValue=t=>!!this.hasValue(t)&&(this.valueKeyMap.get(t).forEach((t=>{this.delete(t)})),!0),this.forEach=(t,e)=>{this.keyValueMap.forEach(((n,r)=>{t.apply(e,[n,r,this])}))},this.has=t=>this.keyValueMap.has(t),this.hasKey=t=>this.has(t),this.hasValue=t=>this.valueKeyMap.has(t),this.inspect=()=>{let t="Multimap {",e=0;return this.forEach(((n,r)=>{e++,t+=r.toString()+" => "+n.toString(),e<this.size&&(t+=", ")})),t+="}",t}}get size(){return this.keyValueMap.size}},Symbol.toStringTag,r=Symbol.iterator},823:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrayRange=e.mod=e.arrayUnique=e.arrayEqual=e.binarySearch=e.flipFraction=e.primes=e.escapeRegExp=void 0,e.escapeRegExp=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},e.primes=function(t){const e=[],n=[];for(let r=2;r<=t;++r)if(!e[r]){n.push(r);for(let n=r<<1;n<=t;n+=r)e[n]=!0}return n},e.flipFraction=function(t,e=!1){return e?t.abs().compare(1)<0?t.inverse():t:t.abs().compare(1)>0?t.inverse():t},e.binarySearch=function(t,e,n){let r=0,i=t.length-1;for(;r<=i;){const a=i+r>>1,s=n(e,t[a]);if(s>0)r=a+1;else{if(!(s<0))return a;i=a-1}}return~r},e.arrayEqual=function(t,e,n){return t.length===e.length&&t.every(((t,r)=>0===n(t,e[r])))},e.arrayUnique=function(t){return[...new Set(t)]},e.mod=function(t,e){return(t%e+e)%e},e.arrayRange=function(t,e=0){return[...Array(t).keys()].map((t=>t+e))}},655:(t,e,n)=>{"use strict";n.r(e),n.d(e,{__assign:()=>a,__asyncDelegator:()=>_,__asyncGenerator:()=>g,__asyncValues:()=>w,__await:()=>b,__awaiter:()=>l,__classPrivateFieldGet:()=>S,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>o,__exportStar:()=>p,__extends:()=>i,__generator:()=>h,__importDefault:()=>j,__importStar:()=>O,__makeTemplateObject:()=>M,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>s,__spread:()=>y,__spreadArrays:()=>m,__values:()=>d});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},a.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function o(t,e,n,r){var i,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(s=(a<3?i(s):a>3?i(e,n,s):i(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,a){function s(t){try{u(r.next(t))}catch(t){a(t)}}function o(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),a=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){a.push([t,e,n,r])>1||o(t,e)}))})}function o(t,e){try{(n=i[t](e)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(a[0][2],n)}catch(t){l(a[0][3],t)}var n}function u(t){o("next",t)}function c(t){o("throw",t)}function l(t,e){t(e),a.shift(),a.length&&o(a[0][0],a[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:b(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function M(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function O(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function j(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function k(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},147:t=>{"use strict";t.exports=JSON.parse('{"name":"scalextric","version":"0.4.1","description":"Like Scala for Web programmers","main":"dist/scalextric.js","types":"dist/index.d.ts","scripts":{"build":"webpack","develop":"webpack --mode=development","test":"npm run test:lint && npm run test:unit","test:lint":"eslint src","test:unit":"nyc ts-mocha -p tsconfig.json test/**/*.spec.ts","test:bundle":"npm run build && mocha test/**/*.spec.js","build:chords":"python src/utils/chordtable/generate.py > data/chords.json && echo \'Generate data/chords.json file\'","build:scales":"wget -q -O data/scales.zip http://huygens-fokker.org/docs/scales.zip && unzip -o data/scales.zip -d data/ && for f in data/scl/*; do iconv -f iso-8859-1 -t utf-8 \\"$f\\" -o \\"$f\\"; done"},"author":"Karim Ratib <karim.ratib@gmail.com> (https://github.com/infojunkie)","license":"GPL-3.0-only","devDependencies":{"@types/chai":"^4.2.18","@types/mocha":"^10.0.0","@types/node":"^16.11.7","@typescript-eslint/eslint-plugin":"^5.4.0","@typescript-eslint/parser":"^5.4.0","@xmldom/xmldom":"^0.8.6","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-deep-closeto":"^0.1.1","eslint":"^8.2.0","eslint-config-google":"^0.14.0","eslint-config-prettier":"^8.3.0","eslint-webpack-plugin":"^3.1.1","http-server":"^14.1.1","mocha":"^10.2.0","nyc":"^15.1.0","ts-loader":"^9.2.6","ts-mocha":"^10.0.0","ts-node":"^10.4.0","typescript":"^4.9.4","validate-with-xmllint":"^1.2.1","webpack":"^5.76.0","webpack-cli":"^4.7.0"},"dependencies":{"fraction.js":"^4.1.2","jstoxml":"^3.2.6"}}')}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}return n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(607)})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZXMiOlsid2VicGFjazovL1NjYWxleHRyaWMvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL1NjYWxleHRyaWMvLi9ub2RlX21vZHVsZXMvZnJhY3Rpb24uanMvZnJhY3Rpb24uanMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy8uL25vZGVfbW9kdWxlcy9qc3RveG1sL2Rpc3QvanN0b3htbC5qcyIsIndlYnBhY2s6Ly9TY2FsZXh0cmljLy4vc3JjL0ludGVydmFsLnRzIiwid2VicGFjazovL1NjYWxleHRyaWMvLi9zcmMvTXVzaWNYTUwudHMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy8uL3NyYy9Tb2xtaXphdGlvbi50cyIsIndlYnBhY2s6Ly9TY2FsZXh0cmljLy4vc3JjL1RvbmVSb3cudHMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy8uL3NyYy9UdW5pbmcudHMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9TY2FsZXh0cmljLy4vc3JjL3V0aWxzL0Fubm90YXRpb24udHMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy8uL3NyYy91dGlscy9CaW1hcC50cyIsIndlYnBhY2s6Ly9TY2FsZXh0cmljLy4vc3JjL3V0aWxzL2hlbHBlcnMudHMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9TY2FsZXh0cmljL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9TY2FsZXh0cmljL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL1NjYWxleHRyaWMvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlNjYWxleHRyaWNcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiU2NhbGV4dHJpY1wiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsICgpID0+IHtcbnJldHVybiAiLCIvKipcbiAqIEBsaWNlbnNlIEZyYWN0aW9uLmpzIHY0LjIuMCAwNS8wMy8yMDIyXG4gKiBodHRwczovL3d3dy54YXJnLm9yZy8yMDE0LzAzL3JhdGlvbmFsLW51bWJlcnMtaW4tamF2YXNjcmlwdC9cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEsIFJvYmVydCBFaXNlbGUgKHJvYmVydEB4YXJnLm9yZylcbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLlxuICoqL1xuXG5cbi8qKlxuICpcbiAqIFRoaXMgY2xhc3Mgb2ZmZXJzIHRoZSBwb3NzaWJpbGl0eSB0byBjYWxjdWxhdGUgZnJhY3Rpb25zLlxuICogWW91IGNhbiBwYXNzIGEgZnJhY3Rpb24gaW4gZGlmZmVyZW50IGZvcm1hdHMuIEVpdGhlciBhcyBhcnJheSwgYXMgZG91YmxlLCBhcyBzdHJpbmcgb3IgYXMgYW4gaW50ZWdlci5cbiAqXG4gKiBBcnJheS9PYmplY3QgZm9ybVxuICogWyAwID0+IDxub21pbmF0b3I+LCAxID0+IDxkZW5vbWluYXRvcj4gXVxuICogWyBuID0+IDxub21pbmF0b3I+LCBkID0+IDxkZW5vbWluYXRvcj4gXVxuICpcbiAqIEludGVnZXIgZm9ybVxuICogLSBTaW5nbGUgaW50ZWdlciB2YWx1ZVxuICpcbiAqIERvdWJsZSBmb3JtXG4gKiAtIFNpbmdsZSBkb3VibGUgdmFsdWVcbiAqXG4gKiBTdHJpbmcgZm9ybVxuICogMTIzLjQ1NiAtIGEgc2ltcGxlIGRvdWJsZVxuICogMTIzLzQ1NiAtIGEgc3RyaW5nIGZyYWN0aW9uXG4gKiAxMjMuJzQ1NicgLSBhIGRvdWJsZSB3aXRoIHJlcGVhdGluZyBkZWNpbWFsIHBsYWNlc1xuICogMTIzLig0NTYpIC0gc3lub255bVxuICogMTIzLjQ1JzYnIC0gYSBkb3VibGUgd2l0aCByZXBlYXRpbmcgbGFzdCBwbGFjZVxuICogMTIzLjQ1KDYpIC0gc3lub255bVxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogdmFyIGYgPSBuZXcgRnJhY3Rpb24oXCI5LjQnMzEnXCIpO1xuICogZi5tdWwoWy00LCAzXSkuZGl2KDQuOSk7XG4gKlxuICovXG5cbihmdW5jdGlvbihyb290KSB7XG5cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLy8gTWF4aW11bSBzZWFyY2ggZGVwdGggZm9yIGN5Y2xpYyByYXRpb25hbCBudW1iZXJzLiAyMDAwIHNob3VsZCBiZSBtb3JlIHRoYW4gZW5vdWdoLlxuICAvLyBFeGFtcGxlOiAxLzcgPSAwLigxNDI4NTcpIGhhcyA2IHJlcGVhdGluZyBkZWNpbWFsIHBsYWNlcy5cbiAgLy8gSWYgTUFYX0NZQ0xFX0xFTiBnZXRzIHJlZHVjZWQsIGxvbmcgY3ljbGVzIHdpbGwgbm90IGJlIGRldGVjdGVkIGFuZCB0b1N0cmluZygpIG9ubHkgZ2V0cyB0aGUgZmlyc3QgMTAgZGlnaXRzXG4gIHZhciBNQVhfQ1lDTEVfTEVOID0gMjAwMDtcblxuICAvLyBQYXJzZWQgZGF0YSB0byBhdm9pZCBjYWxsaW5nIFwibmV3XCIgYWxsIHRoZSB0aW1lXG4gIHZhciBQID0ge1xuICAgIFwic1wiOiAxLFxuICAgIFwiblwiOiAwLFxuICAgIFwiZFwiOiAxXG4gIH07XG5cbiAgZnVuY3Rpb24gYXNzaWduKG4sIHMpIHtcblxuICAgIGlmIChpc05hTihuID0gcGFyc2VJbnQobiwgMTApKSkge1xuICAgICAgdGhyb3cgRnJhY3Rpb25bJ0ludmFsaWRQYXJhbWV0ZXInXTtcbiAgICB9XG4gICAgcmV0dXJuIG4gKiBzO1xuICB9XG5cbiAgLy8gQ3JlYXRlcyBhIG5ldyBGcmFjdGlvbiBpbnRlcm5hbGx5IHdpdGhvdXQgdGhlIG5lZWQgb2YgdGhlIGJ1bGt5IGNvbnN0cnVjdG9yXG4gIGZ1bmN0aW9uIG5ld0ZyYWN0aW9uKG4sIGQpIHtcblxuICAgIGlmIChkID09PSAwKSB7XG4gICAgICB0aHJvdyBGcmFjdGlvblsnRGl2aXNpb25CeVplcm8nXTtcbiAgICB9XG5cbiAgICB2YXIgZiA9IE9iamVjdC5jcmVhdGUoRnJhY3Rpb24ucHJvdG90eXBlKTtcbiAgICBmW1wic1wiXSA9IG4gPCAwID8gLTEgOiAxO1xuXG4gICAgbiA9IG4gPCAwID8gLW4gOiBuO1xuXG4gICAgdmFyIGEgPSBnY2QobiwgZCk7XG5cbiAgICBmW1wiblwiXSA9IG4gLyBhO1xuICAgIGZbXCJkXCJdID0gZCAvIGE7XG4gICAgcmV0dXJuIGY7XG4gIH1cblxuICBmdW5jdGlvbiBmYWN0b3JpemUobnVtKSB7XG5cbiAgICB2YXIgZmFjdG9ycyA9IHt9O1xuXG4gICAgdmFyIG4gPSBudW07XG4gICAgdmFyIGkgPSAyO1xuICAgIHZhciBzID0gNDtcblxuICAgIHdoaWxlIChzIDw9IG4pIHtcblxuICAgICAgd2hpbGUgKG4gJSBpID09PSAwKSB7XG4gICAgICAgIG4vPSBpO1xuICAgICAgICBmYWN0b3JzW2ldID0gKGZhY3RvcnNbaV0gfHwgMCkgKyAxO1xuICAgICAgfVxuICAgICAgcys9IDEgKyAyICogaSsrO1xuICAgIH1cblxuICAgIGlmIChuICE9PSBudW0pIHtcbiAgICAgIGlmIChuID4gMSlcbiAgICAgICAgZmFjdG9yc1tuXSA9IChmYWN0b3JzW25dIHx8IDApICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmFjdG9yc1tudW1dID0gKGZhY3RvcnNbbnVtXSB8fCAwKSArIDE7XG4gICAgfVxuICAgIHJldHVybiBmYWN0b3JzO1xuICB9XG5cbiAgdmFyIHBhcnNlID0gZnVuY3Rpb24ocDEsIHAyKSB7XG5cbiAgICB2YXIgbiA9IDAsIGQgPSAxLCBzID0gMTtcbiAgICB2YXIgdiA9IDAsIHcgPSAwLCB4ID0gMCwgeSA9IDEsIHogPSAxO1xuXG4gICAgdmFyIEEgPSAwLCBCID0gMTtcbiAgICB2YXIgQyA9IDEsIEQgPSAxO1xuXG4gICAgdmFyIE4gPSAxMDAwMDAwMDtcbiAgICB2YXIgTTtcblxuICAgIGlmIChwMSA9PT0gdW5kZWZpbmVkIHx8IHAxID09PSBudWxsKSB7XG4gICAgICAvKiB2b2lkICovXG4gICAgfSBlbHNlIGlmIChwMiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBuID0gcDE7XG4gICAgICBkID0gcDI7XG4gICAgICBzID0gbiAqIGQ7XG5cbiAgICAgIGlmIChuICUgMSAhPT0gMCB8fCBkICUgMSAhPT0gMCkge1xuICAgICAgICB0aHJvdyBGcmFjdGlvblsnTm9uSW50ZWdlclBhcmFtZXRlciddO1xuICAgICAgfVxuXG4gICAgfSBlbHNlXG4gICAgICBzd2l0Y2ggKHR5cGVvZiBwMSkge1xuXG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAoXCJkXCIgaW4gcDEgJiYgXCJuXCIgaW4gcDEpIHtcbiAgICAgICAgICAgICAgbiA9IHAxW1wiblwiXTtcbiAgICAgICAgICAgICAgZCA9IHAxW1wiZFwiXTtcbiAgICAgICAgICAgICAgaWYgKFwic1wiIGluIHAxKVxuICAgICAgICAgICAgICAgIG4qPSBwMVtcInNcIl07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKDAgaW4gcDEpIHtcbiAgICAgICAgICAgICAgbiA9IHAxWzBdO1xuICAgICAgICAgICAgICBpZiAoMSBpbiBwMSlcbiAgICAgICAgICAgICAgICBkID0gcDFbMV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyBGcmFjdGlvblsnSW52YWxpZFBhcmFtZXRlciddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcyA9IG4gKiBkO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKHAxIDwgMCkge1xuICAgICAgICAgICAgICBzID0gcDE7XG4gICAgICAgICAgICAgIHAxID0gLXAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocDEgJSAxID09PSAwKSB7XG4gICAgICAgICAgICAgIG4gPSBwMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocDEgPiAwKSB7IC8vIGNoZWNrIGZvciAhPSAwLCBzY2FsZSB3b3VsZCBiZWNvbWUgTmFOIChsb2coMCkpLCB3aGljaCBjb252ZXJnZXMgcmVhbGx5IHNsb3dcblxuICAgICAgICAgICAgICBpZiAocDEgPj0gMSkge1xuICAgICAgICAgICAgICAgIHogPSBNYXRoLnBvdygxMCwgTWF0aC5mbG9vcigxICsgTWF0aC5sb2cocDEpIC8gTWF0aC5MTjEwKSk7XG4gICAgICAgICAgICAgICAgcDEvPSB6O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gVXNpbmcgRmFyZXkgU2VxdWVuY2VzXG4gICAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cuam9obmRjb29rLmNvbS9ibG9nLzIwMTAvMTAvMjAvYmVzdC1yYXRpb25hbC1hcHByb3hpbWF0aW9uL1xuXG4gICAgICAgICAgICAgIHdoaWxlIChCIDw9IE4gJiYgRCA8PSBOKSB7XG4gICAgICAgICAgICAgICAgTSA9IChBICsgQykgLyAoQiArIEQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHAxID09PSBNKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoQiArIEQgPD0gTikge1xuICAgICAgICAgICAgICAgICAgICBuID0gQSArIEM7XG4gICAgICAgICAgICAgICAgICAgIGQgPSBCICsgRDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoRCA+IEIpIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IEM7XG4gICAgICAgICAgICAgICAgICAgIGQgPSBEO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IEE7XG4gICAgICAgICAgICAgICAgICAgIGQgPSBCO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICBpZiAocDEgPiBNKSB7XG4gICAgICAgICAgICAgICAgICAgIEErPSBDO1xuICAgICAgICAgICAgICAgICAgICBCKz0gRDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIEMrPSBBO1xuICAgICAgICAgICAgICAgICAgICBEKz0gQjtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgaWYgKEIgPiBOKSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSBDO1xuICAgICAgICAgICAgICAgICAgICBkID0gRDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSBBO1xuICAgICAgICAgICAgICAgICAgICBkID0gQjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbio9IHo7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTmFOKHAxKSB8fCBpc05hTihwMikpIHtcbiAgICAgICAgICAgICAgZCA9IG4gPSBOYU47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBCID0gcDEubWF0Y2goL1xcZCt8Li9nKTtcblxuICAgICAgICAgICAgaWYgKEIgPT09IG51bGwpXG4gICAgICAgICAgICAgIHRocm93IEZyYWN0aW9uWydJbnZhbGlkUGFyYW1ldGVyJ107XG5cbiAgICAgICAgICAgIGlmIChCW0FdID09PSAnLScpIHsvLyBDaGVjayBmb3IgbWludXMgc2lnbiBhdCB0aGUgYmVnaW5uaW5nXG4gICAgICAgICAgICAgIHMgPSAtMTtcbiAgICAgICAgICAgICAgQSsrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChCW0FdID09PSAnKycpIHsvLyBDaGVjayBmb3IgcGx1cyBzaWduIGF0IHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICAgICAgQSsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoQi5sZW5ndGggPT09IEEgKyAxKSB7IC8vIENoZWNrIGlmIGl0J3MganVzdCBhIHNpbXBsZSBudW1iZXIgXCIxMjM0XCJcbiAgICAgICAgICAgICAgdyA9IGFzc2lnbihCW0ErK10sIHMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChCW0EgKyAxXSA9PT0gJy4nIHx8IEJbQV0gPT09ICcuJykgeyAvLyBDaGVjayBpZiBpdCdzIGEgZGVjaW1hbCBudW1iZXJcblxuICAgICAgICAgICAgICBpZiAoQltBXSAhPT0gJy4nKSB7IC8vIEhhbmRsZSAwLjUgYW5kIC41XG4gICAgICAgICAgICAgICAgdiA9IGFzc2lnbihCW0ErK10sIHMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIEErKztcblxuICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgZGVjaW1hbCBwbGFjZXNcbiAgICAgICAgICAgICAgaWYgKEEgKyAxID09PSBCLmxlbmd0aCB8fCBCW0EgKyAxXSA9PT0gJygnICYmIEJbQSArIDNdID09PSAnKScgfHwgQltBICsgMV0gPT09IFwiJ1wiICYmIEJbQSArIDNdID09PSBcIidcIikge1xuICAgICAgICAgICAgICAgIHcgPSBhc3NpZ24oQltBXSwgcyk7XG4gICAgICAgICAgICAgICAgeSA9IE1hdGgucG93KDEwLCBCW0FdLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgQSsrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHJlcGVhdGluZyBwbGFjZXNcbiAgICAgICAgICAgICAgaWYgKEJbQV0gPT09ICcoJyAmJiBCW0EgKyAyXSA9PT0gJyknIHx8IEJbQV0gPT09IFwiJ1wiICYmIEJbQSArIDJdID09PSBcIidcIikge1xuICAgICAgICAgICAgICAgIHggPSBhc3NpZ24oQltBICsgMV0sIHMpO1xuICAgICAgICAgICAgICAgIHogPSBNYXRoLnBvdygxMCwgQltBICsgMV0ubGVuZ3RoKSAtIDE7XG4gICAgICAgICAgICAgICAgQSs9IDM7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIGlmIChCW0EgKyAxXSA9PT0gJy8nIHx8IEJbQSArIDFdID09PSAnOicpIHsgLy8gQ2hlY2sgZm9yIGEgc2ltcGxlIGZyYWN0aW9uIFwiMTIzLzQ1NlwiIG9yIFwiMTIzOjQ1NlwiXG4gICAgICAgICAgICAgIHcgPSBhc3NpZ24oQltBXSwgcyk7XG4gICAgICAgICAgICAgIHkgPSBhc3NpZ24oQltBICsgMl0sIDEpO1xuICAgICAgICAgICAgICBBKz0gMztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQltBICsgM10gPT09ICcvJyAmJiBCW0EgKyAxXSA9PT0gJyAnKSB7IC8vIENoZWNrIGZvciBhIGNvbXBsZXggZnJhY3Rpb24gXCIxMjMgMS8yXCJcbiAgICAgICAgICAgICAgdiA9IGFzc2lnbihCW0FdLCBzKTtcbiAgICAgICAgICAgICAgdyA9IGFzc2lnbihCW0EgKyAyXSwgcyk7XG4gICAgICAgICAgICAgIHkgPSBhc3NpZ24oQltBICsgNF0sIDEpO1xuICAgICAgICAgICAgICBBKz0gNTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKEIubGVuZ3RoIDw9IEEpIHsgLy8gQ2hlY2sgZm9yIG1vcmUgdG9rZW5zIG9uIHRoZSBzdGFja1xuICAgICAgICAgICAgICBkID0geSAqIHo7XG4gICAgICAgICAgICAgIHMgPSAvKiB2b2lkICovXG4gICAgICAgICAgICAgIG4gPSB4ICsgZCAqIHYgKyB6ICogdztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qIEZhbGwgdGhyb3VnaCBvbiBlcnJvciAqL1xuICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBGcmFjdGlvblsnSW52YWxpZFBhcmFtZXRlciddO1xuICAgICAgfVxuXG4gICAgaWYgKGQgPT09IDApIHtcbiAgICAgIHRocm93IEZyYWN0aW9uWydEaXZpc2lvbkJ5WmVybyddO1xuICAgIH1cblxuICAgIFBbXCJzXCJdID0gcyA8IDAgPyAtMSA6IDE7XG4gICAgUFtcIm5cIl0gPSBNYXRoLmFicyhuKTtcbiAgICBQW1wiZFwiXSA9IE1hdGguYWJzKGQpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1vZHBvdyhiLCBlLCBtKSB7XG5cbiAgICB2YXIgciA9IDE7XG4gICAgZm9yICg7IGUgPiAwOyBiID0gKGIgKiBiKSAlIG0sIGUgPj49IDEpIHtcblxuICAgICAgaWYgKGUgJiAxKSB7XG4gICAgICAgIHIgPSAociAqIGIpICUgbTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGN5Y2xlTGVuKG4sIGQpIHtcblxuICAgIGZvciAoOyBkICUgMiA9PT0gMDtcbiAgICAgIGQvPSAyKSB7XG4gICAgfVxuXG4gICAgZm9yICg7IGQgJSA1ID09PSAwO1xuICAgICAgZC89IDUpIHtcbiAgICB9XG5cbiAgICBpZiAoZCA9PT0gMSkgLy8gQ2F0Y2ggbm9uLWN5Y2xpYyBudW1iZXJzXG4gICAgICByZXR1cm4gMDtcblxuICAgIC8vIElmIHdlIHdvdWxkIGxpa2UgdG8gY29tcHV0ZSByZWFsbHkgbGFyZ2UgbnVtYmVycyBxdWlja2VyLCB3ZSBjb3VsZCBtYWtlIHVzZSBvZiBGZXJtYXQncyBsaXR0bGUgdGhlb3JlbTpcbiAgICAvLyAxMF4oZC0xKSAlIGQgPT0gMVxuICAgIC8vIEhvd2V2ZXIsIHdlIGRvbid0IG5lZWQgc3VjaCBsYXJnZSBudW1iZXJzIGFuZCBNQVhfQ1lDTEVfTEVOIHNob3VsZCBiZSB0aGUgY2Fwc3RvbmUsXG4gICAgLy8gYXMgd2Ugd2FudCB0byB0cmFuc2xhdGUgdGhlIG51bWJlcnMgdG8gc3RyaW5ncy5cblxuICAgIHZhciByZW0gPSAxMCAlIGQ7XG4gICAgdmFyIHQgPSAxO1xuXG4gICAgZm9yICg7IHJlbSAhPT0gMTsgdCsrKSB7XG4gICAgICByZW0gPSByZW0gKiAxMCAlIGQ7XG5cbiAgICAgIGlmICh0ID4gTUFYX0NZQ0xFX0xFTilcbiAgICAgICAgcmV0dXJuIDA7IC8vIFJldHVybmluZyAwIGhlcmUgbWVhbnMgdGhhdCB3ZSBkb24ndCBwcmludCBpdCBhcyBhIGN5Y2xpYyBudW1iZXIuIEl0J3MgbGlrZWx5IHRoYXQgdGhlIGFuc3dlciBpcyBgZC0xYFxuICAgIH1cbiAgICByZXR1cm4gdDtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gY3ljbGVTdGFydChuLCBkLCBsZW4pIHtcblxuICAgIHZhciByZW0xID0gMTtcbiAgICB2YXIgcmVtMiA9IG1vZHBvdygxMCwgbGVuLCBkKTtcblxuICAgIGZvciAodmFyIHQgPSAwOyB0IDwgMzAwOyB0KyspIHsgLy8gcyA8IH5sb2cxMChOdW1iZXIuTUFYX1ZBTFVFKVxuICAgICAgLy8gU29sdmUgMTBecyA9PSAxMF4ocyt0KSAobW9kIGQpXG5cbiAgICAgIGlmIChyZW0xID09PSByZW0yKVxuICAgICAgICByZXR1cm4gdDtcblxuICAgICAgcmVtMSA9IHJlbTEgKiAxMCAlIGQ7XG4gICAgICByZW0yID0gcmVtMiAqIDEwICUgZDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBnY2QoYSwgYikge1xuXG4gICAgaWYgKCFhKVxuICAgICAgcmV0dXJuIGI7XG4gICAgaWYgKCFiKVxuICAgICAgcmV0dXJuIGE7XG5cbiAgICB3aGlsZSAoMSkge1xuICAgICAgYSU9IGI7XG4gICAgICBpZiAoIWEpXG4gICAgICAgIHJldHVybiBiO1xuICAgICAgYiU9IGE7XG4gICAgICBpZiAoIWIpXG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogTW9kdWxlIGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge251bWJlcnxGcmFjdGlvbj19IGFcbiAgICogQHBhcmFtIHtudW1iZXI9fSBiXG4gICAqL1xuICBmdW5jdGlvbiBGcmFjdGlvbihhLCBiKSB7XG5cbiAgICBwYXJzZShhLCBiKTtcblxuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgRnJhY3Rpb24pIHtcbiAgICAgIGEgPSBnY2QoUFtcImRcIl0sIFBbXCJuXCJdKTsgLy8gQWJ1c2UgdmFyaWFibGUgYVxuICAgICAgdGhpc1tcInNcIl0gPSBQW1wic1wiXTtcbiAgICAgIHRoaXNbXCJuXCJdID0gUFtcIm5cIl0gLyBhO1xuICAgICAgdGhpc1tcImRcIl0gPSBQW1wiZFwiXSAvIGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXdGcmFjdGlvbihQWydzJ10gKiBQWyduJ10sIFBbJ2QnXSk7XG4gICAgfVxuICB9XG5cbiAgRnJhY3Rpb25bJ0RpdmlzaW9uQnlaZXJvJ10gPSBuZXcgRXJyb3IoXCJEaXZpc2lvbiBieSBaZXJvXCIpO1xuICBGcmFjdGlvblsnSW52YWxpZFBhcmFtZXRlciddID0gbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudFwiKTtcbiAgRnJhY3Rpb25bJ05vbkludGVnZXJQYXJhbWV0ZXInXSA9IG5ldyBFcnJvcihcIlBhcmFtZXRlcnMgbXVzdCBiZSBpbnRlZ2VyXCIpO1xuXG4gIEZyYWN0aW9uLnByb3RvdHlwZSA9IHtcblxuICAgIFwic1wiOiAxLFxuICAgIFwiblwiOiAwLFxuICAgIFwiZFwiOiAxLFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgYWJzb2x1dGUgdmFsdWVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oLTQpLmFicygpID0+IDRcbiAgICAgKiovXG4gICAgXCJhYnNcIjogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBuZXdGcmFjdGlvbih0aGlzW1wiblwiXSwgdGhpc1tcImRcIl0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnZlcnRzIHRoZSBzaWduIG9mIHRoZSBjdXJyZW50IGZyYWN0aW9uXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKC00KS5uZWcoKSA9PiA0XG4gICAgICoqL1xuICAgIFwibmVnXCI6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3RnJhY3Rpb24oLXRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0sIHRoaXNbXCJkXCJdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbih7bjogMiwgZDogM30pLmFkZChcIjE0LjlcIikgPT4gNDY3IC8gMzBcbiAgICAgKiovXG4gICAgXCJhZGRcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiBuZXdGcmFjdGlvbihcbiAgICAgICAgdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdICsgUFtcInNcIl0gKiB0aGlzW1wiZFwiXSAqIFBbXCJuXCJdLFxuICAgICAgICB0aGlzW1wiZFwiXSAqIFBbXCJkXCJdXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oe246IDIsIGQ6IDN9KS5hZGQoXCIxNC45XCIpID0+IC00MjcgLyAzMFxuICAgICAqKi9cbiAgICBcInN1YlwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKFxuICAgICAgICB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdICogUFtcImRcIl0gLSBQW1wic1wiXSAqIHRoaXNbXCJkXCJdICogUFtcIm5cIl0sXG4gICAgICAgIHRoaXNbXCJkXCJdICogUFtcImRcIl1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCItMTcuKDM0NSlcIikubXVsKDMpID0+IDU3NzYgLyAxMTFcbiAgICAgKiovXG4gICAgXCJtdWxcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiBuZXdGcmFjdGlvbihcbiAgICAgICAgdGhpc1tcInNcIl0gKiBQW1wic1wiXSAqIHRoaXNbXCJuXCJdICogUFtcIm5cIl0sXG4gICAgICAgIHRoaXNbXCJkXCJdICogUFtcImRcIl1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERpdmlkZXMgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCItMTcuKDM0NSlcIikuaW52ZXJzZSgpLmRpdigzKVxuICAgICAqKi9cbiAgICBcImRpdlwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKFxuICAgICAgICB0aGlzW1wic1wiXSAqIFBbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSxcbiAgICAgICAgdGhpc1tcImRcIl0gKiBQW1wiblwiXVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBhY3R1YWwgb2JqZWN0XG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiLTE3LigzNDUpXCIpLmNsb25lKClcbiAgICAgKiovXG4gICAgXCJjbG9uZVwiOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXdGcmFjdGlvbih0aGlzWydzJ10gKiB0aGlzWyduJ10sIHRoaXNbJ2QnXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIG1vZHVsbyBvZiB0d28gcmF0aW9uYWwgbnVtYmVycyAtIGEgbW9yZSBwcmVjaXNlIGZtb2RcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oJzQuKDMpJykubW9kKFs3LCA4XSkgPT4gKDEzLzMpICUgKDcvOCkgPSAoNS82KVxuICAgICAqKi9cbiAgICBcIm1vZFwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIGlmIChpc05hTih0aGlzWyduJ10pIHx8IGlzTmFOKHRoaXNbJ2QnXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihOYU4pO1xuICAgICAgfVxuXG4gICAgICBpZiAoYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBuZXdGcmFjdGlvbih0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdICUgdGhpc1tcImRcIl0sIDEpO1xuICAgICAgfVxuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIGlmICgwID09PSBQW1wiblwiXSAmJiAwID09PSB0aGlzW1wiZFwiXSkge1xuICAgICAgICB0aHJvdyBGcmFjdGlvblsnRGl2aXNpb25CeVplcm8nXTtcbiAgICAgIH1cblxuICAgICAgLypcbiAgICAgICAqIEZpcnN0IHNpbGx5IGF0dGVtcHQsIGtpbmRhIHNsb3dcbiAgICAgICAqXG4gICAgICAgcmV0dXJuIHRoYXRbXCJzdWJcIl0oe1xuICAgICAgIFwiblwiOiBudW1bXCJuXCJdICogTWF0aC5mbG9vcigodGhpcy5uIC8gdGhpcy5kKSAvIChudW0ubiAvIG51bS5kKSksXG4gICAgICAgXCJkXCI6IG51bVtcImRcIl0sXG4gICAgICAgXCJzXCI6IHRoaXNbXCJzXCJdXG4gICAgICAgfSk7Ki9cblxuICAgICAgLypcbiAgICAgICAqIE5ldyBhdHRlbXB0OiBhMSAvIGIxID0gYTIgLyBiMiAqIHEgKyByXG4gICAgICAgKiA9PiBiMiAqIGExID0gYTIgKiBiMSAqIHEgKyBiMSAqIGIyICogclxuICAgICAgICogPT4gKGIyICogYTEgJSBhMiAqIGIxKSAvIChiMSAqIGIyKVxuICAgICAgICovXG4gICAgICByZXR1cm4gbmV3RnJhY3Rpb24oXG4gICAgICAgIHRoaXNbXCJzXCJdICogKFBbXCJkXCJdICogdGhpc1tcIm5cIl0pICUgKFBbXCJuXCJdICogdGhpc1tcImRcIl0pLFxuICAgICAgICBQW1wiZFwiXSAqIHRoaXNbXCJkXCJdXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBmcmFjdGlvbmFsIGdjZCBvZiB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbig1LDgpLmdjZCgzLDcpID0+IDEvNTZcbiAgICAgKi9cbiAgICBcImdjZFwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuXG4gICAgICAvLyBnY2QoYSAvIGIsIGMgLyBkKSA9IGdjZChhLCBjKSAvIGxjbShiLCBkKVxuXG4gICAgICByZXR1cm4gbmV3RnJhY3Rpb24oZ2NkKFBbXCJuXCJdLCB0aGlzW1wiblwiXSkgKiBnY2QoUFtcImRcIl0sIHRoaXNbXCJkXCJdKSwgUFtcImRcIl0gKiB0aGlzW1wiZFwiXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGZyYWN0aW9uYWwgbGNtIG9mIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDUsOCkubGNtKDMsNykgPT4gMTVcbiAgICAgKi9cbiAgICBcImxjbVwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuXG4gICAgICAvLyBsY20oYSAvIGIsIGMgLyBkKSA9IGxjbShhLCBjKSAvIGdjZChiLCBkKVxuXG4gICAgICBpZiAoUFtcIm5cIl0gPT09IDAgJiYgdGhpc1tcIm5cIl0gPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKDAsIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKFBbXCJuXCJdICogdGhpc1tcIm5cIl0sIGdjZChQW1wiblwiXSwgdGhpc1tcIm5cIl0pICogZ2NkKFBbXCJkXCJdLCB0aGlzW1wiZFwiXSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBjZWlsIG9mIGEgcmF0aW9uYWwgbnVtYmVyXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKCc0LigzKScpLmNlaWwoKSA9PiAoNSAvIDEpXG4gICAgICoqL1xuICAgIFwiY2VpbFwiOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbXCJuXCJdKSB8fCBpc05hTih0aGlzW1wiZFwiXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihOYU4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKE1hdGguY2VpbChwbGFjZXMgKiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl0pLCBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBmbG9vciBvZiBhIHJhdGlvbmFsIG51bWJlclxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbignNC4oMyknKS5mbG9vcigpID0+ICg0IC8gMSlcbiAgICAgKiovXG4gICAgXCJmbG9vclwiOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbXCJuXCJdKSB8fCBpc05hTih0aGlzW1wiZFwiXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihOYU4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKE1hdGguZmxvb3IocGxhY2VzICogdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAvIHRoaXNbXCJkXCJdKSwgcGxhY2VzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUm91bmRzIGEgcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbignNC4oMyknKS5yb3VuZCgpID0+ICg0IC8gMSlcbiAgICAgKiovXG4gICAgXCJyb3VuZFwiOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbXCJuXCJdKSB8fCBpc05hTih0aGlzW1wiZFwiXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihOYU4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKE1hdGgucm91bmQocGxhY2VzICogdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAvIHRoaXNbXCJkXCJdKSwgcGxhY2VzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW52ZXJzZSBvZiB0aGUgZnJhY3Rpb24sIG1lYW5zIG51bWVyYXRvciBhbmQgZGVub21pbmF0b3IgYXJlIGV4Y2hhbmdlZFxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihbLTMsIDRdKS5pbnZlcnNlKCkgPT4gLTQgLyAzXG4gICAgICoqL1xuICAgIFwiaW52ZXJzZVwiOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKHRoaXNbXCJzXCJdICogdGhpc1tcImRcIl0sIHRoaXNbXCJuXCJdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZnJhY3Rpb24gdG8gc29tZSByYXRpb25hbCBleHBvbmVudCwgaWYgcG9zc2libGVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oLTEsMikucG93KC0zKSA9PiAtOFxuICAgICAqL1xuICAgIFwicG93XCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG5cbiAgICAgIC8vIFRyaXZpYWwgY2FzZSB3aGVuIGV4cCBpcyBhbiBpbnRlZ2VyXG5cbiAgICAgIGlmIChQWydkJ10gPT09IDEpIHtcblxuICAgICAgICBpZiAoUFsncyddIDwgMCkge1xuICAgICAgICAgIHJldHVybiBuZXdGcmFjdGlvbihNYXRoLnBvdyh0aGlzWydzJ10gKiB0aGlzW1wiZFwiXSwgUFsnbiddKSwgTWF0aC5wb3codGhpc1tcIm5cIl0sIFBbJ24nXSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBuZXdGcmFjdGlvbihNYXRoLnBvdyh0aGlzWydzJ10gKiB0aGlzW1wiblwiXSwgUFsnbiddKSwgTWF0aC5wb3codGhpc1tcImRcIl0sIFBbJ24nXSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIE5lZ2F0aXZlIHJvb3RzIGJlY29tZSBjb21wbGV4XG4gICAgICAvLyAgICAgKC1hL2IpXihjL2QpID0geFxuICAgICAgLy8gPD0+ICgtMSleKGMvZCkgKiAoYS9iKV4oYy9kKSA9IHhcbiAgICAgIC8vIDw9PiAoY29zKHBpKSArIGkqc2luKHBpKSleKGMvZCkgKiAoYS9iKV4oYy9kKSA9IHggICAgICAgICAjIHJvdGF0ZSAxIGJ5IDE4MMKwXG4gICAgICAvLyA8PT4gKGNvcyhjKnBpL2QpICsgaSpzaW4oYypwaS9kKSkgKiAoYS9iKV4oYy9kKSA9IHggICAgICAgIyBEZU1vaXZyZSdzIGZvcm11bGEgaW4gUSAoIGh0dHBzOi8vcHJvb2Z3aWtpLm9yZy93aWtpL0RlX01vaXZyZSUyN3NfRm9ybXVsYS9SYXRpb25hbF9JbmRleCApXG4gICAgICAvLyBGcm9tIHdoaWNoIGZvbGxvd3MgdGhhdCBvbmx5IGZvciBjPTAgdGhlIHJvb3QgaXMgbm9uLWNvbXBsZXguIGMvZCBpcyBhIHJlZHVjZWQgZnJhY3Rpb24sIHNvIHRoYXQgc2luKGMvZHBpKT0wIG9jY3VycyBmb3IgZD0xLCB3aGljaCBpcyBoYW5kbGVkIGJ5IG91ciB0cml2aWFsIGNhc2UuXG4gICAgICBpZiAodGhpc1sncyddIDwgMCkgcmV0dXJuIG51bGw7XG5cbiAgICAgIC8vIE5vdyBwcmltZSBmYWN0b3IgbiBhbmQgZFxuICAgICAgdmFyIE4gPSBmYWN0b3JpemUodGhpc1snbiddKTtcbiAgICAgIHZhciBEID0gZmFjdG9yaXplKHRoaXNbJ2QnXSk7XG5cbiAgICAgIC8vIEV4cG9uZW50aWF0ZSBhbmQgdGFrZSByb290IGZvciBuIGFuZCBkIGluZGl2aWR1YWxseVxuICAgICAgdmFyIG4gPSAxO1xuICAgICAgdmFyIGQgPSAxO1xuICAgICAgZm9yICh2YXIgayBpbiBOKSB7XG4gICAgICAgIGlmIChrID09PSAnMScpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoayA9PT0gJzAnKSB7XG4gICAgICAgICAgbiA9IDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgTltrXSo9IFBbJ24nXTtcblxuICAgICAgICBpZiAoTltrXSAlIFBbJ2QnXSA9PT0gMCkge1xuICAgICAgICAgIE5ba10vPSBQWydkJ107XG4gICAgICAgIH0gZWxzZSByZXR1cm4gbnVsbDtcbiAgICAgICAgbio9IE1hdGgucG93KGssIE5ba10pO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBrIGluIEQpIHtcbiAgICAgICAgaWYgKGsgPT09ICcxJykgY29udGludWU7XG4gICAgICAgIERba10qPSBQWyduJ107XG5cbiAgICAgICAgaWYgKERba10gJSBQWydkJ10gPT09IDApIHtcbiAgICAgICAgICBEW2tdLz0gUFsnZCddO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIG51bGw7XG4gICAgICAgIGQqPSBNYXRoLnBvdyhrLCBEW2tdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFBbJ3MnXSA8IDApIHtcbiAgICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKGQsIG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKG4sIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0d28gcmF0aW9uYWwgbnVtYmVycyBhcmUgdGhlIHNhbWVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oMTkuNikuZXF1YWxzKFs5OCwgNV0pO1xuICAgICAqKi9cbiAgICBcImVxdWFsc1wiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSA9PT0gUFtcInNcIl0gKiBQW1wiblwiXSAqIHRoaXNbXCJkXCJdOyAvLyBTYW1lIGFzIGNvbXBhcmUoKSA9PT0gMFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0d28gcmF0aW9uYWwgbnVtYmVycyBhcmUgdGhlIHNhbWVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oMTkuNikuZXF1YWxzKFs5OCwgNV0pO1xuICAgICAqKi9cbiAgICBcImNvbXBhcmVcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHZhciB0ID0gKHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSAtIFBbXCJzXCJdICogUFtcIm5cIl0gKiB0aGlzW1wiZFwiXSk7XG4gICAgICByZXR1cm4gKDAgPCB0KSAtICh0IDwgMCk7XG4gICAgfSxcblxuICAgIFwic2ltcGxpZnlcIjogZnVuY3Rpb24oZXBzKSB7XG5cbiAgICAgIGlmIChpc05hTih0aGlzWyduJ10pIHx8IGlzTmFOKHRoaXNbJ2QnXSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGVwcyA9IGVwcyB8fCAwLjAwMTtcblxuICAgICAgdmFyIHRoaXNBQlMgPSB0aGlzWydhYnMnXSgpO1xuICAgICAgdmFyIGNvbnQgPSB0aGlzQUJTWyd0b0NvbnRpbnVlZCddKCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgY29udC5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgIHZhciBzID0gbmV3RnJhY3Rpb24oY29udFtpIC0gMV0sIDEpO1xuICAgICAgICBmb3IgKHZhciBrID0gaSAtIDI7IGsgPj0gMDsgay0tKSB7XG4gICAgICAgICAgcyA9IHNbJ2ludmVyc2UnXSgpWydhZGQnXShjb250W2tdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzWydzdWInXSh0aGlzQUJTKVsnYWJzJ10oKS52YWx1ZU9mKCkgPCBlcHMpIHtcbiAgICAgICAgICByZXR1cm4gc1snbXVsJ10odGhpc1sncyddKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHR3byByYXRpb25hbCBudW1iZXJzIGFyZSBkaXZpc2libGVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oMTkuNikuZGl2aXNpYmxlKDEuNSk7XG4gICAgICovXG4gICAgXCJkaXZpc2libGVcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiAhKCEoUFtcIm5cIl0gKiB0aGlzW1wiZFwiXSkgfHwgKCh0aGlzW1wiblwiXSAqIFBbXCJkXCJdKSAlIChQW1wiblwiXSAqIHRoaXNbXCJkXCJdKSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgZGVjaW1hbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgZnJhY3Rpb25cbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxMDAuJzkxODIzJ1wiKS52YWx1ZU9mKCkgPT4gMTAwLjkxODIzOTE4MjM5MTgzXG4gICAgICoqL1xuICAgICd2YWx1ZU9mJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmctZnJhY3Rpb24gcmVwcmVzZW50YXRpb24gb2YgYSBGcmFjdGlvbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxLiczJ1wiKS50b0ZyYWN0aW9uKHRydWUpID0+IFwiNCAxLzNcIlxuICAgICAqKi9cbiAgICAndG9GcmFjdGlvbic6IGZ1bmN0aW9uKGV4Y2x1ZGVXaG9sZSkge1xuXG4gICAgICB2YXIgd2hvbGUsIHN0ciA9IFwiXCI7XG4gICAgICB2YXIgbiA9IHRoaXNbXCJuXCJdO1xuICAgICAgdmFyIGQgPSB0aGlzW1wiZFwiXTtcbiAgICAgIGlmICh0aGlzW1wic1wiXSA8IDApIHtcbiAgICAgICAgc3RyKz0gJy0nO1xuICAgICAgfVxuXG4gICAgICBpZiAoZCA9PT0gMSkge1xuICAgICAgICBzdHIrPSBuO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBpZiAoZXhjbHVkZVdob2xlICYmICh3aG9sZSA9IE1hdGguZmxvb3IobiAvIGQpKSA+IDApIHtcbiAgICAgICAgICBzdHIrPSB3aG9sZTtcbiAgICAgICAgICBzdHIrPSBcIiBcIjtcbiAgICAgICAgICBuJT0gZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0cis9IG47XG4gICAgICAgIHN0cis9ICcvJztcbiAgICAgICAgc3RyKz0gZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsYXRleCByZXByZXNlbnRhdGlvbiBvZiBhIEZyYWN0aW9uIG9iamVjdFxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIjEuJzMnXCIpLnRvTGF0ZXgoKSA9PiBcIlxcZnJhY3s0fXszfVwiXG4gICAgICoqL1xuICAgICd0b0xhdGV4JzogZnVuY3Rpb24oZXhjbHVkZVdob2xlKSB7XG5cbiAgICAgIHZhciB3aG9sZSwgc3RyID0gXCJcIjtcbiAgICAgIHZhciBuID0gdGhpc1tcIm5cIl07XG4gICAgICB2YXIgZCA9IHRoaXNbXCJkXCJdO1xuICAgICAgaWYgKHRoaXNbXCJzXCJdIDwgMCkge1xuICAgICAgICBzdHIrPSAnLSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChkID09PSAxKSB7XG4gICAgICAgIHN0cis9IG47XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIGlmIChleGNsdWRlV2hvbGUgJiYgKHdob2xlID0gTWF0aC5mbG9vcihuIC8gZCkpID4gMCkge1xuICAgICAgICAgIHN0cis9IHdob2xlO1xuICAgICAgICAgIG4lPSBkO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RyKz0gXCJcXFxcZnJhY3tcIjtcbiAgICAgICAgc3RyKz0gbjtcbiAgICAgICAgc3RyKz0gJ317JztcbiAgICAgICAgc3RyKz0gZDtcbiAgICAgICAgc3RyKz0gJ30nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBjb250aW51ZWQgZnJhY3Rpb24gZWxlbWVudHNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCI3LzhcIikudG9Db250aW51ZWQoKSA9PiBbMCwxLDddXG4gICAgICovXG4gICAgJ3RvQ29udGludWVkJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciB0O1xuICAgICAgdmFyIGEgPSB0aGlzWyduJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2QnXTtcbiAgICAgIHZhciByZXMgPSBbXTtcblxuICAgICAgaWYgKGlzTmFOKGEpIHx8IGlzTmFOKGIpKSB7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG5cbiAgICAgIGRvIHtcbiAgICAgICAgcmVzLnB1c2goTWF0aC5mbG9vcihhIC8gYikpO1xuICAgICAgICB0ID0gYSAlIGI7XG4gICAgICAgIGEgPSBiO1xuICAgICAgICBiID0gdDtcbiAgICAgIH0gd2hpbGUgKGEgIT09IDEpO1xuXG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgZnJhY3Rpb24gd2l0aCBhbGwgZGlnaXRzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiMTAwLic5MTgyMydcIikudG9TdHJpbmcoKSA9PiBcIjEwMC4oOTE4MjMpXCJcbiAgICAgKiovXG4gICAgJ3RvU3RyaW5nJzogZnVuY3Rpb24oZGVjKSB7XG5cbiAgICAgIHZhciBOID0gdGhpc1tcIm5cIl07XG4gICAgICB2YXIgRCA9IHRoaXNbXCJkXCJdO1xuXG4gICAgICBpZiAoaXNOYU4oTikgfHwgaXNOYU4oRCkpIHtcbiAgICAgICAgcmV0dXJuIFwiTmFOXCI7XG4gICAgICB9XG5cbiAgICAgIGRlYyA9IGRlYyB8fCAxNTsgLy8gMTUgPSBkZWNpbWFsIHBsYWNlcyB3aGVuIG5vIHJlcGV0YXRpb25cblxuICAgICAgdmFyIGN5Y0xlbiA9IGN5Y2xlTGVuKE4sIEQpOyAvLyBDeWNsZSBsZW5ndGhcbiAgICAgIHZhciBjeWNPZmYgPSBjeWNsZVN0YXJ0KE4sIEQsIGN5Y0xlbik7IC8vIEN5Y2xlIHN0YXJ0XG5cbiAgICAgIHZhciBzdHIgPSB0aGlzWydzJ10gPCAwID8gXCItXCIgOiBcIlwiO1xuXG4gICAgICBzdHIrPSBOIC8gRCB8IDA7XG5cbiAgICAgIE4lPSBEO1xuICAgICAgTio9IDEwO1xuXG4gICAgICBpZiAoTilcbiAgICAgICAgc3RyKz0gXCIuXCI7XG5cbiAgICAgIGlmIChjeWNMZW4pIHtcblxuICAgICAgICBmb3IgKHZhciBpID0gY3ljT2ZmOyBpLS07KSB7XG4gICAgICAgICAgc3RyKz0gTiAvIEQgfCAwO1xuICAgICAgICAgIE4lPSBEO1xuICAgICAgICAgIE4qPSAxMDtcbiAgICAgICAgfVxuICAgICAgICBzdHIrPSBcIihcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IGN5Y0xlbjsgaS0tOykge1xuICAgICAgICAgIHN0cis9IE4gLyBEIHwgMDtcbiAgICAgICAgICBOJT0gRDtcbiAgICAgICAgICBOKj0gMTA7XG4gICAgICAgIH1cbiAgICAgICAgc3RyKz0gXCIpXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gZGVjOyBOICYmIGktLTspIHtcbiAgICAgICAgICBzdHIrPSBOIC8gRCB8IDA7XG4gICAgICAgICAgTiU9IEQ7XG4gICAgICAgICAgTio9IDEwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgfTtcblxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZVtcImFtZFwiXSkge1xuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gRnJhY3Rpb247XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhY3Rpb24sIFwiX19lc01vZHVsZVwiLCB7ICd2YWx1ZSc6IHRydWUgfSk7XG4gICAgRnJhY3Rpb25bJ2RlZmF1bHQnXSA9IEZyYWN0aW9uO1xuICAgIEZyYWN0aW9uWydGcmFjdGlvbiddID0gRnJhY3Rpb247XG4gICAgbW9kdWxlWydleHBvcnRzJ10gPSBGcmFjdGlvbjtcbiAgfSBlbHNlIHtcbiAgICByb290WydGcmFjdGlvbiddID0gRnJhY3Rpb247XG4gIH1cblxufSkodGhpcyk7XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW1wiZXhwb3J0c1wiXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBmYWN0b3J5KGV4cG9ydHMpO1xuICB9IGVsc2Uge1xuICAgIHZhciBtb2QgPSB7XG4gICAgICBleHBvcnRzOiB7fVxuICAgIH07XG4gICAgZmFjdG9yeShtb2QuZXhwb3J0cyk7XG4gICAgZ2xvYmFsLmpzdG94bWwgPSBtb2QuZXhwb3J0cztcbiAgfVxufSkodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24gKF9leHBvcnRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxuICB9KTtcbiAgX2V4cG9ydHMudG9YTUwgPSBfZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuICBmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cbiAgZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cbiAgZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfVxuICBmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuICBmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuICBmdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cbiAgZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7IGlmIChfdHlwZW9mKGlucHV0KSAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OyB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmIChwcmltICE9PSB1bmRlZmluZWQpIHsgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7IGlmIChfdHlwZW9mKHJlcykgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfVxuICBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuICBmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG4gIGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuICBmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOyByZXR1cm4gYXJyMjsgfVxuICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IHZhciBfaSA9IG51bGwgPT0gYXJyID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAobnVsbCAhPSBfaSkgeyB2YXIgX3MsIF9lLCBfeCwgX3IsIF9hcnIgPSBbXSwgX24gPSAhMCwgX2QgPSAhMTsgdHJ5IHsgaWYgKF94ID0gKF9pID0gX2kuY2FsbChhcnIpKS5uZXh0LCAwID09PSBpKSB7IGlmIChPYmplY3QoX2kpICE9PSBfaSkgcmV0dXJuOyBfbiA9ICExOyB9IGVsc2UgZm9yICg7ICEoX24gPSAoX3MgPSBfeC5jYWxsKF9pKSkuZG9uZSkgJiYgKF9hcnIucHVzaChfcy52YWx1ZSksIF9hcnIubGVuZ3RoICE9PSBpKTsgX24gPSAhMCk7IH0gY2F0Y2ggKGVycikgeyBfZCA9ICEwLCBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBudWxsICE9IF9pLnJldHVybiAmJiAoX3IgPSBfaS5yZXR1cm4oKSwgT2JqZWN0KF9yKSAhPT0gX3IpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSB9XG4gIGZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuICBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9XG4gIHZhciBEQVRBX1RZUEVTID0ge1xuICAgIEFSUkFZOiAnYXJyYXknLFxuICAgIEJPT0xFQU46ICdib29sZWFuJyxcbiAgICBEQVRFOiAnZGF0ZScsXG4gICAgRlVOQ1RJT046ICdmdW5jdGlvbicsXG4gICAgSlNUT1hNTF9PQkpFQ1Q6ICdqc3RveG1sLW9iamVjdCcsXG4gICAgTlVMTDogJ251bGwnLFxuICAgIE5VTUJFUjogJ251bWJlcicsXG4gICAgT0JKRUNUOiAnb2JqZWN0JyxcbiAgICBTVFJJTkc6ICdzdHJpbmcnXG4gIH07XG4gIHZhciBQUklNSVRJVkVfVFlQRVMgPSBbREFUQV9UWVBFUy5TVFJJTkcsIERBVEFfVFlQRVMuTlVNQkVSLCBEQVRBX1RZUEVTLkJPT0xFQU5dO1xuICB2YXIgREVGQVVMVF9YTUxfSEVBREVSID0gJzw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/Pic7XG4gIHZhciBQUklWQVRFX1ZBUlMgPSBbJ19zZWxmQ2xvc2VUYWcnLCAnX2F0dHJzJ107XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIGluZGVudCBzdHJpbmcgYmFzZWQgb24gY3VycmVudCB0cmVlIGRlcHRoLlxuICAgKi9cbiAgdmFyIGdldEluZGVudFN0ciA9IGZ1bmN0aW9uIGdldEluZGVudFN0cigpIHtcbiAgICB2YXIgaW5kZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICB2YXIgZGVwdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgcmV0dXJuIGluZGVudC5yZXBlYXQoZGVwdGgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdWdhciBmdW5jdGlvbiBzdXBwbGVtZW50aW5nIEpTJ3MgcXVpcmt5IHR5cGVvZiBvcGVyYXRvciwgcGx1cyBzb21lIGV4dHJhIGhlbHAgdG8gZGV0ZWN0XG4gICAqIFwic3BlY2lhbCBvYmplY3RzXCIgZXhwZWN0ZWQgYnkganN0b3htbC5cbiAgICogQGV4YW1wbGVcbiAgICogZ2V0VHlwZShuZXcgRGF0ZSgpKTtcbiAgICogLy8gLT4gJ2RhdGUnXG4gICAqL1xuICB2YXIgZ2V0VHlwZSA9IGZ1bmN0aW9uIGdldFR5cGUodmFsKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsKSAmJiBEQVRBX1RZUEVTLkFSUkFZIHx8IF90eXBlb2YodmFsKSA9PT0gREFUQV9UWVBFUy5PQkpFQ1QgJiYgdmFsICE9PSBudWxsICYmIHZhbC5fbmFtZSAmJiBEQVRBX1RZUEVTLkpTVE9YTUxfT0JKRUNUIHx8IHZhbCBpbnN0YW5jZW9mIERhdGUgJiYgREFUQV9UWVBFUy5EQVRFIHx8IHZhbCA9PT0gbnVsbCAmJiBEQVRBX1RZUEVTLk5VTEwgfHwgX3R5cGVvZih2YWwpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIGEgc3RyaW5nIGlzIENEQVRBIGFuZCBzaG91bGRuJ3QgYmUgdG91Y2hlZC5cbiAgICogQGV4YW1wbGVcbiAgICogaXNDREFUQSgnPCFbQ0RBVEFbPGI+dGVzdDwvYj5dXT4nKTtcbiAgICogLy8gLT4gdHJ1ZVxuICAgKi9cbiAgdmFyIGlzQ0RBVEEgPSBmdW5jdGlvbiBpc0NEQVRBKHN0cikge1xuICAgIHJldHVybiBzdHIuc3RhcnRzV2l0aCgnPCFbQ0RBVEFbJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIG1hdGNoaW5nIHZhbHVlcyBpbiBhIHN0cmluZyB3aXRoIGEgbmV3IHZhbHVlLlxuICAgKiBAZXhhbXBsZVxuICAgKiBtYXBTdHIoJ2ZvbyZiYXInLCB7ICcmJzogJyZhbXA7JyB9KTtcbiAgICogLy8gLT4gJ2ZvbyZhbXA7YmFyJ1xuICAgKi9cbiAgdmFyIG1hcFN0ciA9IGZ1bmN0aW9uIG1hcFN0cigpIHtcbiAgICB2YXIgaW5wdXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgIHZhciByZXBsYWNlbWVudHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciBjb250ZW50TWFwID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIG91dHB1dCA9IGlucHV0O1xuICAgIGlmIChfdHlwZW9mKGlucHV0KSA9PT0gREFUQV9UWVBFUy5TVFJJTkcpIHtcbiAgICAgIGlmIChpc0NEQVRBKGlucHV0KSkge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICB9XG4gICAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cChcIihcIi5jb25jYXQoT2JqZWN0LmtleXMocmVwbGFjZW1lbnRzKS5qb2luKCd8JyksIFwiKSg/IShcXFxcd3wjKSo7KVwiKSwgJ2cnKTtcbiAgICAgIG91dHB1dCA9IFN0cmluZyhpbnB1dCkucmVwbGFjZShyZWdleHAsIGZ1bmN0aW9uIChzdHIsIGVudGl0eSkge1xuICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnRzW2VudGl0eV0gfHwgJyc7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVvZiBjb250ZW50TWFwID09PSAnZnVuY3Rpb24nID8gY29udGVudE1hcChvdXRwdXQpIDogb3V0cHV0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBNYXBzIGFuIG9iamVjdCBvciBhcnJheSBvZiBhcnJpYnV0ZSBrZXl2YWwgcGFpcnMgdG8gYSBzdHJpbmcuXG4gICAqIEBleGFtcGxlXG4gICAqIGdldEF0dHJpYnV0ZUtleVZhbHMoeyBmb286ICdiYXInLCBiYXo6ICdnJyB9KTtcbiAgICogLy8gLT4gJ2Zvbz1cImJhclwiIGJhej1cImdcIidcbiAgICogZ2V0QXR0cmlidXRlS2V5VmFscyhbIHsg4pqhOiB0cnVlIH0sIHsgZm9vOiAnYmFyJyB9IF0pO1xuICAgKiAvLyAtPiAn4pqhIGZvbz1cImJhclwiJ1xuICAgKi9cbiAgdmFyIGdldEF0dHJpYnV0ZUtleVZhbHMgPSBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVLZXlWYWxzKCkge1xuICAgIHZhciBhdHRyaWJ1dGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB2YXIgcmVwbGFjZW1lbnRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIGZpbHRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkO1xuICAgIHZhciBvdXRwdXRFeHBsaWNpdFRydWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IHVuZGVmaW5lZDtcbiAgICAvLyBOb3JtYWxpemVzIGJldHdlZW4gYXR0cmlidXRlcyBhcyBvYmplY3QgYW5kIGFzIGFycmF5LlxuICAgIHZhciBhdHRyaWJ1dGVzQXJyID0gQXJyYXkuaXNBcnJheShhdHRyaWJ1dGVzKSA/IGF0dHJpYnV0ZXMgOiBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKS5tYXAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLFxuICAgICAgICBrZXkgPSBfcmVmMlswXSxcbiAgICAgICAgdmFsID0gX3JlZjJbMV07XG4gICAgICByZXR1cm4gX2RlZmluZVByb3BlcnR5KHt9LCBrZXksIHZhbCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZXNBcnIucmVkdWNlKGZ1bmN0aW9uIChhbGxBdHRyaWJ1dGVzLCBhdHRyKSB7XG4gICAgICB2YXIga2V5ID0gT2JqZWN0LmtleXMoYXR0cilbMF07XG4gICAgICB2YXIgdmFsID0gYXR0cltrZXldO1xuICAgICAgaWYgKF90eXBlb2YoZmlsdGVyKSA9PT0gREFUQV9UWVBFUy5GVU5DVElPTikge1xuICAgICAgICB2YXIgc2hvdWxkRmlsdGVyT3V0ID0gZmlsdGVyKGtleSwgdmFsKTtcbiAgICAgICAgaWYgKHNob3VsZEZpbHRlck91dCkge1xuICAgICAgICAgIHJldHVybiBhbGxBdHRyaWJ1dGVzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgcmVwbGFjZWRWYWwgPSByZXBsYWNlbWVudHMgPyBtYXBTdHIodmFsLCByZXBsYWNlbWVudHMpIDogdmFsO1xuICAgICAgdmFyIHZhbFN0ciA9ICFvdXRwdXRFeHBsaWNpdFRydWUgJiYgcmVwbGFjZWRWYWwgPT09IHRydWUgPyAnJyA6IFwiPVxcXCJcIi5jb25jYXQocmVwbGFjZWRWYWwsIFwiXFxcIlwiKTtcbiAgICAgIGFsbEF0dHJpYnV0ZXMucHVzaChcIlwiLmNvbmNhdChrZXkpLmNvbmNhdCh2YWxTdHIpKTtcbiAgICAgIHJldHVybiBhbGxBdHRyaWJ1dGVzO1xuICAgIH0sIFtdKTtcbiAgfTtcblxuICAvKipcbiAgICogQ29udmVydHMgYW4gYXR0cmlidXRlcyBvYmplY3QvYXJyYXkgdG8gYSBzdHJpbmcgb2Yga2V5dmFsIHBhaXJzLlxuICAgKiBAZXhhbXBsZVxuICAgKiBmb3JtYXRBdHRyaWJ1dGVzKHsgYTogMSwgYjogMiB9KVxuICAgKiAvLyAtPiAnYT1cIjFcIiBiPVwiMlwiJ1xuICAgKi9cbiAgdmFyIGZvcm1hdEF0dHJpYnV0ZXMgPSBmdW5jdGlvbiBmb3JtYXRBdHRyaWJ1dGVzKCkge1xuICAgIHZhciBhdHRyaWJ1dGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB2YXIgcmVwbGFjZW1lbnRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIGZpbHRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkO1xuICAgIHZhciBvdXRwdXRFeHBsaWNpdFRydWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIga2V5VmFscyA9IGdldEF0dHJpYnV0ZUtleVZhbHMoYXR0cmlidXRlcywgcmVwbGFjZW1lbnRzLCBmaWx0ZXIsIG91dHB1dEV4cGxpY2l0VHJ1ZSk7XG4gICAgaWYgKGtleVZhbHMubGVuZ3RoID09PSAwKSByZXR1cm4gJyc7XG4gICAgdmFyIGtleXNWYWxzSm9pbmVkID0ga2V5VmFscy5qb2luKCcgJyk7XG4gICAgcmV0dXJuIFwiIFwiLmNvbmNhdChrZXlzVmFsc0pvaW5lZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGFuIG9iamVjdCBpbnRvIGFuIGFycmF5IG9mIGpzdG94bWwtb2JqZWN0LlxuICAgKiBAZXhhbXBsZVxuICAgKiBvYmpUb0FycmF5KHsgZm9vOiAnYmFyJywgYmF6OiAyIH0pO1xuICAgKiAtPlxuICAgKiBbXG4gICAqICAge1xuICAgKiAgICAgX25hbWU6ICdmb28nLFxuICAgKiAgICAgX2NvbnRlbnQ6ICdiYXInXG4gICAqICAgfSxcbiAgICogICB7XG4gICAqICAgICBfbmFtZTogJ2JheicsXG4gICAqICAgICBfY29udGVudDogMlxuICAgKiAgIH1cbiAgICogXVxuICAgKi9cbiAgdmFyIG9ialRvQXJyYXkgPSBmdW5jdGlvbiBvYmpUb0FycmF5KCkge1xuICAgIHZhciBvYmogPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBfbmFtZToga2V5LFxuICAgICAgICBfY29udGVudDogb2JqW2tleV1cbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgYSB2YWx1ZSBpcyBhIHByaW1pdGl2ZSBKYXZhU2NyaXB0IHZhbHVlIChub3QgaW5jbHVkaW5nIFN5bWJvbCkuXG4gICAqIEBleGFtcGxlXG4gICAqIGlzUHJpbWl0aXZlKDQpO1xuICAgKiAvLyAtPiB0cnVlXG4gICAqL1xuICB2YXIgaXNQcmltaXRpdmUgPSBmdW5jdGlvbiBpc1ByaW1pdGl2ZSh2YWwpIHtcbiAgICByZXR1cm4gUFJJTUlUSVZFX1RZUEVTLmluY2x1ZGVzKGdldFR5cGUodmFsKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgYW4gWE1MIHN0cmluZyBpcyBzaW1wbGUgKGRvZXNuJ3QgY29udGFpbiBuZXN0ZWQgWE1MIGRhdGEpLlxuICAgKiBAZXhhbXBsZVxuICAgKiBpc1NpbXBsZVhNTCgnPGZvbyAvPicpO1xuICAgKiAvLyAtPiBmYWxzZVxuICAgKi9cbiAgdmFyIGlzU2ltcGxlWE1MID0gZnVuY3Rpb24gaXNTaW1wbGVYTUwoeG1sU3RyKSB7XG4gICAgcmV0dXJuICF4bWxTdHIubWF0Y2goJzwnKTtcbiAgfTtcblxuICAvKipcbiAgICogQXNzZW1ibGVzIGFuIFhNTCBoZWFkZXIgYXMgZGVmaW5lZCBieSB0aGUgY29uZmlnLlxuICAgKi9cbiAgdmFyIGdldEhlYWRlclN0cmluZyA9IGZ1bmN0aW9uIGdldEhlYWRlclN0cmluZyhfcmVmNCkge1xuICAgIHZhciBoZWFkZXIgPSBfcmVmNC5oZWFkZXIsXG4gICAgICBpc091dHB1dFN0YXJ0ID0gX3JlZjQuaXNPdXRwdXRTdGFydDtcbiAgICB2YXIgc2hvdWxkT3V0cHV0SGVhZGVyID0gaGVhZGVyICYmIGlzT3V0cHV0U3RhcnQ7XG4gICAgaWYgKCFzaG91bGRPdXRwdXRIZWFkZXIpIHJldHVybiAnJztcbiAgICB2YXIgc2hvdWxkVXNlRGVmYXVsdEhlYWRlciA9IF90eXBlb2YoaGVhZGVyKSA9PT0gREFUQV9UWVBFUy5CT09MRUFOO1xuICAgIHJldHVybiBzaG91bGRVc2VEZWZhdWx0SGVhZGVyID8gREVGQVVMVF9YTUxfSEVBREVSIDogaGVhZGVyO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZWN1cnNpdmVseSB0cmF2ZXJzZXMgYW4gb2JqZWN0IHRyZWUgYW5kIGNvbnZlcnRzIHRoZSBvdXRwdXQgdG8gYW4gWE1MIHN0cmluZy5cbiAgICogQGV4YW1wbGVcbiAgICogdG9YTUwoeyBmb286ICdiYXInIH0pO1xuICAgKiAvLyAtPiA8Zm9vPmJhcjwvZm9vPlxuICAgKi9cbiAgdmFyIGRlZmF1bHRFbnRpdHlSZXBsYWNlbWVudHMgPSB7XG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICdcIic6ICcmcXVvdDsnXG4gIH07XG4gIHZhciB0b1hNTCA9IGZ1bmN0aW9uIHRvWE1MKCkge1xuICAgIHZhciBvYmogPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciBfY29uZmlnJGRlcHRoID0gY29uZmlnLmRlcHRoLFxuICAgICAgZGVwdGggPSBfY29uZmlnJGRlcHRoID09PSB2b2lkIDAgPyAwIDogX2NvbmZpZyRkZXB0aCxcbiAgICAgIGluZGVudCA9IGNvbmZpZy5pbmRlbnQsXG4gICAgICBfaXNGaXJzdEl0ZW0gPSBjb25maWcuX2lzRmlyc3RJdGVtLFxuICAgICAgX2NvbmZpZyRfaXNPdXRwdXRTdGFyID0gY29uZmlnLl9pc091dHB1dFN0YXJ0LFxuICAgICAgX2lzT3V0cHV0U3RhcnQgPSBfY29uZmlnJF9pc091dHB1dFN0YXIgPT09IHZvaWQgMCA/IHRydWUgOiBfY29uZmlnJF9pc091dHB1dFN0YXIsXG4gICAgICBoZWFkZXIgPSBjb25maWcuaGVhZGVyLFxuICAgICAgX2NvbmZpZyRhdHRyaWJ1dGVSZXBsID0gY29uZmlnLmF0dHJpYnV0ZVJlcGxhY2VtZW50cyxcbiAgICAgIHJhd0F0dHJpYnV0ZVJlcGxhY2VtZW50cyA9IF9jb25maWckYXR0cmlidXRlUmVwbCA9PT0gdm9pZCAwID8ge30gOiBfY29uZmlnJGF0dHJpYnV0ZVJlcGwsXG4gICAgICBhdHRyaWJ1dGVGaWx0ZXIgPSBjb25maWcuYXR0cmlidXRlRmlsdGVyLFxuICAgICAgX2NvbmZpZyRhdHRyaWJ1dGVFeHBsID0gY29uZmlnLmF0dHJpYnV0ZUV4cGxpY2l0VHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZUV4cGxpY2l0VHJ1ZSA9IF9jb25maWckYXR0cmlidXRlRXhwbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfY29uZmlnJGF0dHJpYnV0ZUV4cGwsXG4gICAgICBfY29uZmlnJGNvbnRlbnRSZXBsYWMgPSBjb25maWcuY29udGVudFJlcGxhY2VtZW50cyxcbiAgICAgIHJhd0NvbnRlbnRSZXBsYWNlbWVudHMgPSBfY29uZmlnJGNvbnRlbnRSZXBsYWMgPT09IHZvaWQgMCA/IHt9IDogX2NvbmZpZyRjb250ZW50UmVwbGFjLFxuICAgICAgY29udGVudE1hcCA9IGNvbmZpZy5jb250ZW50TWFwLFxuICAgICAgX2NvbmZpZyRzZWxmQ2xvc2VUYWdzID0gY29uZmlnLnNlbGZDbG9zZVRhZ3MsXG4gICAgICBzZWxmQ2xvc2VUYWdzID0gX2NvbmZpZyRzZWxmQ2xvc2VUYWdzID09PSB2b2lkIDAgPyB0cnVlIDogX2NvbmZpZyRzZWxmQ2xvc2VUYWdzO1xuICAgIHZhciBzaG91bGRUdXJuT2ZmQXR0cmlidXRlUmVwbGFjZW1lbnRzID0gdHlwZW9mIHJhd0F0dHJpYnV0ZVJlcGxhY2VtZW50cyA9PT0gJ2Jvb2xlYW4nICYmICFyYXdBdHRyaWJ1dGVSZXBsYWNlbWVudHM7XG4gICAgdmFyIGF0dHJpYnV0ZVJlcGxhY2VtZW50cyA9IHNob3VsZFR1cm5PZmZBdHRyaWJ1dGVSZXBsYWNlbWVudHMgPyB7fSA6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdEVudGl0eVJlcGxhY2VtZW50cyksIHJhd0F0dHJpYnV0ZVJlcGxhY2VtZW50cyk7XG4gICAgdmFyIHNob3VsZFR1cm5PZmZDb250ZW50UmVwbGFjZW1lbnRzID0gdHlwZW9mIHJhd0NvbnRlbnRSZXBsYWNlbWVudHMgPT09ICdib29sZWFuJyAmJiAhcmF3Q29udGVudFJlcGxhY2VtZW50cztcbiAgICB2YXIgY29udGVudFJlcGxhY2VtZW50cyA9IHNob3VsZFR1cm5PZmZDb250ZW50UmVwbGFjZW1lbnRzID8ge30gOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRFbnRpdHlSZXBsYWNlbWVudHMpLCByYXdDb250ZW50UmVwbGFjZW1lbnRzKTtcblxuICAgIC8vIERldGVybWluZXMgaW5kZW50IGJhc2VkIG9uIGRlcHRoLlxuICAgIHZhciBpbmRlbnRTdHIgPSBnZXRJbmRlbnRTdHIoaW5kZW50LCBkZXB0aCk7XG5cbiAgICAvLyBGb3IgYnJhbmNoaW5nIGJhc2VkIG9uIHZhbHVlIHR5cGUuXG4gICAgdmFyIHZhbFR5cGUgPSBnZXRUeXBlKG9iaik7XG4gICAgdmFyIGhlYWRlclN0ciA9IGdldEhlYWRlclN0cmluZyh7XG4gICAgICBoZWFkZXI6IGhlYWRlcixcbiAgICAgIGluZGVudDogaW5kZW50LFxuICAgICAgZGVwdGg6IGRlcHRoLFxuICAgICAgaXNPdXRwdXRTdGFydDogX2lzT3V0cHV0U3RhcnRcbiAgICB9KTtcbiAgICB2YXIgaXNPdXRwdXRTdGFydCA9IF9pc091dHB1dFN0YXJ0ICYmICFoZWFkZXJTdHIgJiYgX2lzRmlyc3RJdGVtICYmIGRlcHRoID09PSAwO1xuICAgIHZhciBwcmVJbmRlbnRTdHIgPSBpbmRlbnQgJiYgIWlzT3V0cHV0U3RhcnQgPyAnXFxuJyA6ICcnO1xuICAgIHZhciBvdXRwdXRTdHIgPSAnJztcbiAgICBzd2l0Y2ggKHZhbFR5cGUpIHtcbiAgICAgIGNhc2UgREFUQV9UWVBFUy5KU1RPWE1MX09CSkVDVDpcbiAgICAgICAge1xuICAgICAgICAgIC8vIFByb2Nlc3NlcyBhIHNwZWNpYWxseS1mb3JtYXR0ZWQgb2JqZWN0IHVzZWQgYnkganN0b3htbC5cblxuICAgICAgICAgIHZhciBfbmFtZSA9IG9iai5fbmFtZSxcbiAgICAgICAgICAgIF9jb250ZW50ID0gb2JqLl9jb250ZW50O1xuXG4gICAgICAgICAgLy8gT3V0cHV0IHRleHQgY29udGVudCB3aXRob3V0IGEgdGFnIHdyYXBwZXIuXG4gICAgICAgICAgaWYgKF9jb250ZW50ID09PSBudWxsICYmIHR5cGVvZiBjb250ZW50TWFwICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBvdXRwdXRTdHIgPSBcIlwiLmNvbmNhdChwcmVJbmRlbnRTdHIpLmNvbmNhdChpbmRlbnRTdHIpLmNvbmNhdChfbmFtZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBIYW5kbGVzIGFycmF5cyBvZiBwcmltaXRpdmUgdmFsdWVzLiAoIzMzKVxuICAgICAgICAgIHZhciBpc0FycmF5T2ZQcmltaXRpdmVzID0gQXJyYXkuaXNBcnJheShfY29udGVudCkgJiYgX2NvbnRlbnQuZXZlcnkoaXNQcmltaXRpdmUpO1xuICAgICAgICAgIGlmIChpc0FycmF5T2ZQcmltaXRpdmVzKSB7XG4gICAgICAgICAgICB2YXIgcHJpbWl0aXZlcyA9IF9jb250ZW50Lm1hcChmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgICByZXR1cm4gdG9YTUwoe1xuICAgICAgICAgICAgICAgIF9uYW1lOiBfbmFtZSxcbiAgICAgICAgICAgICAgICBfY29udGVudDogYVxuICAgICAgICAgICAgICB9LCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvbmZpZyksIHt9LCB7XG4gICAgICAgICAgICAgICAgZGVwdGg6IGRlcHRoLFxuICAgICAgICAgICAgICAgIF9pc091dHB1dFN0YXJ0OiBmYWxzZVxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwcmltaXRpdmVzLmpvaW4oJycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIERvbid0IG91dHB1dCBwcml2YXRlIHZhcnMgKHN1Y2ggYXMgX2F0dHJzKS5cbiAgICAgICAgICBpZiAoUFJJVkFURV9WQVJTLmluY2x1ZGVzKF9uYW1lKSkgYnJlYWs7XG5cbiAgICAgICAgICAvLyBQcm9jZXNzIHRoZSBuZXN0ZWQgbmV3IHZhbHVlIGFuZCBjcmVhdGUgbmV3IGNvbmZpZy5cbiAgICAgICAgICB2YXIgbmV3VmFsID0gdG9YTUwoX2NvbnRlbnQsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY29uZmlnKSwge30sIHtcbiAgICAgICAgICAgIGRlcHRoOiBkZXB0aCArIDEsXG4gICAgICAgICAgICBfaXNPdXRwdXRTdGFydDogaXNPdXRwdXRTdGFydFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICB2YXIgbmV3VmFsVHlwZSA9IGdldFR5cGUobmV3VmFsKTtcbiAgICAgICAgICB2YXIgaXNOZXdWYWxTaW1wbGUgPSBpc1NpbXBsZVhNTChuZXdWYWwpO1xuICAgICAgICAgIHZhciBpc05ld1ZhbENEQVRBID0gaXNDREFUQShuZXdWYWwpO1xuXG4gICAgICAgICAgLy8gUHJlLXRhZyBvdXRwdXQgKGluZGVudCBhbmQgbGluZSBicmVha3MpLlxuICAgICAgICAgIHZhciBwcmVUYWcgPSBcIlwiLmNvbmNhdChwcmVJbmRlbnRTdHIpLmNvbmNhdChpbmRlbnRTdHIpO1xuXG4gICAgICAgICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgY29tbWVudHMsIHByZXNlcnZpbmcgcHJlY2VkaW5nIGxpbmUgYnJlYWtzL2luZGVudHMuXG4gICAgICAgICAgaWYgKF9uYW1lID09PSAnX2NvbW1lbnQnKSB7XG4gICAgICAgICAgICBvdXRwdXRTdHIgKz0gXCJcIi5jb25jYXQocHJlVGFnLCBcIjwhLS0gXCIpLmNvbmNhdChfY29udGVudCwgXCIgLS0+XCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVGFnIG91dHB1dC5cbiAgICAgICAgICB2YXIgdmFsSXNFbXB0eSA9IG5ld1ZhbFR5cGUgPT09ICd1bmRlZmluZWQnIHx8IG5ld1ZhbCA9PT0gJyc7XG4gICAgICAgICAgdmFyIGdsb2JhbFNlbGZDbG9zZSA9IHNlbGZDbG9zZVRhZ3M7XG4gICAgICAgICAgdmFyIGxvY2FsU2VsZkNsb3NlID0gb2JqLl9zZWxmQ2xvc2VUYWc7XG4gICAgICAgICAgdmFyIHNob3VsZFNlbGZDbG9zZSA9IF90eXBlb2YobG9jYWxTZWxmQ2xvc2UpID09PSBEQVRBX1RZUEVTLkJPT0xFQU4gPyB2YWxJc0VtcHR5ICYmIGxvY2FsU2VsZkNsb3NlIDogdmFsSXNFbXB0eSAmJiBnbG9iYWxTZWxmQ2xvc2U7XG4gICAgICAgICAgdmFyIHNlbGZDbG9zZVN0ciA9IHNob3VsZFNlbGZDbG9zZSA/ICcvJyA6ICcnO1xuICAgICAgICAgIHZhciBhdHRyaWJ1dGVzU3RyaW5nID0gZm9ybWF0QXR0cmlidXRlcyhvYmouX2F0dHJzLCBhdHRyaWJ1dGVSZXBsYWNlbWVudHMsIGF0dHJpYnV0ZUZpbHRlciwgYXR0cmlidXRlRXhwbGljaXRUcnVlKTtcbiAgICAgICAgICB2YXIgdGFnID0gXCI8XCIuY29uY2F0KF9uYW1lKS5jb25jYXQoYXR0cmlidXRlc1N0cmluZykuY29uY2F0KHNlbGZDbG9zZVN0ciwgXCI+XCIpO1xuXG4gICAgICAgICAgLy8gUG9zdC10YWcgb3V0cHV0IChjbG9zaW5nIHRhZywgaW5kZW50LCBsaW5lIGJyZWFrcykuXG4gICAgICAgICAgdmFyIHByZVRhZ0Nsb3NlU3RyID0gaW5kZW50ICYmICFpc05ld1ZhbFNpbXBsZSAmJiAhaXNOZXdWYWxDREFUQSA/IFwiXFxuXCIuY29uY2F0KGluZGVudFN0cikgOiAnJztcbiAgICAgICAgICB2YXIgcG9zdFRhZyA9ICFzaG91bGRTZWxmQ2xvc2UgPyBcIlwiLmNvbmNhdChuZXdWYWwpLmNvbmNhdChwcmVUYWdDbG9zZVN0ciwgXCI8L1wiKS5jb25jYXQoX25hbWUsIFwiPlwiKSA6ICcnO1xuICAgICAgICAgIG91dHB1dFN0ciArPSBcIlwiLmNvbmNhdChwcmVUYWcpLmNvbmNhdCh0YWcpLmNvbmNhdChwb3N0VGFnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBEQVRBX1RZUEVTLk9CSkVDVDpcbiAgICAgICAge1xuICAgICAgICAgIC8vIEl0ZXJhdGVzIG92ZXIga2V5dmFsIHBhaXJzIGluIGFuIG9iamVjdCwgY29udmVydGluZyBlYWNoIGl0ZW0gdG8gYSBzcGVjaWFsLW9iamVjdC5cblxuICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgICB2YXIgb3V0cHV0QXJyID0ga2V5cy5tYXAoZnVuY3Rpb24gKGtleSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBuZXdDb25maWcgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvbmZpZyksIHt9LCB7XG4gICAgICAgICAgICAgIF9pc0ZpcnN0SXRlbTogaW5kZXggPT09IDAsXG4gICAgICAgICAgICAgIF9pc0xhc3RJdGVtOiBpbmRleCArIDEgPT09IGtleXMubGVuZ3RoLFxuICAgICAgICAgICAgICBfaXNPdXRwdXRTdGFydDogaXNPdXRwdXRTdGFydFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgb3V0cHV0T2JqID0ge1xuICAgICAgICAgICAgICBfbmFtZToga2V5XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGdldFR5cGUob2JqW2tleV0pID09PSBEQVRBX1RZUEVTLk9CSkVDVCkge1xuICAgICAgICAgICAgICAvLyBTdWItb2JqZWN0IGNvbnRhaW5zIGFuIG9iamVjdC5cblxuICAgICAgICAgICAgICAvLyBNb3ZlIHByaXZhdGUgdmFycyB1cCBhcyBuZWVkZWQuICBOZWVkZWQgdG8gc3VwcG9ydCBjZXJ0YWluIHR5cGVzIG9mIG9iamVjdHNcbiAgICAgICAgICAgICAgLy8gRS5nLiB7IGZvbzogeyBfYXR0cnM6IHsgYTogMSB9IH0gfSAtPiA8Zm9vIGE9XCIxXCIvPlxuICAgICAgICAgICAgICBQUklWQVRFX1ZBUlMuZm9yRWFjaChmdW5jdGlvbiAocHJpdmF0ZVZhcikge1xuICAgICAgICAgICAgICAgIHZhciB2YWwgPSBvYmpba2V5XVtwcml2YXRlVmFyXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgIG91dHB1dE9ialtwcml2YXRlVmFyXSA9IHZhbDtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmpba2V5XVtwcml2YXRlVmFyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB2YXIgaGFzQ29udGVudCA9IHR5cGVvZiBvYmpba2V5XS5fY29udGVudCAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgICAgICAgIGlmIChoYXNDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gX2NvbnRlbnQgaGFzIHNpYmxpbmcga2V5cywgc28gcGFzcyBhcyBhbiBhcnJheSAoZWRnZSBjYXNlKS5cbiAgICAgICAgICAgICAgICAvLyBFLmcuIHsgZm9vOiAnYmFyJywgX2NvbnRlbnQ6IHsgYmF6OiAyIH0gfSAtPiA8Zm9vPmJhcjwvZm9vPjxiYXo+MjwvYmF6PlxuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhvYmpba2V5XSkubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgdmFyIG5ld0NvbnRlbnRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBvYmpba2V5XSk7XG4gICAgICAgICAgICAgICAgICBkZWxldGUgbmV3Q29udGVudE9iai5fY29udGVudDtcbiAgICAgICAgICAgICAgICAgIG91dHB1dE9iai5fY29udGVudCA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkob2JqVG9BcnJheShuZXdDb250ZW50T2JqKSksIFtvYmpba2V5XS5fY29udGVudF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGYWxsdGhyb3VnaDoganVzdCBwYXNzIHRoZSBrZXkgYXMgdGhlIGNvbnRlbnQgZm9yIHRoZSBuZXcgc3BlY2lhbC1vYmplY3QuXG4gICAgICAgICAgICBpZiAodHlwZW9mIG91dHB1dE9iai5fY29udGVudCA9PT0gJ3VuZGVmaW5lZCcpIG91dHB1dE9iai5fY29udGVudCA9IG9ialtrZXldO1xuICAgICAgICAgICAgdmFyIHhtbCA9IHRvWE1MKG91dHB1dE9iaiwgbmV3Q29uZmlnKTtcbiAgICAgICAgICAgIHJldHVybiB4bWw7XG4gICAgICAgICAgfSwgY29uZmlnKTtcbiAgICAgICAgICBvdXRwdXRTdHIgPSBvdXRwdXRBcnIuam9pbignJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgREFUQV9UWVBFUy5GVU5DVElPTjpcbiAgICAgICAge1xuICAgICAgICAgIC8vIEV4ZWN1dGVzIGEgdXNlci1kZWZpbmVkIGZ1bmN0aW9uIGFuZCByZXR1cm5zIG91dHB1dC5cblxuICAgICAgICAgIHZhciBmblJlc3VsdCA9IG9iaihjb25maWcpO1xuICAgICAgICAgIG91dHB1dFN0ciA9IHRvWE1MKGZuUmVzdWx0LCBjb25maWcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlIERBVEFfVFlQRVMuQVJSQVk6XG4gICAgICAgIHtcbiAgICAgICAgICAvLyBJdGVyYXRlcyBhbmQgY29udmVydHMgZWFjaCB2YWx1ZSBpbiBhbiBhcnJheS5cbiAgICAgICAgICB2YXIgX291dHB1dEFyciA9IG9iai5tYXAoZnVuY3Rpb24gKHNpbmdsZVZhbCwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBuZXdDb25maWcgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvbmZpZyksIHt9LCB7XG4gICAgICAgICAgICAgIF9pc0ZpcnN0SXRlbTogaW5kZXggPT09IDAsXG4gICAgICAgICAgICAgIF9pc0xhc3RJdGVtOiBpbmRleCArIDEgPT09IG9iai5sZW5ndGgsXG4gICAgICAgICAgICAgIF9pc091dHB1dFN0YXJ0OiBpc091dHB1dFN0YXJ0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0b1hNTChzaW5nbGVWYWwsIG5ld0NvbmZpZyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgb3V0cHV0U3RyID0gX291dHB1dEFyci5qb2luKCcnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAvLyBmYWxsdGhyb3VnaCB0eXBlcyAobnVtYmVyLCBzdHJpbmcsIGJvb2xlYW4sIGRhdGUsIG51bGwsIGV0YylcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHtcbiAgICAgICAgICBvdXRwdXRTdHIgPSBtYXBTdHIob2JqLCBjb250ZW50UmVwbGFjZW1lbnRzLCBjb250ZW50TWFwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gXCJcIi5jb25jYXQoaGVhZGVyU3RyKS5jb25jYXQob3V0cHV0U3RyKTtcbiAgfTtcbiAgX2V4cG9ydHMudG9YTUwgPSB0b1hNTDtcbiAgdmFyIF9kZWZhdWx0ID0ge1xuICAgIHRvWE1MOiB0b1hNTFxuICB9O1xuICBfZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG59KTtcbiIsImltcG9ydCBGcmFjdGlvbiBmcm9tICdmcmFjdGlvbi5qcyc7XG5cbi8qKlxuICogSU5URVJWQUxTXG4gKlxuICogVGhlIGludGVydmFsIGlzIHRoZSBiYXNpYyBidWlsZGluZyBibG9jayBvZiBtdXNpYy5cbiAqIEl0IGlzIHRoZSBkaWZmZXJlbmNlIGluIHBpdGNoIGJldHdlZW4gdHdvIHNvdW5kcy5cbiAqXG4gKiBJdCBjYW4gYmUgcmVwcmVzZW50ZWQgYXM6XG4gKiAtIGEgZnJlcXVlbmN5IHJhdGlvXG4gKiAtIGEgbnVtYmVyIG9mIGNlbnRzICgxLzEwMCBvZiBhbiBlcXVhbGx5IHRlbXBlcmVkIHNlbWl0b25lKVxuICogLSBhIG51bWJlciBvZiBzYXZhcnRzIChodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TYXZhcnQpXG4gKiAtIC4uLmFuZCBtb3JlXG4gKlxuICogSXQgY2FuIGFsc28gYmUgbmFtZWQsIGRlcGVuZGluZyBvbiB0aGUgbm9tZW5jbGF0dXJlIGJlaW5nIHVzZWQuXG4gKlxuICovXG5cbmV4cG9ydCBjbGFzcyBJbnRlcnZhbCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByYXRpbzogRnJhY3Rpb24pIHt9XG4gIGdldCBjZW50cygpOiBudW1iZXIgeyByZXR1cm4gMTIwMCAqIE1hdGgubG9nMih0aGlzLnJhdGlvLnZhbHVlT2YoKSk7IH1cbiAgZ2V0IHNhdmFydHMoKTogbnVtYmVyIHsgcmV0dXJuIDEwMDAgKiBNYXRoLmxvZzEwKHRoaXMucmF0aW8udmFsdWVPZigpKTsgfVxuICBkaWZmZXJlbmNlKHJlZmVyZW5jZTogSW50ZXJ2YWwpOiBJbnRlcnZhbCB7IHJldHVybiBuZXcgSW50ZXJ2YWwodGhpcy5yYXRpby5kaXYocmVmZXJlbmNlLnJhdGlvKSk7IH1cbiAgc3RhdGljIGZyb21SYXRpbyhyYXRpbzogc3RyaW5nKTogSW50ZXJ2YWwgeyByZXR1cm4gbmV3IEludGVydmFsKG5ldyBGcmFjdGlvbihyYXRpbykpOyB9XG4gIHN0YXRpYyBmcm9tQ2VudHMoY2VudHM6IG51bWJlcik6IEludGVydmFsIHsgcmV0dXJuIG5ldyBJbnRlcnZhbChuZXcgRnJhY3Rpb24oTWF0aC5wb3coMiwgY2VudHMgLyAxMjAwKSkpOyB9XG4gIHN0YXRpYyBmcm9tU2F2YXJ0cyhzYXZhcnRzOiBudW1iZXIpOiBJbnRlcnZhbCB7IHJldHVybiBuZXcgSW50ZXJ2YWwobmV3IEZyYWN0aW9uKE1hdGgucG93KDEwLCBzYXZhcnRzIC8gMTAwMCkpKTsgfVxuICBzdGF0aWMgY29tcGFyZShhOiBJbnRlcnZhbCwgYjogSW50ZXJ2YWwpOiBudW1iZXIgeyByZXR1cm4gYS5yYXRpby5jb21wYXJlKGIucmF0aW8pOyB9XG4gIHN0YXRpYyBKTkQ6IEludGVydmFsID0gSW50ZXJ2YWwuZnJvbUNlbnRzKDUpOyAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9KdXN0LW5vdGljZWFibGVfZGlmZmVyZW5jZVxufVxuIiwiaW1wb3J0IHsgdG9YTUwgfSBmcm9tICdqc3RveG1sJztcbmltcG9ydCB7IFRvbmVSb3dTb2xtaXplZCB9IGZyb20gJy4vVG9uZVJvdyc7XG5pbXBvcnQgeyBUdW5pbmcsIFRvbmUgfSBmcm9tICcuL1R1bmluZyc7XG5pbXBvcnQgeyBTb2xtaXphdGlvbiB9IGZyb20gJy4vU29sbWl6YXRpb24nO1xuaW1wb3J0IHsgQW5ub3RhdGlvbiB9IGZyb20gJy4vdXRpbHMvQW5ub3RhdGlvbic7XG5pbXBvcnQgcGtnIGZyb20gJy4uL3BhY2thZ2UuanNvbic7XG5cbmNvbnN0IE1VU0lDWE1MX1ZFUlNJT04gPSAnNC4wJztcblxuLyoqXG4gKiBFeHBvcnQgdmFyaW91cyBTY2FsZXh0cmljIG9iamVjdHMgdG8gYXMgYSBNdXNpY1hNTCBkb2N1bWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIE11c2ljWE1MIHtcbiAgc3RhdGljIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICdkaXZpc2lvbnMnOiA3NjgsXG4gICAgJ3RpbWUnOiB7XG4gICAgICAnYmVhdHMnOiA0LFxuICAgICAgJ2JlYXRUeXBlJzogNFxuICAgIH0sXG4gICAgJ3RlbXBvJzogNjAsXG4gIH1cblxuICBzdGF0aWMgYWNjaWRlbnRhbHMgPSB7XG4gICAgJyMnOiAnc2hhcnAnLFxuICAgICfima8nOiAnc2hhcnAnLFxuICAgICdcXHVFMjYyJzogJ3NoYXJwJyxcblxuICAgICduJzogJ25hdHVyYWwnLFxuICAgICfima4nOiAnbmF0dXJhbCcsXG4gICAgJ1xcdUUyNjEnOiAnbmF0dXJhbCcsXG5cbiAgICAnYic6ICdmbGF0JyxcbiAgICAn4pmtJzogJ2ZsYXQnLFxuICAgICdcXHVFMjYwJzogJ2ZsYXQnLFxuXG4gICAgJ3gnOiAnZG91YmxlLXNoYXJwJyxcbiAgICAn8J2Eqic6ICdkb3VibGUtc2hhcnAnLFxuICAgICdcXHVFMjYzJzogJ2RvdWJsZS1zaGFycCcsXG5cbiAgICAnIyMnOiAnc2hhcnAtc2hhcnAnLFxuICAgICfima/ima8nOiAnc2hhcnAtc2hhcnAnLFxuICAgICdcXHVFMjY5JzogJ3NoYXJwLXNoYXJwJyxcblxuICAgICdiYic6ICdmbGF0LWZsYXQnLFxuICAgICfima3ima0nOiAnZmxhdC1mbGF0JyxcbiAgICAn8J2Eqyc6ICdmbGF0LWZsYXQnLFxuICAgICdcXHVFMjY0JzogJ2ZsYXQtZmxhdCcsXG5cbiAgICAnbiMnOiAnbmF0dXJhbC1zaGFycCcsXG4gICAgJ+KZruKZryc6ICduYXR1cmFsLXNoYXJwJyxcbiAgICAnXFx1RTI2OCc6ICduYXR1cmFsLXNoYXJwJyxcblxuICAgICduYic6ICduYXR1cmFsLWZsYXQnLFxuICAgICfima7ima0nOiAnbmF0dXJhbC1mbGF0JyxcbiAgICAnXFx1RTI2Nyc6ICduYXR1cmFsLWZsYXQnLFxuXG4gICAgJyN4JzogJ3RyaXBsZS1zaGFycCcsXG4gICAgJ+KZr/CdhKonOiAndHJpcGxlLXNoYXJwJyxcbiAgICAnXFx1RTI2NSc6ICd0cmlwbGUtc2hhcnAnLFxuXG4gICAgJ2JiYic6ICd0cmlwbGUtZmxhdCcsXG4gICAgJ+KZreKZreKZrSc6ICd0cmlwbGUtZmxhdCcsXG4gICAgJ1xcdUUyNjYnOiAndHJpcGxlLWZsYXQnLFxuXG4gICAgLy8gU3RlaW4tWmltbWVybWFubiBhY2NpZGVudGFscyAoMjQtRURPKVxuICAgICdcXHVFMjgwJzogJ3F1YXJ0ZXItZmxhdCcsXG4gICAgJ1xcdUUyODInOiAncXVhcnRlci1zaGFycCcsXG4gICAgJ1xcdUUyODEnOiAndGhyZWUtcXVhcnRlcnMtZmxhdCcsXG4gICAgJ1xcdUUyODMnOiAndGhyZWUtcXVhcnRlcnMtc2hhcnAnLFxuXG4gICAgLy8gR291bGQgYXJyb3cgcXVhcnRlcnRvbmUgYWNjaWRlbnRhbHMgKDI0LUVETylcbiAgICAnXFx1RTI3NSc6ICdzaGFycC1kb3duJyxcbiAgICAnXFx1RTI3NCc6ICdzaGFycC11cCcsXG4gICAgJ1xcdUUyNzMnOiAnbmF0dXJhbC1kb3duJyxcbiAgICAnXFx1RTI3Mic6ICduYXR1cmFsLXVwJyxcbiAgICAnXFx1RTI3MSc6ICdmbGF0LWRvd24nLFxuICAgICdcXHVFMjcwJzogJ2ZsYXQtdXAnLFxuICAgICdcXHVFMjc3JzogJ2RvdWJsZS1zaGFycC1kb3duJyxcbiAgICAnXFx1RTI3Nic6ICdkb3VibGUtc2hhcnAtdXAnLFxuICAgICdcXHVFMjc5JzogJ2ZsYXQtZmxhdC1kb3duJyxcbiAgICAnXFx1RTI3OCc6ICdmbGF0LWZsYXQtdXAnLFxuICAgICdcXHVFMjdBJzogJ2Fycm93LWRvd24nLFxuICAgICdcXHVFMjdCJzogJ2Fycm93LXVwJyxcblxuICAgIC8vIEFyZWwtRXpnaS1VemRpbGVrIChBRVUpIGFjY2lkZW50YWxzXG4gICAgJ1xcdUU0NDYnOiAnc2xhc2gtcXVhcnRlci1zaGFycCcsXG4gICAgJ1xcdUU0NDcnOiAnc2xhc2gtc2hhcnAnLFxuICAgICdcXHVFNDQyJzogJ3NsYXNoLWZsYXQnLFxuICAgICdcXHVFNDQwJzogJ2RvdWJsZS1zbGFzaC1mbGF0JyxcbiAgICAnXFx1RTQ0Myc6ICdxdWFydGVyLWZsYXQnLFxuICAgICdcXHVFNDQ0JzogJ3F1YXJ0ZXItc2hhcnAnLFxuICAgICdcXHVFNDQxJzogJ2ZsYXQnLFxuICAgICdcXHVFNDQ1JzogJ3NoYXJwJyxcblxuICAgIC8vIFR1cmtpc2ggZm9sayBtdXNpYyBhY2NpZGVudGFsc1xuICAgICdcXHVFNDUwJzogJ3NoYXJwLTEnLFxuICAgICdcXHVFNDUxJzogJ3NoYXJwLTInLFxuICAgICdcXHVFNDUyJzogJ3NoYXJwLTMnLFxuICAgICdcXHVFNDUzJzogJ3NoYXJwLTUnLFxuICAgICdcXHVFNDU0JzogJ2ZsYXQtMScsXG4gICAgJ1xcdUU0NTUnOiAnZmxhdC0yJyxcbiAgICAnXFx1RTQ1Nic6ICdmbGF0LTMnLFxuICAgICdcXHVFNDU3JzogJ2ZsYXQtNCcsXG5cbiAgICAvLyBQZXJzaWFuIGFjY2lkZW50YWxzXG4gICAgJ1xcdUU0NjEnOiAnc29yaScsXG4gICAgJ1xcdUU0NjAnOiAna29yb24nLFxuICB9XG5cbiAgc3RhdGljIGR1cmF0aW9ucyA9IHtcbiAgICA4OiAnZWlnaHRoJyxcbiAgICA0OiAncXVhcnRlcicsXG4gICAgMjogJ2hhbGYnLFxuICAgIDE6ICd3aG9sZScsXG4gIH1cblxuICBwcml2YXRlIG9wdGlvbnM6IG9iamVjdDtcbiAgcHJpdmF0ZSByZWZlcmVuY2U6IFNvbG1pemF0aW9uO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgdGl0bGU6IHN0cmluZyxcbiAgICBwcml2YXRlIG9iamVjdHM6IFRvbmVSb3dTb2xtaXplZFtdLFxuICAgIG9wdGlvbnMgPSB7fVxuICApIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBNdXNpY1hNTC5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgdGhpcy5yZWZlcmVuY2UgPSBuZXcgU29sbWl6YXRpb24oVHVuaW5nLmZyb21FZG8oMTIpLCB7XG4gICAgICAnQyc6IDAsXG4gICAgICAnRCc6IDIsXG4gICAgICAnRSc6IDQsXG4gICAgICAnRic6IDUsXG4gICAgICAnRyc6IDcsXG4gICAgICAnQSc6IDksXG4gICAgICAnQic6IDExLFxuICAgIH0sIHt9KTtcbiAgfVxuXG4gIGNvbnZlcnQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdG9YTUwodGhpcy5jb252ZXJ0RG9jdW1lbnQoKSwge1xuICAgICAgaGVhZGVyOiBgXG48P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiPz5cbjwhRE9DVFlQRSBzY29yZS1wYXJ0d2lzZSBQVUJMSUMgXCItLy9SZWNvcmRhcmUvL0RURCBNdXNpY1hNTCAke01VU0lDWE1MX1ZFUlNJT059IFBhcnR3aXNlLy9FTlwiIFwiaHR0cDovL3d3dy5tdXNpY3htbC5vcmcvZHRkcy9wYXJ0d2lzZS5kdGRcIj5cbiAgICAgIGAudHJpbSgpLFxuICAgICAgaW5kZW50OiAnICAnXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNvbnZlcnREb2N1bWVudCgpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICBfbmFtZTogJ3Njb3JlLXBhcnR3aXNlJyxcbiAgICAgIF9hdHRyczogeyAndmVyc2lvbic6IE1VU0lDWE1MX1ZFUlNJT04gfSxcbiAgICAgIF9jb250ZW50OiBbe1xuICAgICAgICAnd29yayc6IHtcbiAgICAgICAgICAnd29yay10aXRsZSc6IHRoaXMudGl0bGVcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAnaWRlbnRpZmljYXRpb24nOiBbe1xuICAgICAgICAgICdlbmNvZGluZyc6IFt7XG4gICAgICAgICAgICAnc29mdHdhcmUnOiBgQGluZm9qdW5raWUvc2NhbGV4dHJpYyAke3BrZy52ZXJzaW9ufWBcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAnZW5jb2RpbmctZGF0ZSc6IE11c2ljWE1MLmNvbnZlcnREYXRlKG5ldyBEYXRlKCkpXG4gICAgICAgICAgfV1cbiAgICAgICAgfV1cbiAgICAgIH0sIHtcbiAgICAgICAgJ3BhcnQtbGlzdCc6IHtcbiAgICAgICAgICBfbmFtZTogJ3Njb3JlLXBhcnQnLFxuICAgICAgICAgIF9hdHRyczogeyAnaWQnOiAnUDEnIH0sXG4gICAgICAgICAgX2NvbnRlbnQ6IHtcbiAgICAgICAgICAgIF9uYW1lOiAncGFydC1uYW1lJyxcbiAgICAgICAgICAgIF9hdHRyczogeyAncHJpbnQtb2JqZWN0JzogJ25vJyB9LFxuICAgICAgICAgICAgX2NvbnRlbnQ6IHRoaXMudGl0bGVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgX25hbWU6ICdwYXJ0JyxcbiAgICAgICAgX2F0dHJzOiB7ICdpZCc6ICdQMScgfSxcbiAgICAgICAgX2NvbnRlbnQ6IHRoaXMuY29udmVydE9iamVjdHMoKVxuICAgICAgfV1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCB0b25lIHJvd3MgdG8gTXVzaWNYTUwgbWVhc3VyZXMuXG4gICAqXG4gICAqIC0gRWFjaCB0b25lIHJvdyBzdGFydHMgYSBuZXcgbWVhc3VyZVxuICAgKiAtIENvbnZlcnQgZWFjaCB0b25lIGluIHRoZSB0b25lIHJvdyB0byBhIHF1YXJ0ZXItdG9uZVxuICAgKiAtIE9wZW4gYSBuZXcgbWVhc3VyZSBhcyBuZWVkZWRcbiAgICogLSBXaGVuIHRoZSB0b25lIHJvdyBpcyBjb21wbGV0ZTpcbiAgICogICAtIEZpbGwgdGhlIGN1cnJlbnQgbWVhc3VyZSB3aXRoIHJlc3RzXG4gICAqICAgLSBDbG9zZSB3aXRoIGEgc2VjdGlvbiBiYXJsaW5lXG4gICAqICAgLSBTdGFydCBhIG5ldyBzeXN0ZW1cbiAgICpcbiAgICogQHJldHVybnMgYXJyYXkgb2YgbWVhc3VyZXMuXG4gICAqL1xuICBwcml2YXRlIGNvbnZlcnRPYmplY3RzKCk6IG9iamVjdFtdIHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3RzLnJlZHVjZSgobWVhc3VyZXMsIG9iamVjdCwgaW5kZXgpID0+IHtcbiAgICAgIC8vIFN0YXJ0IG5ldyBtZWFzdXJlLlxuICAgICAgbGV0IG1lYXN1cmUgPSB0aGlzLmNvbnZlcnRNZWFzdXJlKG1lYXN1cmVzLmxlbmd0aCArIDEpO1xuICAgICAgbWVhc3VyZXMucHVzaChtZWFzdXJlKTtcblxuICAgICAgLy8gTmV3IHN5c3RlbSBpZiBuZWVkZWQuXG4gICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgIG1lYXN1cmVbJ19jb250ZW50J10ucHVzaCh7XG4gICAgICAgICAgX25hbWU6ICdwcmludCcsXG4gICAgICAgICAgX2F0dHJzOiB7ICduZXctc3lzdGVtJzogJ3llcycgfVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICAvLyBGaXJzdCBtZWFzdXJlIGF0dHJpYnV0ZXMuXG4gICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgbWVhc3VyZVsnX2NvbnRlbnQnXS5wdXNoKHtcbiAgICAgICAgICAnYXR0cmlidXRlcyc6IFt7XG4gICAgICAgICAgICAnZGl2aXNpb25zJzogdGhpcy5vcHRpb25zWydkaXZpc2lvbnMnXVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICdrZXknOiBbe1xuICAgICAgICAgICAgICAnZmlmdGhzJzogMFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAnbW9kZSc6ICdtYWpvcidcbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJ3RpbWUnOiBbe1xuICAgICAgICAgICAgICAnYmVhdHMnOiB0aGlzLm9wdGlvbnNbJ3RpbWUnXVsnYmVhdHMnXVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAnYmVhdC10eXBlJzogdGhpcy5vcHRpb25zWyd0aW1lJ11bJ2JlYXRUeXBlJ11cbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJ2NsZWYnOiBbe1xuICAgICAgICAgICAgICAnc2lnbic6ICdHJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAnbGluZSc6IDJcbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfV1cbiAgICAgICAgfSwge1xuICAgICAgICAgIF9uYW1lOiAnZGlyZWN0aW9uJyxcbiAgICAgICAgICBfYXR0cnM6IHsgJ3BsYWNlbWVudCc6ICdhYm92ZScgfSxcbiAgICAgICAgICBfY29udGVudDogW3tcbiAgICAgICAgICAgICdkaXJlY3Rpb24tdHlwZSc6IFt7XG4gICAgICAgICAgICAgIF9uYW1lOiAnbWV0cm9ub21lJyxcbiAgICAgICAgICAgICAgX2F0dHJzOiB7ICdwYXJlbnRoZXNlcyc6ICdubycgfSxcbiAgICAgICAgICAgICAgX2NvbnRlbnQ6IFt7XG4gICAgICAgICAgICAgICAgJ2JlYXQtdW5pdCc6IE11c2ljWE1MLmR1cmF0aW9uc1t0aGlzLm9wdGlvbnNbJ3RpbWUnXVsnYmVhdFR5cGUnXV1cbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICdwZXItbWludXRlJzogdGhpcy5vcHRpb25zWyd0ZW1wbyddXG4gICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9XVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIF9uYW1lOiAnc291bmQnLFxuICAgICAgICAgICAgX2F0dHJzOiB7ICd0ZW1wbyc6IHRoaXMub3B0aW9uc1sndGVtcG8nXSB9XG4gICAgICAgICAgfV1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBvYmplY3QgbGFiZWwgaWYgYW55LlxuICAgICAgY29uc3QgbGFiZWxzID0gQW5ub3RhdGlvbi5maW5kQnlMYWJlbCgnbGFiZWwnLCBvYmplY3QuYW5ub3RhdGlvbnMpO1xuICAgICAgaWYgKGxhYmVscykge1xuICAgICAgICBtZWFzdXJlWydfY29udGVudCddLnB1c2goe1xuICAgICAgICAgIF9uYW1lOiAnZGlyZWN0aW9uJyxcbiAgICAgICAgICBfYXR0cnM6IHsgJ3BsYWNlbWVudCc6ICdhYm92ZScgfSxcbiAgICAgICAgICBfY29udGVudDogW3tcbiAgICAgICAgICAgICdkaXJlY3Rpb24tdHlwZSc6IFt7XG4gICAgICAgICAgICAgICd3b3Jkcyc6IGxhYmVsc1swXVxuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9XSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIExvb3Agb24gdG9uZXMuXG4gICAgICBsZXQgYmVhdCA9IDA7XG4gICAgICBvYmplY3QudG9uZXMuZm9yRWFjaCgodG9uZSwgdG9uZUluZGV4KSA9PiB7XG4gICAgICAgIG1lYXN1cmVbJ19jb250ZW50J10ucHVzaCh0aGlzLmNvbnZlcnROb3RlKHRvbmUsIG9iamVjdCkpO1xuXG4gICAgICAgIC8vIEFkZCBuZXcgbWVhc3VyZSBpZiBuZWVkZWQuXG4gICAgICAgIGJlYXQgPSAoYmVhdCArIDEpICUgdGhpcy5vcHRpb25zWyd0aW1lJ11bJ2JlYXRzJ107XG4gICAgICAgIGlmIChiZWF0ID09PSAwICYmIHRvbmVJbmRleCA8IG9iamVjdC50b25lcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgbWVhc3VyZSA9IHRoaXMuY29udmVydE1lYXN1cmUobWVhc3VyZXMubGVuZ3RoICsgMSk7XG4gICAgICAgICAgbWVhc3VyZXMucHVzaChtZWFzdXJlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFkZCByZW1haW5pbmcgcmVzdHMgdG8gdGhlIGxhc3QgbWVhc3VyZS5cbiAgICAgIGlmIChiZWF0ID4gMCkgd2hpbGUgKGJlYXQrKyA8IHRoaXMub3B0aW9uc1sndGltZSddWydiZWF0cyddKSB7XG4gICAgICAgIG1lYXN1cmVbJ19jb250ZW50J10ucHVzaCh7XG4gICAgICAgICAgX25hbWU6ICdub3RlJyxcbiAgICAgICAgICBfY29udGVudDogW3tcbiAgICAgICAgICAgIF9uYW1lOiAncmVzdCcsXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJ2R1cmF0aW9uJzogdGhpcy5vcHRpb25zWydkaXZpc2lvbnMnXSxcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAndHlwZSc6IE11c2ljWE1MLmR1cmF0aW9uc1t0aGlzLm9wdGlvbnNbJ3RpbWUnXVsnYmVhdFR5cGUnXV0sXG4gICAgICAgICAgfV1cbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8gQ2xvc2UgdGhlIGJhciB3aXRoIGEgc2VjdGlvbiBiYXJsaW5lLlxuICAgICAgbWVhc3VyZVsnX2NvbnRlbnQnXS5wdXNoKHRoaXMuY29udmVydEJhcigncmlnaHQnLCAnbGlnaHQtbGlnaHQnKSk7XG5cbiAgICAgIHJldHVybiBtZWFzdXJlcztcbiAgICB9LCBbXSk7XG4gIH1cblxuICBwcml2YXRlIGNvbnZlcnRCYXIobG9jYXRpb246IHN0cmluZywgc3R5bGU6IHN0cmluZyk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9uYW1lOiAnYmFybGluZScsXG4gICAgICBfYXR0cnM6IHsgJ2xvY2F0aW9uJzogbG9jYXRpb24gfSxcbiAgICAgIF9jb250ZW50OiBbe1xuICAgICAgICAnYmFyLXN0eWxlJzogc3R5bGVcbiAgICAgIH1dXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjb252ZXJ0TWVhc3VyZShudW1iZXI6IG51bWJlcik6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9uYW1lOiAnbWVhc3VyZScsXG4gICAgICBfYXR0cnM6IHsgJ251bWJlcic6IG51bWJlciB9LFxuICAgICAgX2NvbnRlbnQ6IFtdLFxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY29udmVydE5vdGUodG9uZTogVG9uZSwgb2JqZWN0OiBUb25lUm93U29sbWl6ZWQpOiBvYmplY3Qge1xuICAgIGNvbnN0IG5hbWUgPSBvYmplY3Quc29sbWl6YXRpb24ubmFtZSh0b25lKVswXTtcbiAgICBjb25zdCBzdGVwID0gbmFtZVswXTtcbiAgICBjb25zdCBhY2NpZGVudGFsID0gdGhpcy5jb252ZXJ0QWNjaWRlbnRhbChuYW1lLnNsaWNlKDEsIC0xKSk7XG4gICAgY29uc3Qgb2N0YXZlID0gbmFtZVtuYW1lLmxlbmd0aC0xXTtcblxuICAgIC8vIEdlbmVyYXRlIGEgcGl0Y2ggYWx0ZXJhdGlvbiBhcyBjb21wYXJlZCB0byB0aGUgcmVmZXJlbmNlIHR1bmluZy5cbiAgICBjb25zdCByZWZlcmVuY2UgPSB0aGlzLnJlZmVyZW5jZS5wYXJzZShgJHtzdGVwfSR7b2N0YXZlfWApO1xuICAgIGNvbnN0IGNlbnRzID0gdG9uZS50dW5lLmRpZmZlcmVuY2UocmVmZXJlbmNlLnR1bmUpLmNlbnRzO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIF9uYW1lOiAnbm90ZScsXG4gICAgICBfY29udGVudDogW3tcbiAgICAgICAgX25hbWU6ICdwaXRjaCcsXG4gICAgICAgIF9jb250ZW50OiBbe1xuICAgICAgICAgICdzdGVwJzogc3RlcFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJ2FsdGVyJzogTWF0aC5yb3VuZChjZW50cyAqIDEwMCkgLyAxMDAwMFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJ29jdGF2ZSc6IG9jdGF2ZVxuICAgICAgICB9XVxuICAgICAgfSwge1xuICAgICAgICAnZHVyYXRpb24nOiB0aGlzLm9wdGlvbnNbJ2RpdmlzaW9ucyddLFxuICAgICAgfSwge1xuICAgICAgICAndHlwZSc6IE11c2ljWE1MLmR1cmF0aW9uc1t0aGlzLm9wdGlvbnNbJ3RpbWUnXVsnYmVhdFR5cGUnXV0sXG4gICAgICB9LCB7XG4gICAgICAgIC4uLihhY2NpZGVudGFsICYmIGFjY2lkZW50YWwgIT09ICdvdGhlcicgJiYgeyAnYWNjaWRlbnRhbCc6IGFjY2lkZW50YWwgfSlcbiAgICAgIH0sIHtcbiAgICAgICAgLi4uKGFjY2lkZW50YWwgJiYgYWNjaWRlbnRhbCA9PT0gJ290aGVyJyAmJiB7XG4gICAgICAgICAgX25hbWU6ICdhY2NpZGVudGFsJyxcbiAgICAgICAgICBfY29udGVudDogYWNjaWRlbnRhbCxcbiAgICAgICAgICBfYXR0cnM6IHsgJ3NtdWZsJzogbmFtZS5zbGljZSgxLCAtMSkgfVxuICAgICAgIH0pXG4gICAgICB9XSxcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbnZlcnRBY2NpZGVudGFsKGFjY2lkZW50YWwpOiBzdHJpbmcge1xuICAgIGlmICghYWNjaWRlbnRhbC5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgIGlmIChhY2NpZGVudGFsIGluIE11c2ljWE1MLmFjY2lkZW50YWxzKSB7XG4gICAgICByZXR1cm4gTXVzaWNYTUwuYWNjaWRlbnRhbHNbYWNjaWRlbnRhbF07XG4gICAgfVxuICAgIHJldHVybiAnb3RoZXInO1xuICB9XG5cbiAgLy8gRGF0ZSBpbiB5eXl5LW1tLWRkXG4gIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81MDEzMDMzOC8yMDkxODRcbiAgcHJpdmF0ZSBzdGF0aWMgY29udmVydERhdGUoZGF0ZSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpIC0gKGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwKSlcbiAgICAgIC50b0lTT1N0cmluZygpXG4gICAgICAuc3BsaXQoJ1QnKVswXTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgVHVuaW5nLCBUb25lIH0gZnJvbSAnLi9UdW5pbmcnO1xuaW1wb3J0IHsgZXNjYXBlUmVnRXhwLCBtb2QgfSBmcm9tICcuL3V0aWxzL2hlbHBlcnMnO1xuaW1wb3J0IHsgTXVsdGltYXAgfSBmcm9tICcuL3V0aWxzL0JpbWFwJztcblxuLyoqXG4gKiBTT0xNSVpBVElPTiBTWVNURU1cbiAqXG4gKiBUbyBuYW1lIG5vdGVzLCB3ZSB1c2UgYSBjb21tb24gcmVwcmVzZW50YXRpb24gYmFzZWQgb24gU2NpZW50aWZpYyBQaXRjaCBOb3RhdGlvbiAoU1BOKTpcbiAqIC0gU3RhbmRhcmQgbm90ZSBsZXR0ZXJzIEMsIEQsIEUsIEYsIEcsIEEsIEJcbiAqIC0gQW4gZXh0ZW5zaWJsZSBzZXQgb2YgYWNjaWRlbnRhbHNcbiAqXG4gKiBXZSBkZWZpbmUgYSB0dW5pbmcgbm90YXRpb24gbWFwIHRoYXQgZGVmaW5lcyBob3cgbm90ZXMgYW5kIGFjY2lkZW50YWxzIG1hcCB0byB0dW5pbmcgdG9uZXMvcGl0Y2hlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFNvbG1pemF0aW9uIHtcbiAgcmVnZXg6IFJlZ0V4cDtcbiAgbmFtZU1hcDogTXVsdGltYXA8c3RyaW5nLCBudW1iZXI+O1xuICBwYXJzZU1hcDogTXVsdGltYXA8c3RyaW5nLCBudW1iZXI+O1xuXG4gIC8qKlxuICAgKiBDT05TVFJVQ1RPUlxuICAgKlxuICAgKiBAcGFyYW0gdHVuaW5nOiB0aGUgdHVuaW5nIGJlaW5nIG5hbWVkXG4gICAqIEBwYXJhbSBub3RlczogbWFwIG9mIG5vdGUgbGV0dGVycyB0byBwaXRjaCBjbGFzc2VzOlxuICAgKiBgYGBcbiAgICoge1xuICAgKiAgICdDJzogMCxcbiAgICogICAnRCc6IDIsXG4gICAqICAgJ0UnOiA0LFxuICAgKiAgICdGJzogNSxcbiAgICogICAnRyc6IDcsXG4gICAqICAgJ0EnOiA5LFxuICAgKiAgICdCJzogMTEsXG4gICAqIH1cbiAgICogQHBhcmFtIGFjY2lkZW50YWxzOiBtYXAgb2YgYWNjaWRlbnRhbHMgdG8gdG9uZSBzdGVwczpcbiAgICogYGBgXG4gICAqIHtcbiAgICogICAn4pmvJzogKzEsXG4gICAqICAgJyMnOiArMSxcbiAgICogICAn4pmtJzogLTEsXG4gICAqICAgJ2InOiAtMSxcbiAgICogICAn4pmuJzogIDAsXG4gICAqICAgJ/CdhKonOiArMixcbiAgICogICAn8J2Eqyc6IC0yLFxuICAgKiB9XG4gICAqIGBgYFxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHR1bmluZzogVHVuaW5nLFxuICAgIHB1YmxpYyBub3Rlczoge1tub3RlOiBzdHJpbmddOiBudW1iZXJ9LFxuICAgIHB1YmxpYyBhY2NpZGVudGFsczoge1thY2NpZGVudGFsOiBzdHJpbmddOiBudW1iZXJ9XG4gICkge1xuICAgIC8vIHBhcnNlTWFwIGFzc29jaWF0ZXMgcGl0Y2ggY2xhc3NlcyB3aXRoIGFsbCBwb3NzaWJsZSBjb21iaW5hdGlvbnMgb2Ygbm90ZSBsZXR0ZXJzIGFuZCBhY2NpZGVudGFscy5cbiAgICB0aGlzLnBhcnNlTWFwID0gbmV3IE11bHRpbWFwPHN0cmluZywgbnVtYmVyPigpO1xuICAgIE9iamVjdC5rZXlzKG5vdGVzKS5mb3JFYWNoKG5vdGUgPT4ge1xuICAgICAgdGhpcy5wYXJzZU1hcC5zZXQobm90ZSwgbm90ZXNbbm90ZV0pO1xuICAgICAgT2JqZWN0LmtleXMoYWNjaWRlbnRhbHMpLmZvckVhY2goYWNjaWRlbnRhbCA9PiB7XG4gICAgICAgIHRoaXMucGFyc2VNYXAuc2V0KGAke25vdGV9JHthY2NpZGVudGFsfWAsIG1vZChub3Rlc1tub3RlXSArIGFjY2lkZW50YWxzW2FjY2lkZW50YWxdLCB0dW5pbmcuc3RlcHMpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gbmFtZU1hcCBhc3NvY2lhdGVzIHBpdGNoIGNsYXNzZXMgd2l0aCBhIHN1YnNldCBvZiBjb21iaW5hdGlvbnMsIGJ5IHNlbGVjdGluZyB0aGUgRklSU1QgYWNjaWRlbnRhbCBzeW1ib2xcbiAgICAvLyBmb3IgZWFjaCB0b25lIHN0ZXAuXG4gICAgdGhpcy5uYW1lTWFwID0gbmV3IE11bHRpbWFwPHN0cmluZywgbnVtYmVyPigpO1xuICAgIE9iamVjdC5rZXlzKG5vdGVzKS5mb3JFYWNoKG5vdGUgPT4ge1xuICAgICAgY29uc3Qgc3RlcHMgPSBbMF07IC8vIFRoZSBlbnRyeSBiZWxvdyBzZXRzIHRoZSBuYXR1cmFsIG5vdGUsIGkuZS4gc3RlcCA9PSAwXG4gICAgICB0aGlzLm5hbWVNYXAuc2V0KG5vdGUsIG5vdGVzW25vdGVdKTtcbiAgICAgIE9iamVjdC5rZXlzKGFjY2lkZW50YWxzKS5mb3JFYWNoKGFjY2lkZW50YWwgPT4ge1xuICAgICAgICBpZiAoIXN0ZXBzLmluY2x1ZGVzKGFjY2lkZW50YWxzW2FjY2lkZW50YWxdKSkge1xuICAgICAgICAgIHRoaXMubmFtZU1hcC5zZXQoYCR7bm90ZX0ke2FjY2lkZW50YWx9YCwgbW9kKG5vdGVzW25vdGVdICsgYWNjaWRlbnRhbHNbYWNjaWRlbnRhbF0sIHR1bmluZy5zdGVwcykpO1xuICAgICAgICAgIHN0ZXBzLnB1c2goYWNjaWRlbnRhbHNbYWNjaWRlbnRhbF0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIENyZWF0ZSBhIHJlZ2V4IHRoYXQgcGFyc2VzIGFsbCBwb3NzaWJsZSBjb21iaW5hdGlvbnMuXG4gICAgdGhpcy5yZWdleCA9IG5ldyBSZWdFeHAoXG4gICAgICAnXignICsgQXJyYXkuZnJvbSh0aGlzLnBhcnNlTWFwLmtleXMoKSkubWFwKGVzY2FwZVJlZ0V4cCkuam9pbignfCcpICsgJyknICtcbiAgICAgICcoLT9cXFxcZCkkJyxcbiAgICAgICdpJ1xuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTkFNRSBBIFRPTkVcbiAgICpcbiAgICogQHBhcmFtIHRvbmU6IHRvbmUgdG8gYmUgbmFtZWRcbiAgICogQHJldHVybnMgYXJyYXkgb2Ygc3RyaW5ncyByZXByZXNlbnRpbmcgdGhlIGVuaGFybW9uaWMgbmFtaW5ncyBvZiB0aGUgdG9uZVxuICAgKi9cbiAgbmFtZSh0b25lOiBUb25lKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IG5hbWVzID0gWy4uLnRoaXMubmFtZU1hcC5nZXRLZXkodG9uZS5waXRjaENsYXNzKV07XG4gICAgcmV0dXJuIG5hbWVzLnNvcnQoKGEsIGIpID0+IGEubGVuZ3RoIC0gYi5sZW5ndGgpLm1hcChuYW1lID0+IGAke25hbWV9JHt0b25lLm9jdGF2ZX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQQVJTRSBBIE5PVEVcbiAgICpcbiAgICogQHBhcmFtIG5vdGU6IHRhcmdldCBub3RlIGluIHNjaWVudGlmaWMgcGl0Y2ggbm90YXRpb25cbiAgICogQHJldHVybnMgY29ycmVzcG9uZGluZyB0b25lIGluIHRoZSB0dW5pbmdcbiAgICovXG4gIHBhcnNlKG5vdGU6IHN0cmluZyk6IFRvbmUge1xuICAgIGNvbnN0IG1hdGNoID0gdGhpcy5yZWdleC5leGVjKG5vdGUpO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgW1NvbG1pemF0aW9uLnBhcnNlXSBDb3VsZCBub3QgbWF0Y2ggbm90ZSAke25vdGV9YCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVG9uZSh0aGlzLnR1bmluZywgdGhpcy5wYXJzZU1hcC5nZXQobWF0Y2hbMV0pLCBwYXJzZUludChtYXRjaFsyXSwgMTApKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgVHVuaW5nLCBUb25lIH0gZnJvbSAnLi9UdW5pbmcnO1xuaW1wb3J0IHsgQW5ub3RhdGlvbiB9IGZyb20gJy4vdXRpbHMvQW5ub3RhdGlvbic7XG5pbXBvcnQgeyBTb2xtaXphdGlvbiB9IGZyb20gJy4vU29sbWl6YXRpb24nO1xuXG4vKipcbiAqIFRPTkUgUk9XXG4gKlxuICogV2UgZGVmaW5lIGEgdG9uZSByb3cgYXMgYW4gbm9uLXJlcGV0aXRpdmUgb3JkZXJlZCBzZXF1ZW5jZSBvZiB0b25lcy4gSXQgaXMgdGhlIGJhc2ljIGNvbGxlY3Rpb24gb2YgdG9uZXNcbiAqIHRoYXQgbWFrZSB1cCBtYW55IG90aGVyIG11c2ljYWwgb2JqZWN0cyBzdWNoIGFzIHRyaWFkcywgc2NhbGVzLCBjaG9yZHMsIGV0Yy5cbiAqXG4gKiBUaGlzIGRlZmluaXRpb24gZXh0ZW5kcyB0aGUgdXN1YWwgZGVmaW5pdGlvbiBvZiBcInRvbmUgcm93XCIgdXNlZCBpbiBzZXJpYWwgY29tcG9zaXRpb25cbiAqIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1RvbmVfcm93XG4gKlxuICogSXQgYWxsb3dzIHVzIHRvIHJldXNlIHRoZSBzdGFuZGFyZCB0b25lIHJvdyBvcGVyYXRpb25zIChpbnZlcnQsIHJldmVyc2UsIHRyYW5zcG9zZSwgcm90YXRlKVxuICogb24gb3RoZXIgbXVzaWNhbCBvYmplY3RzLlxuICovXG5leHBvcnQgY2xhc3MgVG9uZVJvdyB7XG4gIC8qKlxuICAgKiBDT05TVFJVQ1RPUlxuICAgKlxuICAgKiBAcGFyYW0gdHVuaW5nOiB0aGUgcmVmZXJlbmNlIHR1bmluZ1xuICAgKiBAcGFyYW0gdG9uZXM6IHRoZSB0b25lcyBtYWtpbmcgdXAgdGhlIHJvd1xuICAgKiBAcGFyYW0gYW5ub3RhdGlvbnM6IG5vdGVzIGFib3V0IHRoZSByb3dcbiAgICovXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB0dW5pbmc6IFR1bmluZywgcHVibGljIHRvbmVzOiBUb25lW10sIHB1YmxpYyBhbm5vdGF0aW9uczogQW5ub3RhdGlvbltdID0gW10pIHtcbiAgICAvLyBWZXJpZnkgdGhhdCB0b25lcyBhcmUgdmFsaWQgYnkgZGV0ZWN0aW5nIHJlcGVhdGluZyBwaXRjaCBjbGFzc2VzLlxuICAgIGlmICh0b25lcy5zb21lKCh0b25lLCBpbmRleCkgPT4gISF0b25lcy5zbGljZShpbmRleCArIDEpLmZpbmQodCA9PiB0LnBpdGNoQ2xhc3MgPT09IHRvbmUucGl0Y2hDbGFzcykpKSB7XG4gICAgICB0aHJvdyBFcnJvcihgRm91bmQgcmVwZWF0aW5nIHBpdGNoIGNsYXNzIGluIHRvbmUgcm93LmApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc3Bvc2UgYSByb3cgdG8gYSB0YXJnZXQgdG9uZS5cbiAgICovXG4gIHRyYW5zcG9zZSh0YXJnZXQ6IFRvbmUpOiBUb25lUm93IHtcbiAgICByZXR1cm4gbmV3IFRvbmVSb3codGhpcy50dW5pbmcsIHRoaXMudG9uZXMubWFwKHRvbmUgPT5cbiAgICAgIFRvbmUuZnJvbVBpdGNoKHRoaXMudHVuaW5nLCB0YXJnZXQucGl0Y2ggKyB0b25lLnBpdGNoKVxuICAgICkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEludmVydCBhIHJvdyBhcm91bmQgYW4gYXhpcyB0b25lLlxuICAgKi9cbiAgaW52ZXJ0KGF4aXM6IFRvbmUpOiBUb25lUm93IHtcbiAgICByZXR1cm4gbmV3IFRvbmVSb3codGhpcy50dW5pbmcsIHRoaXMudG9uZXMubWFwKHRvbmUgPT5cbiAgICAgIFRvbmUuZnJvbVBpdGNoKHRoaXMudHVuaW5nLCBheGlzLnBpdGNoIC0gdG9uZS5waXRjaClcbiAgICApKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXZlcnNlIGEgcm93LlxuICAgKi9cbiAgcmV2ZXJzZSgpOiBUb25lUm93IHtcbiAgICByZXR1cm4gbmV3IFRvbmVSb3codGhpcy50dW5pbmcsIFsuLi50aGlzLnRvbmVzXS5yZXZlcnNlKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJvdGF0ZSBhIHJvdyBieSBjeWNsaW5nIGl0IGEgbnVtYmVyIG9mIHRpbWVzLlxuICAgKi9cbiAgcm90YXRlKGN5Y2xlczogbnVtYmVyKTogVG9uZVJvdyB7XG4gICAgY29uc3QgYyA9IGN5Y2xlcyAlIHRoaXMudG9uZXMubGVuZ3RoO1xuICAgIHJldHVybiBuZXcgVG9uZVJvdyh0aGlzLnR1bmluZywgWy4uLnRoaXMudG9uZXMuc2xpY2UoYyksIC4uLnRoaXMudG9uZXMuc2xpY2UoMCwgYyldKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb25vdG9uaXplIGEgcm93LCBlbnN1cmluZyBpdCBpcyBzdHJpY2x5IGFzY2VuZGluZyBvciBkZXNjZW5kaW5nLCBieSByYWlzaW5nIG9yIGRyb3BwaW5nIHBpdGNoIG9jdGF2ZXMuXG4gICAqXG4gICAqIHJvdGF0ZS5tb25vdG9uaXplID0+IGNob3JkIGludmVyc2lvblxuICAgKi9cbiAgbW9ub3Rvbml6ZShkZXNjZW5kaW5nID0gZmFsc2UpOiBUb25lUm93IHtcbiAgICByZXR1cm4gbmV3IFRvbmVSb3codGhpcy50dW5pbmcsIHRoaXMudG9uZXMucmVkdWNlKChjdXJyZW50LCBuZXh0KSA9PiB7XG4gICAgICBjb25zdCBsYXN0OiBUb25lID0gY3VycmVudC5sZW5ndGggPiAwID8gY3VycmVudFtjdXJyZW50Lmxlbmd0aC0xXSA6IG5leHQ7XG4gICAgICBpZiAoIWRlc2NlbmRpbmcgJiYgbmV4dC5waXRjaCA8IGxhc3QucGl0Y2gpIHtcbiAgICAgICAgY3VycmVudC5wdXNoKG5ldyBUb25lKHRoaXMudHVuaW5nLCBuZXh0LnBpdGNoQ2xhc3MsIGxhc3Qub2N0YXZlICsgKG5leHQucGl0Y2hDbGFzcyA8IGxhc3QucGl0Y2hDbGFzcyA/IDEgOiAwKSkpO1xuICAgICAgfSBlbHNlIGlmIChkZXNjZW5kaW5nICYmIG5leHQucGl0Y2ggPiBsYXN0LnBpdGNoKSB7XG4gICAgICAgIGN1cnJlbnQucHVzaChuZXcgVG9uZSh0aGlzLnR1bmluZywgbmV4dC5waXRjaENsYXNzLCBsYXN0Lm9jdGF2ZSArIChuZXh0LnBpdGNoQ2xhc3MgPiBsYXN0LnBpdGNoQ2xhc3MgPyAtMSA6IDApKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50LnB1c2gobmV4dCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9LCBbXSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcGl0Y2hlcyBvZiB0aGUgdG9uZSByb3cuXG4gICAqL1xuICBnZXQgcGl0Y2hlcygpOiBudW1iZXJbXSB7XG4gICAgcmV0dXJuIHRoaXMudG9uZXMubWFwKHRvbmUgPT4gdG9uZS5waXRjaCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgdG9uZSByb3cgZnJvbSBnaXZlbiBwaXRjaGVzLlxuICAgKi9cbiAgc3RhdGljIGZyb21QaXRjaGVzKHR1bmluZzogVHVuaW5nLCBwaXRjaGVzOiBudW1iZXJbXSwgYW5ub3RhdGlvbnM6IEFubm90YXRpb25bXSA9IFtdKTogVG9uZVJvdyB7XG4gICAgcmV0dXJuIG5ldyBUb25lUm93KHR1bmluZywgcGl0Y2hlcy5tYXAocGl0Y2ggPT5cbiAgICAgIFRvbmUuZnJvbVBpdGNoKHR1bmluZywgcGl0Y2gpXG4gICAgKSwgYW5ub3RhdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHRvbmUgcm93IGZyb20gZ2l2ZW4gcGl0Y2hlcy5cbiAgICovXG4gIHN0YXRpYyBmcm9tUGl0Y2hDbGFzc2VzKHR1bmluZzogVHVuaW5nLCBwaXRjaENsYXNzZXM6IG51bWJlcltdLCBvY3RhdmU6IG51bWJlciwgYW5ub3RhdGlvbnM6IEFubm90YXRpb25bXSA9IFtdKTogVG9uZVJvdyB7XG4gICAgcmV0dXJuIG5ldyBUb25lUm93KHR1bmluZywgcGl0Y2hDbGFzc2VzLm1hcChwaXRjaENsYXNzID0+XG4gICAgICBuZXcgVG9uZSh0dW5pbmcsIHBpdGNoQ2xhc3MsIG9jdGF2ZSlcbiAgICApLCBhbm5vdGF0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRvbmVSb3dTb2xtaXplZCBleHRlbmRzIFRvbmVSb3cge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgdHVuaW5nOiBUdW5pbmcsIHB1YmxpYyBzb2xtaXphdGlvbjogU29sbWl6YXRpb24sIHB1YmxpYyB0b25lczogVG9uZVtdLCBwdWJsaWMgYW5ub3RhdGlvbnM6IEFubm90YXRpb25bXSA9IFtdKSB7XG4gICAgc3VwZXIodHVuaW5nLCB0b25lcywgYW5ub3RhdGlvbnMpO1xuICB9XG5cbiAgc3RhdGljIGZyb21Ub25lUm93KHJvdzogVG9uZVJvdywgc29sbWl6YXRpb246IFNvbG1pemF0aW9uKTogVG9uZVJvd1NvbG1pemVkIHtcbiAgICByZXR1cm4gbmV3IFRvbmVSb3dTb2xtaXplZChyb3cudHVuaW5nLCBzb2xtaXphdGlvbiwgcm93LnRvbmVzLCByb3cuYW5ub3RhdGlvbnMpO1xuICB9XG59XG4iLCJpbXBvcnQgRnJhY3Rpb24gZnJvbSAnZnJhY3Rpb24uanMnO1xuaW1wb3J0IHsgYmluYXJ5U2VhcmNoLCBmbGlwRnJhY3Rpb24sIG1vZCB9IGZyb20gJy4vdXRpbHMvaGVscGVycyc7XG5pbXBvcnQgeyBBbm5vdGF0aW9uIH0gZnJvbSAnLi91dGlscy9Bbm5vdGF0aW9uJztcbmltcG9ydCB7IEludGVydmFsIH0gZnJvbSAnLi9JbnRlcnZhbCc7XG5cbi8qKlxuICogVFVOSU5HIFNZU1RFTVxuICpcbiAqIEdpdmVuIGEgcmVmZXJlbmNlIHRvbmUgYW5kIGEgdGFyZ2V0IHRvbmUsIGEgdHVuaW5nIHJldHVybnMgdGhlIHJhdGlvIGJldHdlZW4gdGhlbS5cbiAqXG4gKiBUaGUgZnVuZGFtZW50YWwgaW50ZXJ2YWwgaXMgMi8xIGJldHdlZW4gdGhlIGJhc2UgdG9uZSBhbmQgaXRzIG9jdGF2ZS5cbiAqIE90aGVyIHRvbmVzIHN1YmRpdmlkZSB0aGUgb2N0YXZlIGludGVydmFsLiBBIGZpbml0ZSBudW1iZXIgb2YgdG9uZXMgTiBtYWtlIHVwIHRoZSB0dW5pbmcuXG4gKiBUb25lcyBhcmUgaW5kZXhlZCBhY2NvcmRpbmcgdG8gdGhlaXIgcmFuayBpbiB0aGUgb3JkZXJlZCBzZXF1ZW5jZSBvZiByYXRpb3NcbiAqIHRvbmUgMCA9PiByYXRpbyAxICh1bmlzb24pXG4gKiB0b25lIDEgPT4gcmF0aW8gMS5hYmMgKGZpcnN0IGludGVydmFsKVxuICogdG9uZSAyID0+IHJhdGlvIDEuZGVmIChzZWNvbmQgaW50ZXJ2YWwpXG4gKiAuLi5cbiAqIHRvbmUgTi0yID0+IHJhdGlvIDEueHl6IChuZXh0LXRvLWxhc3QgaW50ZXJ2YWwpXG4gKiB0b25lIE4tMSA9PiByYXRpbyAyIChvY3RhdmUpXG4gKlxuICogVG9uZXMgY2FuIGV4dGVuZCBiZXlvbmQgdGhlIG9jdGF2ZVxuICogZS5nLiB0b25lIE4rMSBpcyBlcXVpdmFsZW50IHRvIHRvbmUgMSwgYnV0IG9uZSBvY3RhdmUgaGlnaGVyLlxuICogSW4gYWRkaXRpb24gdG8gcmVwcmVzZW50aW5nIGEgdG9uZSBhcyBhYm92ZSwgd2UgY2FuIHJlcHJlc2VudCBpdCBieSBpdHMgXCJnZW5lcmF0b3JcIjpcbiAqIC0gaXRzIHBpdGNoIGNsYXNzIHBjIOKIiCBbMCwgTi0xXVxuICogLSBpdHMgb2N0YXZlIG8g4oiIIOKEpFxuICogc3VjaCB0aGF0IHQgPSBwYyh0KSArIE4gKiBvKHQpXG4gKi9cbmV4cG9ydCBjbGFzcyBUdW5pbmcge1xuICAvKipcbiAgICogQ09OU1RSVUNUT1JcbiAgICpcbiAgICogQHBhcmFtIGludGVydmFsczogdHVuaW5nIGludGVydmFsc1xuICAgKiBUaGUgaW50ZXJ2YWxzIHdpbGwgYmUgX2d1YXJhbnRlZWRfIHRvIGJlIHNvcnRlZC5cbiAgICogVGhlIGZpcnN0IGludGVydmFsIHdpbGwgYmUgX2d1YXJhbnRlZWRfIHRvIGJlIHRoZSB1bmlzb24uXG4gICAqIFRoZSBsYXN0IGludGVydmFsIHdpbGwgYmUgX2Fzc3VtZWRfIHRvIGJlIHRoZSByZXBlYXRlciAoZS5nLiAyLzEgdGhlIG9jdGF2ZSkuXG4gICAqIEBwYXJhbSBhbm5vdGF0aW9uczogYW5ub3RhdGlvbnMgYWJvdXQgdGhlIHR1bmluZ1xuICAgKi9cbiAgY29uc3RydWN0b3IocHVibGljIGludGVydmFsczogSW50ZXJ2YWxbXSwgcHVibGljIGFubm90YXRpb25zOiBBbm5vdGF0aW9uW10gPSBbXSkge1xuICAgIHRoaXMuaW50ZXJ2YWxzLnNvcnQoSW50ZXJ2YWwuY29tcGFyZSk7XG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxzWzBdLnJhdGlvLnZhbHVlT2YoKSAhPSAxKSB7XG4gICAgICB0aGlzLmludGVydmFscyA9IFtuZXcgSW50ZXJ2YWwobmV3IEZyYWN0aW9uKDEpKSwgLi4udGhpcy5pbnRlcnZhbHNdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB0dW5pbmcgZnJvbSByYXRpb3Mgb3IgY2VudHMuXG4gICAqXG4gICAqIEBwYXJhbSBpbnRlcnZhbHM6IGFuIGFycmF5IG9mIHJhdGlvcyBleHByZXNzZWQgYXMgc3RyaW5ncywgb3IgY2VudHMgZXhwcmVzc2VkIGFzIG51bWJlcnNcbiAgICogQHBhcmFtIGFubm90YXRpb25zOiBhcyBwZXIgY29uc3RydWN0b3JcbiAgICogQHJldHVybnMgdHVuaW5nIG9iamVjdFxuICAgKi9cbiAgc3RhdGljIGZyb21JbnRlcnZhbHMoaW50ZXJ2YWxzOiAobnVtYmVyfHN0cmluZylbXSwgYW5ub3RhdGlvbnM6IEFubm90YXRpb25bXSA9IFtdKTogVHVuaW5nIHtcbiAgICByZXR1cm4gbmV3IFR1bmluZyhpbnRlcnZhbHMubWFwKGludGVydmFsID0+IHtcbiAgICAgIGlmICh0eXBlb2YgaW50ZXJ2YWwgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnZhbChuZXcgRnJhY3Rpb24oaW50ZXJ2YWwpKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gSW50ZXJ2YWwuZnJvbUNlbnRzKGludGVydmFsKTtcbiAgICAgIH1cbiAgICB9KSwgYW5ub3RhdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIElTIEEgVFVOSU5HIFRSQU5TUE9TQUJMRT9cbiAgICpcbiAgICogQSB0dW5pbmcgaXMgZnVsbHkgdHJhbnNwb3NhYmxlIGlmIGFsbCBvZiBpdHMgaW50ZXJ2YWwgZGlmZmVyZW5jZXMgYXJlIGVxdWFsLlxuICAgKiBXZSB3aWxsIGNvbnNpZGVyIGVxdWFsaXR5IHRvIGJlIHdpdGhpbiB0aGUgcmFuZ2Ugb2YgdGhlIFwianVzdCBub3RpY2VhYmxlXCIgaW50ZXJ2YWwgKDUgY2VudHMpLlxuICAgKi9cbiAgcHJpdmF0ZSBfdHJhbnNwb3NhYmxlOiBib29sZWFuO1xuICBnZXQgdHJhbnNwb3NhYmxlKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLl90cmFuc3Bvc2FibGUgIT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuX3RyYW5zcG9zYWJsZTtcblxuICAgIGNvbnN0IGZpcnN0OiBJbnRlcnZhbCA9IHRoaXMuaW50ZXJ2YWxzWzFdLmRpZmZlcmVuY2UodGhpcy5pbnRlcnZhbHNbMF0pO1xuICAgIHJldHVybiAodGhpcy5fdHJhbnNwb3NhYmxlID0gdGhpcy5pbnRlcnZhbHMuc2xpY2UoMSkuZXZlcnkoKHYsIGkpID0+IHtcbiAgICAgIGNvbnN0IG5leHQ6IEludGVydmFsID0gdi5kaWZmZXJlbmNlKHRoaXMuaW50ZXJ2YWxzW2ldKTtcbiAgICAgIGNvbnN0IGRpZmY6IEludGVydmFsID0gbmV3IEludGVydmFsKGZsaXBGcmFjdGlvbihuZXh0LmRpZmZlcmVuY2UoZmlyc3QpLnJhdGlvLCB0cnVlKSk7XG4gICAgICByZXR1cm4gZGlmZi5yYXRpby5jb21wYXJlKEludGVydmFsLkpORC5yYXRpbykgPCAwO1xuICAgIH0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTVEVQUyBPRiBBIFRVTklOR1xuICAgKlxuICAgKiBAcmV0dXJucyBjb3VudCBvZiB0b25lcyBpbiB0aGUgdHVuaW5nXG4gICAqL1xuICBnZXQgc3RlcHMoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnZhbHMubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPQ1RBVkUgT0YgQSBUVU5JTkdcbiAgICpcbiAgICogQHJldHVybnMgdGhlIGxhc3QgaW50ZXJ2YWwgaW4gdGhlIHR1bmluZywgd2hpY2ggaXMgY29uc2lkZXJlZCB0byBiZSB0aGUgb2N0YXZlXG4gICAqL1xuICBnZXQgb2N0YXZlKCk6IEludGVydmFsIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnZhbHNbdGhpcy5zdGVwc107XG4gIH1cblxuICAvKipcbiAgICogVFVORSBBIFRPTkVcbiAgICpcbiAgICogQHBhcmFtIHRvbmU6IHRvbmUgdG8gYmUgdHVuZWRcbiAgICogQHJldHVybnMgZnJlcXVlbmN5IHJhdGlvIG9mIHRoZSB0b25lIHdpdGggcmVzcGVjdCB0byByb290IHRvbmVcbiAgICovXG4gIHR1bmUodG9uZTogVG9uZSk6IEludGVydmFsIHtcbiAgICAvLyBHZXQgdGhlIHJhdGlvIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdGFyZ2V0IHRvbmUgYW5kIHRoZSByb290IHRvbmUsIHJhaXNlZCB0byB0aGUgZGlmZmVyZW5jZSBpbiBvY3RhdmUuXG4gICAgLy8gVGhlIG9jdGF2ZSBpcyBhbHdheXMgdGhlIGxhc3QgdG9uZSBhcyBwZXIgdGhlIGRlZmluaXRpb24gb2YgdGhlIGBpbnRlcnZhbHNgIGFycmF5LlxuICAgIHJldHVybiBuZXcgSW50ZXJ2YWwoXG4gICAgICB0aGlzLmludGVydmFsc1t0b25lLnBpdGNoQ2xhc3NdLnJhdGlvLm11bCh0aGlzLm9jdGF2ZS5yYXRpby5wb3codG9uZS5vY3RhdmUpKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTkVBUkVTVCBUT05FXG4gICAqIEZpbmQgdGhlIG5lYXJlc3QgdG9uZSBnaXZlbiBhbiBpbnRlcnZhbCBhbmQgcmV0dXJuIGRpZmZlcmVuY2VcbiAgICpcbiAgICogQHBhcmFtIGludGVydmFsOiB0YXJnZXQgaW50ZXJ2YWxcbiAgICogQHJldHVybnMgbmVhcmVzdCB0b25lLCBpbnRlcnZhbCBhbmQgZGlmZmVyZW5jZSBmcm9tIHRoZSB0YXJnZXRcbiAgICovXG4gIG5lYXJlc3QoaW50ZXJ2YWw6IEludGVydmFsKToge3RvbmU6IFRvbmUsIGludGVydmFsOiBJbnRlcnZhbCwgZGlmZmVyZW5jZTogSW50ZXJ2YWx9IHtcbiAgICAvLyBCcmluZyB0aGUgaW50ZXJ2YWwgdG8gdGhlIGJhc2Ugb2N0YXZlLlxuICAgIGNvbnN0IG9jdGF2ZSA9IE1hdGguZmxvb3IoTWF0aC5sb2coaW50ZXJ2YWwucmF0aW8udmFsdWVPZigpKSAvIE1hdGgubG9nKHRoaXMub2N0YXZlLnJhdGlvLnZhbHVlT2YoKSkpO1xuICAgIGNvbnN0IGJhc2UgPSBuZXcgSW50ZXJ2YWwoaW50ZXJ2YWwucmF0aW8uZGl2KHRoaXMub2N0YXZlLnJhdGlvLnBvdyhvY3RhdmUpKSk7XG5cbiAgICAvLyBTZWFyY2ggdGhyb3VnaCB0aGUgaW50ZXJ2YWxzIHRvIGxvY2F0ZSB0aGUgbmVhcmVzdC5cbiAgICBjb25zdCBuID0gYmluYXJ5U2VhcmNoKHRoaXMuaW50ZXJ2YWxzLCBiYXNlLCBJbnRlcnZhbC5jb21wYXJlKTtcbiAgICBpZiAobiA+PSAwKSB7XG4gICAgICAvLyBFeGFjdCBtYXRjaDogcmV0dXJuIHRoZSBwaXRjaCBhdCB0aGUgcmlnaHQgb2N0YXZlLlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9uZTogbmV3IFRvbmUodGhpcywgbiwgb2N0YXZlKSxcbiAgICAgICAgaW50ZXJ2YWwsXG4gICAgICAgIGRpZmZlcmVuY2U6IG5ldyBJbnRlcnZhbChuZXcgRnJhY3Rpb24oMSkpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFBhcnRpYWwgbWF0Y2g6IGZpbmQgcmVhbCBuZWFyZXN0IGJldHdlZW4gaW5zZXJ0aW9uIHBvaW50IGFuZCBwcmV2aW91cy5cbiAgICAgIC8vIFdlJ3JlIGd1YXJhbnRlZWQgdG8gZmluZCBhIHByZXZpb3VzIHZhbHVlIGJlY2F1c2UgdGhlIGZpcnN0IHZhbHVlIGlzIGFsd2F5cyB1bmlzb24uXG4gICAgICBjb25zdCBtID0gfm47XG4gICAgICBjb25zdCBsb3dlciA9IE1hdGguYWJzKHRoaXMuaW50ZXJ2YWxzW20tMV0uZGlmZmVyZW5jZShiYXNlKS5jZW50cyk7XG4gICAgICBjb25zdCB1cHBlciA9IE1hdGguYWJzKHRoaXMuaW50ZXJ2YWxzW21dLmRpZmZlcmVuY2UoYmFzZSkuY2VudHMpO1xuICAgICAgY29uc3QgbmVhcmVzdCA9IGxvd2VyIDwgdXBwZXIgPyBtLTEgOiBtO1xuICAgICAgY29uc3QgbmVhcmVzdFRvbmUgPSBuZXcgVG9uZSh0aGlzLCBuZWFyZXN0LCBvY3RhdmUpO1xuICAgICAgY29uc3QgbmVhcmVzdEludGVydmFsID0gdGhpcy50dW5lKG5lYXJlc3RUb25lKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvbmU6IG5lYXJlc3RUb25lLFxuICAgICAgICBpbnRlcnZhbDogbmVhcmVzdEludGVydmFsLFxuICAgICAgICBkaWZmZXJlbmNlOiBuZWFyZXN0SW50ZXJ2YWwuZGlmZmVyZW5jZShpbnRlcnZhbClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRVFVQUwgRElWSVNJT05TIE9GIFRIRSBPQ1RBVkUuXG4gICAqXG4gICAqIEdlbmVyYXRlIGFuIGludGVydmFscyBhcnJheSBiYXNlZCBvbiBlcXVhbCBkaXZpc2lvbnMgb2YgdGhlIG9jdGF2ZS5cbiAgICogVGhlIGludGVydmFscyBhcmUgY2FsY3VsYXRlZCBpbiBjZW50cywgYmVjYXVzZSB0aGV5IHdpbGwgYmUgY29udmVydGVkIHRvIHJhdGlvc1xuICAgKiBpbnNpZGUgdGhlIFR1bmluZyBjb25zdHJ1Y3Rvci5cbiAgICovXG4gIHN0YXRpYyBmcm9tRWRvKGRpdmlzaW9uczogbnVtYmVyKTogVHVuaW5nIHtcbiAgICByZXR1cm4gbmV3IFR1bmluZyhBcnJheS5mcm9tKEFycmF5KGRpdmlzaW9ucyArIDEpKS5tYXAoKF8sIGkpID0+IHtcbiAgICAgIHJldHVybiBJbnRlcnZhbC5mcm9tQ2VudHMoMTIwMCAvIGRpdmlzaW9ucyAqIGkpO1xuICAgIH0pKTtcbiAgfVxufVxuXG4vKipcbiAqIFRvbmUgaW4gYSB0dW5pbmcuXG4gKi9cbmV4cG9ydCBjbGFzcyBUb25lIHtcbiAgY29uc3RydWN0b3IocHVibGljIHR1bmluZzogVHVuaW5nLCBwdWJsaWMgcGl0Y2hDbGFzczogbnVtYmVyLCBwdWJsaWMgb2N0YXZlOiBudW1iZXIpIHtcbiAgICAvLyBUT0RPIFZlcmlmeSB0aGF0IHBpdGNoIGNsYXNzIGlzIHZhbGlkLlxuICB9XG5cbiAgZ2V0IHBpdGNoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucGl0Y2hDbGFzcyArIHRoaXMub2N0YXZlICogdGhpcy50dW5pbmcuc3RlcHM7XG4gIH1cblxuICBnZXQgdHVuZSgpOiBJbnRlcnZhbCB7XG4gICAgcmV0dXJuIHRoaXMudHVuaW5nLnR1bmUodGhpcyk7XG4gIH1cblxuICBzdGF0aWMgZnJvbVBpdGNoKHR1bmluZzogVHVuaW5nLCBwaXRjaDogbnVtYmVyKTogVG9uZSB7XG4gICAgcmV0dXJuIG5ldyBUb25lKHR1bmluZywgbW9kKHBpdGNoLCB0dW5pbmcuc3RlcHMpLCBNYXRoLmZsb29yKHBpdGNoIC8gdHVuaW5nLnN0ZXBzKSk7XG4gIH1cbn1cbiIsImV4cG9ydCAqIGZyb20gJy4vVHVuaW5nJztcbmV4cG9ydCAqIGZyb20gJy4vU29sbWl6YXRpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9JbnRlcnZhbCc7XG5leHBvcnQgKiBmcm9tICcuL1RvbmVSb3cnO1xuZXhwb3J0ICogZnJvbSAnLi9NdXNpY1hNTCc7XG5leHBvcnQgKiBmcm9tICcuL3V0aWxzL0Fubm90YXRpb24nO1xuIiwiLyoqXG4gKiBBTk5PVEFUSU9OXG4gKlxuICogQW4gYW5ub3RhdGlvbiBpcyBhIGdlbmVyaWMgY29udGFpbmVyIGZvciBtZXRhZGF0YSB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbnkgb2JqZWN0LlxuICovXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbiB7XG4gIHN0YXRpYyBmaW5kQnlMYWJlbChsYWJlbDogc3RyaW5nLCBhbm5vdGF0aW9uczogQW5ub3RhdGlvbltdKTogYW55W10ge1xuICAgIHJldHVybiBhbm5vdGF0aW9ucy5maWx0ZXIoYW5ub3RhdGlvbiA9PiBhbm5vdGF0aW9uLmxhYmVsID09PSBsYWJlbCkubWFwKGFubm90YXRpb24gPT4gYW5ub3RhdGlvbi52YWx1ZSk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgbGFiZWw6IHN0cmluZywgcHVibGljIHZhbHVlOiBhbnkpIHt9XG59XG4iLCIvKipcbiAqIEJJRElSRUNUSU9OQUwgTUFQXG4gKlxuICogQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9UaG9tYXNSb29uZXkvdHlwZWQtYmktZGlyZWN0aW9uYWwtbWFwXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUJpbWFwPEssIFY+IGV4dGVuZHMgTWFwPEssIFY+IHtcbiAgcmVhZG9ubHkgc2l6ZTogbnVtYmVyOyAvLyByZXR1cm5zIHRoZSB0b3RhbCBudW1iZXIgb2YgZWxlbWVudHNcbiAgZ2V0OiAoa2V5OiBLKSA9PiBWIHwgdW5kZWZpbmVkOyAvLyByZXR1cm5zIGEgc3BlY2lmaWVkIGVsZW1lbnRcbiAgZ2V0S2V5OiAodmFsdWU6IFYpID0+IEsgfCBLW10gfCB1bmRlZmluZWQ7IC8vIHJldHVybnMgYSBzcGVjaWZpZWQgZWxlbWVudFxuICBnZXRWYWx1ZTogKGtleTogSykgPT4gViB8IHVuZGVmaW5lZDsgLy8gcmV0dXJucyBhIHNwZWNpZmllZCBlbGVtZW50XG4gIHNldDogKGtleTogSywgdmFsdWU6IFYpID0+IHRoaXM7IC8vIGFkZHMgb3IgdXBkYXRlcyB0aGUgdmFsdWUgb2YgYW4gZWxlbWVudCBsb29rZWQgdXAgdmlhIHRoZSBzcGVjaWZpZWQga2V5XG4gIHNldFZhbHVlOiAoa2V5OiBLLCB2YWx1ZTogVikgPT4gdGhpczsgLy8gYWRkcyBvciB1cGRhdGVzIHRoZSBrZXkgb2YgYW4gZWxlbWVudCBsb29rZWQgdXAgdmlhIHRoZSBzcGVjaWZpZWQgdmFsdWVcbiAgc2V0S2V5OiAodmFsdWU6IFYsIGtleTogSykgPT4gdGhpczsgLy8gYWRkcyBvciB1cGRhdGVzIHRoZSB2YWx1ZSBvZiBhbiBlbGVtZW50IGxvb2tlZCB1cCB2aWEgdGhlIHNwZWNpZmllZCBrZXlcbiAgY2xlYXI6ICgpID0+IHZvaWQ7IC8vIHJlbW92ZXMgYWxsIGVsZW1lbnRzXG4gIGRlbGV0ZTogKGtleTogSykgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgZXhpc3RlZCBhbmQgaGFzIGJlZW4gcmVtb3ZlZCwgb3IgZmFsc2UgaWYgdGhlIGVsZW1lbnQgZG9lcyBub3QgZXhpc3QuXG4gIGRlbGV0ZUtleTogKGtleTogSykgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgZXhpc3RlZCBhbmQgaGFzIGJlZW4gcmVtb3ZlZCwgb3IgZmFsc2UgaWYgdGhlIGVsZW1lbnQgZG9lcyBub3QgZXhpc3QuXG4gIGRlbGV0ZVZhbHVlOiAodmFsdWU6IFYpID0+IGJvb2xlYW47IC8vIFJldHVybnMgdHJ1ZSBpZiBhbiBlbGVtZW50IGV4aXN0ZWQgYW5kIGhhcyBiZWVuIHJlbW92ZWQsIG9yIGZhbHNlIGlmIHRoZSBlbGVtZW50IGRvZXMgbm90IGV4aXN0LlxuICBmb3JFYWNoOiAoXG4gICAgY2FsbGJhY2tmbjogKHZhbHVlOiBWLCBrZXk6IEssIG1hcDogSUJpbWFwPEssIFY+KSA9PiB2b2lkLFxuICAgIHRoaXNBcmc/OiBhbnlcbiAgKSA9PiB2b2lkOyAvLyBleGVjdXRlcyB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgb25jZSBmb3IgZWFjaCBrZXkgb2YgdGhlIG1hcFxuICBoYXM6IChrZXk6IEspID0+IGJvb2xlYW47IC8vIFJldHVybnMgdHJ1ZSBpZiBhbiBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBrZXkgZXhpc3RzOyBvdGhlcndpc2UgZmFsc2UuXG4gIGhhc0tleTogKGtleTogSykgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGtleSBleGlzdHM7IG90aGVyd2lzZSBmYWxzZS5cbiAgaGFzVmFsdWU6ICh2YWx1ZTogVikgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIHZhbHVlIGV4aXN0czsgb3RoZXJ3aXNlIGZhbHNlLlxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ01hcCc7IC8vIEFueXRoaW5nIGltcGxlbWVudGluZyBNYXAgbXVzdCBhbHdheXMgaGF2ZSB0b1N0cmluZ1RhZyBkZWNsYXJlZCB0byBiZSAnTWFwJy4gSSBjb25zaWRlciB0aGlzIGEgbGl0dGxlIHNpbGx5LlxuICBpbnNwZWN0OiAoKSA9PiBzdHJpbmc7IC8vIEEgdXRpbGl0eSBmdW5jdGlvbiB0byBpbnNwZWN0IGN1cnJlbnQgY29udGVudHMgYXMgYSBzdHJpbmdcbn1cblxuLyoqXG4gKiBCaW1hcCB3aXRob3V0IGR1cGxpY2F0ZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCaW1hcDxLLCBWPiBpbXBsZW1lbnRzIElCaW1hcDxLLCBWPiB7XG4gIHByb3RlY3RlZCBrZXlWYWx1ZU1hcDogTWFwPEssIFY+ID0gbmV3IE1hcDxLLCBWPigpO1xuICBwcm90ZWN0ZWQgdmFsdWVLZXlNYXA6IE1hcDxWLCBLPiA9IG5ldyBNYXA8ViwgSz4oKTtcblxuICBnZXQgc2l6ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmtleVZhbHVlTWFwLnNpemU7XG4gIH1cblxuICBwdWJsaWMgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdNYXAnO1xuICBwdWJsaWMgW1N5bWJvbC5pdGVyYXRvcl06ICgpID0+IEl0ZXJhYmxlSXRlcmF0b3I8W0ssIFZdPiA9IHRoaXMua2V5VmFsdWVNYXBbU3ltYm9sLml0ZXJhdG9yXTtcblxuICBwdWJsaWMgZW50cmllcyA9ICgpOiBJdGVyYWJsZUl0ZXJhdG9yPFtLLCBWXT4gPT4gdGhpcy5rZXlWYWx1ZU1hcC5lbnRyaWVzKCk7XG4gIHB1YmxpYyBrZXlzID0gKCk6IEl0ZXJhYmxlSXRlcmF0b3I8Sz4gPT4gdGhpcy5rZXlWYWx1ZU1hcC5rZXlzKCk7XG4gIHB1YmxpYyB2YWx1ZXMgPSAoKTogSXRlcmFibGVJdGVyYXRvcjxWPiA9PiB0aGlzLmtleVZhbHVlTWFwLnZhbHVlcygpO1xuXG4gIHB1YmxpYyBnZXQgPSAoYTogSyk6IFYgfCB1bmRlZmluZWQgPT4gdGhpcy5rZXlWYWx1ZU1hcC5nZXQoYSk7XG4gIHB1YmxpYyBnZXRLZXkgPSAoYjogVik6IEsgfCB1bmRlZmluZWQgPT4gdGhpcy52YWx1ZUtleU1hcC5nZXQoYik7XG4gIHB1YmxpYyBnZXRWYWx1ZSA9IChhOiBLKTogViB8IHVuZGVmaW5lZCA9PiB0aGlzLmdldChhKTtcbiAgcHVibGljIHNldCA9IChrZXk6IEssIHZhbHVlOiBWKTogdGhpcyA9PiB7XG4gICAgLy8gTWFrZSBzdXJlIG5vIGR1cGxpY2F0ZXMuIE91ciBjb25mbGljdCBzY2VuYXJpbyBpcyBoYW5kbGVkIGJ5IGRlbGV0aW5nIHBvdGVudGlhbCBkdXBsaWNhdGVzLCBpbiBmYXZvdXIgb2YgdGhlIGN1cnJlbnQgYXJndW1lbnRzXG4gICAgdGhpcy5kZWxldGUoa2V5KTtcbiAgICB0aGlzLmRlbGV0ZVZhbHVlKHZhbHVlKTtcblxuICAgIHRoaXMua2V5VmFsdWVNYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgIHRoaXMudmFsdWVLZXlNYXAuc2V0KHZhbHVlLCBrZXkpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHB1YmxpYyBzZXRLZXkgPSAodmFsdWU6IFYsIGtleTogSyk6IHRoaXMgPT4gdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XG4gIHB1YmxpYyBzZXRWYWx1ZSA9IChrZXk6IEssIHZhbHVlOiBWKTogdGhpcyA9PiB0aGlzLnNldChrZXksIHZhbHVlKTtcbiAgcHVibGljIGNsZWFyID0gKCk6IHZvaWQgPT4ge1xuICAgIHRoaXMua2V5VmFsdWVNYXAuY2xlYXIoKTtcbiAgICB0aGlzLnZhbHVlS2V5TWFwLmNsZWFyKCk7XG4gIH07XG4gIHB1YmxpYyBkZWxldGUgPSAoa2V5OiBLKTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKHRoaXMuaGFzKGtleSkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5rZXlWYWx1ZU1hcC5nZXQoa2V5KSBhcyBWO1xuICAgICAgdGhpcy5rZXlWYWx1ZU1hcC5kZWxldGUoa2V5KTtcbiAgICAgIHRoaXMudmFsdWVLZXlNYXAuZGVsZXRlKHZhbHVlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIHB1YmxpYyBkZWxldGVLZXkgPSAoa2V5OiBLKTogYm9vbGVhbiA9PiB0aGlzLmRlbGV0ZShrZXkpO1xuICBwdWJsaWMgZGVsZXRlVmFsdWUgPSAodmFsdWU6IFYpOiBib29sZWFuID0+IHtcbiAgICBpZiAodGhpcy5oYXNWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZSh0aGlzLnZhbHVlS2V5TWFwLmdldCh2YWx1ZSkgYXMgSyk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgcHVibGljIGZvckVhY2ggPSAoXG4gICAgY2FsbGJhY2tmbjogKHZhbHVlOiBWLCBrZXk6IEssIG1hcDogSUJpbWFwPEssIFY+KSA9PiB2b2lkLFxuICAgIHRoaXNBcmc/OiBhbnlcbiAgKTogdm9pZCA9PiB7XG4gICAgdGhpcy5rZXlWYWx1ZU1hcC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICBjYWxsYmFja2ZuLmFwcGx5KHRoaXNBcmcsIFt2YWx1ZSwga2V5LCB0aGlzXSk7XG4gICAgfSk7XG4gIH07XG4gIHB1YmxpYyBoYXMgPSAoa2V5OiBLKTogYm9vbGVhbiA9PiB0aGlzLmtleVZhbHVlTWFwLmhhcyhrZXkpO1xuICBwdWJsaWMgaGFzS2V5ID0gKGtleTogSyk6IGJvb2xlYW4gPT4gdGhpcy5oYXMoa2V5KTtcbiAgcHVibGljIGhhc1ZhbHVlID0gKHZhbHVlOiBWKTogYm9vbGVhbiA9PiB0aGlzLnZhbHVlS2V5TWFwLmhhcyh2YWx1ZSk7XG4gIHB1YmxpYyBpbnNwZWN0ID0gKCk6IHN0cmluZyA9PiB7XG4gICAgbGV0IHN0ciA9ICdCaW1hcCB7JztcbiAgICBsZXQgZW50cnkgPSAwO1xuICAgIHRoaXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgZW50cnkrKztcbiAgICAgIHN0ciArPSAnJyArIGtleS50b1N0cmluZygpICsgJyA9PiAnICsgdmFsdWUudG9TdHJpbmcoKSArICcnO1xuICAgICAgaWYgKGVudHJ5IDwgdGhpcy5zaXplKSB7XG4gICAgICAgIHN0ciArPSAnLCAnO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHN0ciArPSAnfSc7XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbn1cblxuLyoqXG4gKiBCaW1hcCB3aXRoIG11bHRpcGxlIHZhbHVlcyBwZXIga2V5LlxuICovXG5leHBvcnQgY2xhc3MgTXVsdGltYXA8SywgVj4gaW1wbGVtZW50cyBJQmltYXA8SywgVj4ge1xuICBwcm90ZWN0ZWQga2V5VmFsdWVNYXA6IE1hcDxLLCBWPiA9IG5ldyBNYXA8SywgVj4oKTtcbiAgcHJvdGVjdGVkIHZhbHVlS2V5TWFwOiBNYXA8ViwgS1tdPiA9IG5ldyBNYXA8ViwgS1tdPigpO1xuXG4gIGdldCBzaXplKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMua2V5VmFsdWVNYXAuc2l6ZTtcbiAgfVxuXG4gIHB1YmxpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ01hcCc7XG4gIHB1YmxpYyBbU3ltYm9sLml0ZXJhdG9yXTogKCkgPT4gSXRlcmFibGVJdGVyYXRvcjxbSywgVl0+ID0gdGhpcy5rZXlWYWx1ZU1hcFtTeW1ib2wuaXRlcmF0b3JdO1xuXG4gIHB1YmxpYyBlbnRyaWVzID0gKCk6IEl0ZXJhYmxlSXRlcmF0b3I8W0ssIFZdPiA9PiB0aGlzLmtleVZhbHVlTWFwLmVudHJpZXMoKTtcbiAgcHVibGljIGtleXMgPSAoKTogSXRlcmFibGVJdGVyYXRvcjxLPiA9PiB0aGlzLmtleVZhbHVlTWFwLmtleXMoKTtcbiAgcHVibGljIHZhbHVlcyA9ICgpOiBJdGVyYWJsZUl0ZXJhdG9yPFY+ID0+IHRoaXMua2V5VmFsdWVNYXAudmFsdWVzKCk7XG5cbiAgcHVibGljIGdldCA9IChhOiBLKTogViB8IHVuZGVmaW5lZCA9PiB0aGlzLmtleVZhbHVlTWFwLmdldChhKTtcbiAgcHVibGljIGdldEtleSA9IChiOiBWKTogS1tdIHwgdW5kZWZpbmVkID0+IHRoaXMudmFsdWVLZXlNYXAuZ2V0KGIpO1xuICBwdWJsaWMgZ2V0VmFsdWUgPSAoYTogSyk6IFYgfCB1bmRlZmluZWQgPT4gdGhpcy5nZXQoYSk7XG4gIHB1YmxpYyBzZXQgPSAoa2V5OiBLLCB2YWx1ZTogVik6IHRoaXMgPT4ge1xuICAgIHRoaXMuZGVsZXRlKGtleSk7XG4gICAgdGhpcy5rZXlWYWx1ZU1hcC5zZXQoa2V5LCB2YWx1ZSk7XG5cbiAgICBjb25zdCBrZXlzID0gdGhpcy52YWx1ZUtleU1hcC5nZXQodmFsdWUpIHx8IFtdO1xuICAgIHRoaXMudmFsdWVLZXlNYXAuc2V0KHZhbHVlLCBbLi4ua2V5cywga2V5XSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgcHVibGljIHNldEtleSA9ICh2YWx1ZTogViwga2V5OiBLKTogdGhpcyA9PiB0aGlzLnNldChrZXksIHZhbHVlKTtcbiAgcHVibGljIHNldFZhbHVlID0gKGtleTogSywgdmFsdWU6IFYpOiB0aGlzID0+IHRoaXMuc2V0KGtleSwgdmFsdWUpO1xuICBwdWJsaWMgY2xlYXIgPSAoKTogdm9pZCA9PiB7XG4gICAgdGhpcy5rZXlWYWx1ZU1hcC5jbGVhcigpO1xuICAgIHRoaXMudmFsdWVLZXlNYXAuY2xlYXIoKTtcbiAgfTtcbiAgcHVibGljIGRlbGV0ZSA9IChrZXk6IEspOiBib29sZWFuID0+IHtcbiAgICBpZiAodGhpcy5oYXMoa2V5KSkge1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmtleVZhbHVlTWFwLmdldChrZXkpIGFzIFY7XG4gICAgICB0aGlzLmtleVZhbHVlTWFwLmRlbGV0ZShrZXkpO1xuICAgICAgY29uc3Qga2V5cyA9IHRoaXMudmFsdWVLZXlNYXAuZ2V0KHZhbHVlKS5maWx0ZXIoayA9PiBrICE9PSBrZXkpO1xuICAgICAgaWYgKGtleXMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLnZhbHVlS2V5TWFwLnNldCh2YWx1ZSwga2V5cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnZhbHVlS2V5TWFwLmRlbGV0ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBwdWJsaWMgZGVsZXRlS2V5ID0gKGtleTogSyk6IGJvb2xlYW4gPT4gdGhpcy5kZWxldGUoa2V5KTtcbiAgcHVibGljIGRlbGV0ZVZhbHVlID0gKHZhbHVlOiBWKTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKHRoaXMuaGFzVmFsdWUodmFsdWUpKSB7XG4gICAgICB0aGlzLnZhbHVlS2V5TWFwLmdldCh2YWx1ZSkuZm9yRWFjaChrZXkgPT4geyB0aGlzLmRlbGV0ZShrZXkpOyB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIHB1YmxpYyBmb3JFYWNoID0gKFxuICAgIGNhbGxiYWNrZm46ICh2YWx1ZTogViwga2V5OiBLLCBtYXA6IElCaW1hcDxLLCBWPikgPT4gdm9pZCxcbiAgICB0aGlzQXJnPzogYW55XG4gICk6IHZvaWQgPT4ge1xuICAgIHRoaXMua2V5VmFsdWVNYXAuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgY2FsbGJhY2tmbi5hcHBseSh0aGlzQXJnLCBbdmFsdWUsIGtleSwgdGhpc10pO1xuICAgIH0pO1xuICB9O1xuICBwdWJsaWMgaGFzID0gKGtleTogSyk6IGJvb2xlYW4gPT4gdGhpcy5rZXlWYWx1ZU1hcC5oYXMoa2V5KTtcbiAgcHVibGljIGhhc0tleSA9IChrZXk6IEspOiBib29sZWFuID0+IHRoaXMuaGFzKGtleSk7XG4gIHB1YmxpYyBoYXNWYWx1ZSA9ICh2YWx1ZTogVik6IGJvb2xlYW4gPT4gdGhpcy52YWx1ZUtleU1hcC5oYXModmFsdWUpO1xuICBwdWJsaWMgaW5zcGVjdCA9ICgpOiBzdHJpbmcgPT4ge1xuICAgIGxldCBzdHIgPSAnTXVsdGltYXAgeyc7XG4gICAgbGV0IGVudHJ5ID0gMDtcbiAgICB0aGlzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIGVudHJ5Kys7XG4gICAgICBzdHIgKz0gJycgKyBrZXkudG9TdHJpbmcoKSArICcgPT4gJyArIHZhbHVlLnRvU3RyaW5nKCkgKyAnJztcbiAgICAgIGlmIChlbnRyeSA8IHRoaXMuc2l6ZSkge1xuICAgICAgICBzdHIgKz0gJywgJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzdHIgKz0gJ30nO1xuICAgIHJldHVybiBzdHI7XG4gIH07XG59XG4iLCJpbXBvcnQgRnJhY3Rpb24gZnJvbSAnZnJhY3Rpb24uanMnO1xuXG4vKipcbiAqIEVzY2FwZSBhIHN0cmluZyB0byBiZSB1c2VkIGluIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvR3VpZGUvUmVndWxhcl9FeHByZXNzaW9uc1xuICpcbiAqIEBwYXJhbSBzdHI6IHN0cmluZyB0byBlc2NhcGVcbiAqIEByZXR1cm5zIGVzY2FwZWQsIFJlZ0V4cC1yZWFkeSBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKTsgLy8gJCYgbWVhbnMgdGhlIHdob2xlIG1hdGNoZWQgc3RyaW5nXG59XG5cbi8qKlxuICogR2V0IHByaW1lcyB1cCB0byBhIGdpdmVuIGludGVnZXIuXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTIyODc1OTkvMjA5MTg0XG4gKiBVc2VzIHRoZSBTaWV2ZSBvZiBFcmF0b3N0aGVuZXMgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU2lldmVfb2ZfRXJhdG9zdGhlbmVzXG4gKlxuICogQHBhcmFtIG1heDogbnVtYmVyIHRvIHJlYWNoXG4gKiBAcmV0dXJucyBhbGwgcHJpbWVzIHVwIHRvIG1heFxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJpbWVzKG1heDogbnVtYmVyKTogbnVtYmVyW10ge1xuICBjb25zdCBzaWV2ZTogYm9vbGVhbltdID0gW10sIHByaW1lczogbnVtYmVyW10gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDI7IGkgPD0gbWF4OyArK2kpIHtcbiAgICBpZiAoIXNpZXZlW2ldKSB7XG4gICAgICAvLyBpIGhhcyBub3QgYmVlbiBtYXJrZWQgLS0gaXQgaXMgcHJpbWVcbiAgICAgIHByaW1lcy5wdXNoKGkpO1xuICAgICAgZm9yIChsZXQgaiA9IGkgPDwgMTsgaiA8PSBtYXg7IGogKz0gaSkge1xuICAgICAgICBzaWV2ZVtqXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBwcmltZXM7XG59XG5cbi8qKlxuICogRW5zdXJlIGEgfGZyYWN0aW9ufCA8IDEgb3IgPiAxLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmxpcEZyYWN0aW9uKGY6IEZyYWN0aW9uLCBncmVhdGVyVGhhbk9uZSA9IGZhbHNlKTogRnJhY3Rpb24ge1xuICByZXR1cm4gZ3JlYXRlclRoYW5PbmUgP1xuICAgIChmLmFicygpLmNvbXBhcmUoMSkgPCAwID8gZi5pbnZlcnNlKCkgOiBmKSA6XG4gICAgKGYuYWJzKCkuY29tcGFyZSgxKSA+IDAgPyBmLmludmVyc2UoKSA6IGYpIDtcbn1cblxuLyoqXG4gKiBCaW5hcnkgc2VhcmNoIGluIGFuIGFycmF5LlxuICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI5MDE4NzQ1LzIwOTE4NFxuICpcbiAqIEBwYXJhbSBhcjogZWxlbWVudHMgYXJyYXkgdGhhdCBpcyBzb3J0ZWRcbiAqIEBwYXJhbSBlbDogdGFyZ2V0IGVsZW1lbnRcbiAqIEBwYXJhbSBjb21wOiBjb21wYXJpc29uIGZ1bmN0aW9uIChhLGIpID0+IG4gd2l0aFxuICogICAgICAgIG4gPiAwIGlmIGEgPiBiXG4gKiAgICAgICAgbiA8IDAgaWYgYSA8IGJcbiAqICAgICAgICBuID0gMCBpZiBhID0gYlxuICogQHJldHVybnMgaW5kZXggbSA+PSAwIGlmIG1hdGNoIGlzIGZvdW5kLCBtIDwgMCBpZiBub3QgZm91bmQgd2l0aCBpbnNlcnRpb24gcG9pbnQgPSAtbS0xLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluYXJ5U2VhcmNoPFQ+KGFyOiBSZWFkb25seUFycmF5PFQ+LCBlbDogVCwgY29tcDogKGE6IFQsIGI6IFQpID0+IG51bWJlcik6IG51bWJlciB7XG4gIGxldCBtID0gMDtcbiAgbGV0IG4gPSBhci5sZW5ndGggLSAxO1xuICB3aGlsZSAobSA8PSBuKSB7XG4gICAgY29uc3QgayA9IChuICsgbSkgPj4gMTtcbiAgICBjb25zdCBjbXAgPSBjb21wKGVsLCBhcltrXSk7XG4gICAgaWYgKGNtcCA+IDApIHtcbiAgICAgIG0gPSBrICsgMTtcbiAgICB9IGVsc2UgaWYgKGNtcCA8IDApIHtcbiAgICAgIG4gPSBrIC0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGs7XG4gICAgfVxuICB9XG4gIHJldHVybiB+bTtcbn1cblxuLyoqXG4gKiBDaGVjayBhcnJheSBlcXVhbGl0eS5cbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS83ODM3NDU2LzIwOTE4NFxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlFcXVhbDxUPihhcjE6IFJlYWRvbmx5QXJyYXk8VD4sIGFyMjogUmVhZG9ubHlBcnJheTxUPiwgY29tcDogKGE6IFQsIGI6IFQpID0+IG51bWJlcik6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIGFyMS5sZW5ndGggPT09IGFyMi5sZW5ndGggJiZcbiAgICBhcjEuZXZlcnkoKHZhbHVlLCBpbmRleCkgPT4gY29tcCh2YWx1ZSwgYXIyW2luZGV4XSkgPT09IDApXG4gICk7XG59XG5cbi8qKlxuICogUmV0dXJuIGFycmF5IHdpdGggdW5pcXVlIHZhbHVlcy5cbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzkwMzAxOC8yMDkxODRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5VW5pcXVlPFQ+KGFyOiBSZWFkb25seUFycmF5PFQ+KTogUmVhZG9ubHlBcnJheTxUPiB7XG4gIHJldHVybiBbLi4ubmV3IFNldChhcildO1xufVxuXG4vKipcbiAqIEFsd2F5cy1wb3NpdGl2ZSBNb2R1bG8gZnVuY3Rpb24uIFRoZSBidWlsdC1pbiAlIG9wZXJhdG9yIGNvbXB1dGVzIHRoZSBSZW1haW5kZXIuXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvUmVtYWluZGVyXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTczMjM2MDgvMjA5MTg0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb2QobjogbnVtYmVyLCBtOiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gKChuICUgbSkgKyBtKSAlIG07XG59XG5cbi8qKlxuICogQXJyYXkgcmFuZ2UuXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTAwNTA4MzEvMjA5MTg0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcnJheVJhbmdlKHNpemU6IG51bWJlciwgc3RhcnRBdCA9IDApOiBSZWFkb25seUFycmF5PG51bWJlcj4ge1xuICByZXR1cm4gWy4uLkFycmF5KHNpemUpLmtleXMoKV0ubWFwKGkgPT4gaSArIHN0YXJ0QXQpO1xufVxuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY3JlYXRlQmluZGluZyhvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3KTtcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiUCIsImFzc2lnbiIsIm4iLCJzIiwiaXNOYU4iLCJwYXJzZUludCIsIkZyYWN0aW9uIiwibmV3RnJhY3Rpb24iLCJkIiwiZiIsIk9iamVjdCIsImNyZWF0ZSIsInByb3RvdHlwZSIsImEiLCJnY2QiLCJmYWN0b3JpemUiLCJudW0iLCJmYWN0b3JzIiwiaSIsInBhcnNlIiwicDEiLCJwMiIsIk0iLCJ2IiwidyIsIngiLCJ5IiwieiIsIkEiLCJCIiwiQyIsIkQiLCJOIiwidW5kZWZpbmVkIiwiTWF0aCIsInBvdyIsImZsb29yIiwibG9nIiwiTE4xMCIsIk5hTiIsIm1hdGNoIiwibGVuZ3RoIiwiYWJzIiwiYiIsIkVycm9yIiwicGxhY2VzIiwiY2VpbCIsInJvdW5kIiwiayIsInQiLCJlcHMiLCJ0aGlzQUJTIiwiY29udCIsInZhbHVlT2YiLCJleGNsdWRlV2hvbGUiLCJ3aG9sZSIsInN0ciIsInJlcyIsInB1c2giLCJkZWMiLCJjeWNMZW4iLCJyZW0iLCJjeWNsZUxlbiIsImN5Y09mZiIsImxlbiIsInJlbTEiLCJyZW0yIiwiZSIsIm0iLCJyIiwibW9kcG93IiwiY3ljbGVTdGFydCIsImdsb2JhbFRoaXMiLCJzZWxmIiwiX2V4cG9ydHMiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJBcnJheSIsImlzQXJyYXkiLCJfYXJyYXlMaWtlVG9BcnJheSIsIl9hcnJheVdpdGhvdXRIb2xlcyIsIml0ZXIiLCJTeW1ib2wiLCJpdGVyYXRvciIsImZyb20iLCJfaXRlcmFibGVUb0FycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwib3duS2V5cyIsIm9iamVjdCIsImVudW1lcmFibGVPbmx5Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsInN5bWJvbHMiLCJmaWx0ZXIiLCJzeW0iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwidGFyZ2V0IiwiYXJndW1lbnRzIiwic291cmNlIiwiZm9yRWFjaCIsImtleSIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVmaW5lUHJvcGVydHkiLCJvYmoiLCJ2YWx1ZSIsImFyZyIsImlucHV0IiwiaGludCIsIl90eXBlb2YiLCJwcmltIiwidG9QcmltaXRpdmUiLCJjYWxsIiwiU3RyaW5nIiwiTnVtYmVyIiwiX3RvUHJpbWl0aXZlIiwiX3RvUHJvcGVydHlLZXkiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9zbGljZWRUb0FycmF5IiwiX2FycmF5V2l0aEhvbGVzIiwiX2kiLCJfcyIsIl9lIiwiX3giLCJfciIsIl9hcnIiLCJfbiIsIl9kIiwibmV4dCIsImRvbmUiLCJlcnIiLCJyZXR1cm4iLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJfbm9uSXRlcmFibGVSZXN0IiwibyIsIm1pbkxlbiIsInRvU3RyaW5nIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ0ZXN0IiwiYXJyMiIsInRvWE1MIiwiZGVmYXVsdCIsIkRBVEFfVFlQRVMiLCJQUklNSVRJVkVfVFlQRVMiLCJQUklWQVRFX1ZBUlMiLCJnZXRUeXBlIiwidmFsIiwiX25hbWUiLCJEYXRlIiwiaXNDREFUQSIsInN0YXJ0c1dpdGgiLCJtYXBTdHIiLCJyZXBsYWNlbWVudHMiLCJjb250ZW50TWFwIiwib3V0cHV0IiwicmVnZXhwIiwiUmVnRXhwIiwiY29uY2F0Iiwiam9pbiIsInJlcGxhY2UiLCJlbnRpdHkiLCJmb3JtYXRBdHRyaWJ1dGVzIiwia2V5VmFscyIsImF0dHJpYnV0ZXMiLCJvdXRwdXRFeHBsaWNpdFRydWUiLCJlbnRyaWVzIiwibWFwIiwiX3JlZiIsIl9yZWYyIiwicmVkdWNlIiwiYWxsQXR0cmlidXRlcyIsImF0dHIiLCJyZXBsYWNlZFZhbCIsInZhbFN0ciIsImdldEF0dHJpYnV0ZUtleVZhbHMiLCJrZXlzVmFsc0pvaW5lZCIsImlzUHJpbWl0aXZlIiwiaW5jbHVkZXMiLCJkZWZhdWx0RW50aXR5UmVwbGFjZW1lbnRzIiwiY29uZmlnIiwiX2NvbmZpZyRkZXB0aCIsImRlcHRoIiwiaW5kZW50IiwiX2lzRmlyc3RJdGVtIiwiX2NvbmZpZyRfaXNPdXRwdXRTdGFyIiwiX2lzT3V0cHV0U3RhcnQiLCJoZWFkZXIiLCJfY29uZmlnJGF0dHJpYnV0ZVJlcGwiLCJhdHRyaWJ1dGVSZXBsYWNlbWVudHMiLCJyYXdBdHRyaWJ1dGVSZXBsYWNlbWVudHMiLCJhdHRyaWJ1dGVGaWx0ZXIiLCJfY29uZmlnJGF0dHJpYnV0ZUV4cGwiLCJhdHRyaWJ1dGVFeHBsaWNpdFRydWUiLCJfY29uZmlnJGNvbnRlbnRSZXBsYWMiLCJjb250ZW50UmVwbGFjZW1lbnRzIiwicmF3Q29udGVudFJlcGxhY2VtZW50cyIsIl9jb25maWckc2VsZkNsb3NlVGFncyIsInNlbGZDbG9zZVRhZ3MiLCJpbmRlbnRTdHIiLCJyZXBlYXQiLCJnZXRJbmRlbnRTdHIiLCJ2YWxUeXBlIiwiaGVhZGVyU3RyIiwiX3JlZjQiLCJpc091dHB1dFN0YXJ0IiwiZ2V0SGVhZGVyU3RyaW5nIiwicHJlSW5kZW50U3RyIiwib3V0cHV0U3RyIiwiX2NvbnRlbnQiLCJldmVyeSIsIm5ld1ZhbCIsIm5ld1ZhbFR5cGUiLCJpc05ld1ZhbFNpbXBsZSIsImlzTmV3VmFsQ0RBVEEiLCJwcmVUYWciLCJ2YWxJc0VtcHR5IiwiZ2xvYmFsU2VsZkNsb3NlIiwibG9jYWxTZWxmQ2xvc2UiLCJfc2VsZkNsb3NlVGFnIiwic2hvdWxkU2VsZkNsb3NlIiwic2VsZkNsb3NlU3RyIiwiYXR0cmlidXRlc1N0cmluZyIsIl9hdHRycyIsInRhZyIsInByZVRhZ0Nsb3NlU3RyIiwicG9zdFRhZyIsImluZGV4IiwibmV3Q29uZmlnIiwiX2lzTGFzdEl0ZW0iLCJvdXRwdXRPYmoiLCJwcml2YXRlVmFyIiwibmV3Q29udGVudE9iaiIsIm9ialRvQXJyYXkiLCJmblJlc3VsdCIsInNpbmdsZVZhbCIsIl9kZWZhdWx0IiwiSW50ZXJ2YWwiLCJyYXRpbyIsImNlbnRzIiwibG9nMiIsInNhdmFydHMiLCJsb2cxMCIsImRpZmZlcmVuY2UiLCJyZWZlcmVuY2UiLCJkaXYiLCJmcm9tUmF0aW8iLCJmcm9tQ2VudHMiLCJmcm9tU2F2YXJ0cyIsImNvbXBhcmUiLCJKTkQiLCJNdXNpY1hNTCIsInRpdGxlIiwib2JqZWN0cyIsIm9wdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsIlNvbG1pemF0aW9uIiwiVHVuaW5nIiwiZnJvbUVkbyIsImNvbnZlcnQiLCJjb252ZXJ0RG9jdW1lbnQiLCJ0cmltIiwidmVyc2lvbiIsImNvbnZlcnREYXRlIiwiY29udmVydE9iamVjdHMiLCJtZWFzdXJlcyIsIm1lYXN1cmUiLCJjb252ZXJ0TWVhc3VyZSIsImR1cmF0aW9ucyIsImxhYmVscyIsIkFubm90YXRpb24iLCJmaW5kQnlMYWJlbCIsImFubm90YXRpb25zIiwiYmVhdCIsInRvbmVzIiwidG9uZSIsInRvbmVJbmRleCIsImNvbnZlcnROb3RlIiwiY29udmVydEJhciIsImxvY2F0aW9uIiwic3R5bGUiLCJudW1iZXIiLCJzb2xtaXphdGlvbiIsInN0ZXAiLCJhY2NpZGVudGFsIiwiY29udmVydEFjY2lkZW50YWwiLCJvY3RhdmUiLCJ0dW5lIiwiYWNjaWRlbnRhbHMiLCJkYXRlIiwiZ2V0VGltZSIsImdldFRpbWV6b25lT2Zmc2V0IiwidG9JU09TdHJpbmciLCJzcGxpdCIsInR1bmluZyIsIm5vdGVzIiwicGFyc2VNYXAiLCJNdWx0aW1hcCIsIm5vdGUiLCJzZXQiLCJtb2QiLCJzdGVwcyIsIm5hbWVNYXAiLCJyZWdleCIsImVzY2FwZVJlZ0V4cCIsImdldEtleSIsInBpdGNoQ2xhc3MiLCJzb3J0IiwiZXhlYyIsIlRvbmUiLCJnZXQiLCJUb25lUm93Iiwic29tZSIsImZpbmQiLCJ0cmFuc3Bvc2UiLCJmcm9tUGl0Y2giLCJwaXRjaCIsImludmVydCIsImF4aXMiLCJyZXZlcnNlIiwicm90YXRlIiwiY3ljbGVzIiwiYyIsIm1vbm90b25pemUiLCJkZXNjZW5kaW5nIiwiY3VycmVudCIsImxhc3QiLCJwaXRjaGVzIiwiZnJvbVBpdGNoZXMiLCJmcm9tUGl0Y2hDbGFzc2VzIiwicGl0Y2hDbGFzc2VzIiwiVG9uZVJvd1NvbG1pemVkIiwic3VwZXIiLCJmcm9tVG9uZVJvdyIsInJvdyIsImludGVydmFscyIsImZyb21JbnRlcnZhbHMiLCJpbnRlcnZhbCIsInRyYW5zcG9zYWJsZSIsIl90cmFuc3Bvc2FibGUiLCJmaXJzdCIsImZsaXBGcmFjdGlvbiIsIm11bCIsIm5lYXJlc3QiLCJiYXNlIiwiYmluYXJ5U2VhcmNoIiwibG93ZXIiLCJ1cHBlciIsIm5lYXJlc3RUb25lIiwibmVhcmVzdEludGVydmFsIiwiZGl2aXNpb25zIiwiXyIsImxhYmVsIiwiYW5ub3RhdGlvbiIsImtleVZhbHVlTWFwIiwiTWFwIiwidmFsdWVLZXlNYXAiLCJ2YWx1ZXMiLCJnZXRWYWx1ZSIsImRlbGV0ZSIsImRlbGV0ZVZhbHVlIiwic2V0S2V5Iiwic2V0VmFsdWUiLCJjbGVhciIsImhhcyIsImRlbGV0ZUtleSIsImhhc1ZhbHVlIiwiY2FsbGJhY2tmbiIsInRoaXNBcmciLCJoYXNLZXkiLCJpbnNwZWN0IiwiZW50cnkiLCJzaXplIiwidG9TdHJpbmdUYWciLCJtYXgiLCJzaWV2ZSIsInByaW1lcyIsImoiLCJncmVhdGVyVGhhbk9uZSIsImludmVyc2UiLCJhciIsImVsIiwiY29tcCIsImNtcCIsImFyMSIsImFyMiIsIlNldCIsInN0YXJ0QXQiLCJleHRlbmRTdGF0aWNzIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfX2V4dGVuZHMiLCJfXyIsIl9fYXNzaWduIiwiX19yZXN0IiwiaW5kZXhPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiX19kZWNvcmF0ZSIsImRlY29yYXRvcnMiLCJkZXNjIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiX19wYXJhbSIsInBhcmFtSW5kZXgiLCJkZWNvcmF0b3IiLCJfX21ldGFkYXRhIiwibWV0YWRhdGFLZXkiLCJtZXRhZGF0YVZhbHVlIiwibWV0YWRhdGEiLCJfX2F3YWl0ZXIiLCJfYXJndW1lbnRzIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInRoZW4iLCJfX2dlbmVyYXRvciIsImJvZHkiLCJnIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwib3AiLCJwb3AiLCJfX2NyZWF0ZUJpbmRpbmciLCJrMiIsIl9fZXhwb3J0U3RhciIsIl9fdmFsdWVzIiwiX19yZWFkIiwiZXJyb3IiLCJfX3NwcmVhZCIsIl9fc3ByZWFkQXJyYXlzIiwiaWwiLCJqbCIsIl9fYXdhaXQiLCJfX2FzeW5jR2VuZXJhdG9yIiwiYXN5bmNJdGVyYXRvciIsInEiLCJyZXN1bWUiLCJmdWxmaWxsIiwic2V0dGxlIiwic2hpZnQiLCJfX2FzeW5jRGVsZWdhdG9yIiwiX19hc3luY1ZhbHVlcyIsIl9fbWFrZVRlbXBsYXRlT2JqZWN0IiwiY29va2VkIiwicmF3IiwiX19pbXBvcnRTdGFyIiwiX19lc01vZHVsZSIsIl9faW1wb3J0RGVmYXVsdCIsIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCJyZWNlaXZlciIsInByaXZhdGVNYXAiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJwcm9wIl0sInNvdXJjZVJvb3QiOiIifQ==