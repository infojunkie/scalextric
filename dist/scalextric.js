/*! For license information please see scalextric.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Scalextric=e():t.Scalextric=e()}(this,(function(){return(()=>{var t={628:function(t,e){var n;!function(r){"use strict";var i={s:1,n:0,d:1};function s(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message}function n(){}return n.prototype=Error.prototype,e.prototype=new n,e}var a=f.DivisionByZero=s("DivisionByZero"),o=f.InvalidParameter=s("InvalidParameter");function u(t,e){return isNaN(t=parseInt(t,10))&&h(),t*e}function h(){throw new o}var l=function(t,e){var n,r=0,s=1,o=1,l=0,c=0,f=0,p=1,d=1,y=0,v=1,w=1,g=1,m=1e7;if(null==t);else if(void 0!==e)o=(r=t)*(s=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(r=t.n,s=t.d,"s"in t&&(r*=t.s)):0 in t?(r=t[0],1 in t&&(s=t[1])):h(),o=r*s;break;case"number":if(t<0&&(o=t,t=-t),t%1==0)r=t;else if(t>0){for(t>=1&&(t/=d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));v<=m&&g<=m;){if(t===(n=(y+w)/(v+g))){v+g<=m?(r=y+w,s=v+g):g>v?(r=w,s=g):(r=y,s=v);break}t>n?(y+=w,v+=g):(w+=y,g+=v),v>m?(r=w,s=g):(r=y,s=v)}r*=d}else(isNaN(t)||isNaN(e))&&(s=r=NaN);break;case"string":if(null===(v=t.match(/\d+|./g))&&h(),"-"===v[y]?(o=-1,y++):"+"===v[y]&&y++,v.length===y+1?c=u(v[y++],o):"."===v[y+1]||"."===v[y]?("."!==v[y]&&(l=u(v[y++],o)),(1+ ++y===v.length||"("===v[y+1]&&")"===v[y+3]||"'"===v[y+1]&&"'"===v[y+3])&&(c=u(v[y],o),p=Math.pow(10,v[y].length),y++),("("===v[y]&&")"===v[y+2]||"'"===v[y]&&"'"===v[y+2])&&(f=u(v[y+1],o),d=Math.pow(10,v[y+1].length)-1,y+=3)):"/"===v[y+1]||":"===v[y+1]?(c=u(v[y],o),p=u(v[y+2],1),y+=3):"/"===v[y+3]&&" "===v[y+1]&&(l=u(v[y],o),c=u(v[y+2],o),p=u(v[y+4],1),y+=5),v.length<=y){o=r=f+(s=p*d)*l+d*c;break}default:h()}if(0===s)throw new a;i.s=o<0?-1:1,i.n=Math.abs(r),i.d=Math.abs(s)};function c(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function f(t,e){if(!(this instanceof f))return new f(t,e);l(t,e),t=f.REDUCE?c(i.d,i.n):1,this.s=i.s,this.n=i.n/t,this.d=i.d/t}f.REDUCE=1,f.prototype={s:1,n:0,d:1,abs:function(){return new f(this.n,this.d)},neg:function(){return new f(-this.s*this.n,this.d)},add:function(t,e){return l(t,e),new f(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(t,e){return l(t,e),new f(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(t,e){return l(t,e),new f(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(t,e){return l(t,e),new f(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return new f(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new f(NaN):void 0===t?new f(this.s*this.n%this.d,1):(l(t,e),0===i.n&&0===this.d&&f(0,0),new f(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d))},gcd:function(t,e){return l(t,e),new f(c(i.n,this.n)*c(i.d,this.d),i.d*this.d)},lcm:function(t,e){return l(t,e),0===i.n&&0===this.n?new f:new f(i.n*this.n,c(i.n,this.n)*c(i.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new f(this.s*this.d,this.n)},pow:function(t){return t<0?new f(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new f(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,e){return l(t,e),this.s*this.n*i.d==i.s*i.n*this.d},compare:function(t,e){l(t,e);var n=this.s*this.n*i.d-i.s*i.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function n(t){return 1===t.length?new f(t[0]):n(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var r=0;r<e.length;r++){var i=n(e.slice(0,r+1));if(i.sub(this.abs()).abs().valueOf()<t)return i.mul(this.s)}return this},divisible:function(t,e){return l(t,e),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];if(isNaN(this.n)||isNaN(this.d))return r;do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function(t){var e,n=this.n,r=this.d;if(isNaN(n)||isNaN(r))return"NaN";f.REDUCE||(n/=e=c(n,r),r/=e),t=t||15;var i=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>2e3)return 0;return r}(0,r),s=function(t,e,n){for(var r=1,i=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r}(10,n,e),s=0;s<300;s++){if(r===i)return s;r=10*r%e,i=10*i%e}return 0}(0,r,i),a=-1===this.s?"-":"";if(a+=n/r|0,n%=r,(n*=10)&&(a+="."),i){for(var o=s;o--;)a+=n/r|0,n%=r,n*=10;for(a+="(",o=i;o--;)a+=n/r|0,n%=r,n*=10;a+=")"}else for(o=t;n&&o--;)a+=n/r|0,n%=r,n*=10;return a}},void 0===(n=function(){return f}.apply(e,[]))||(t.exports=n)}()},748:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Multimap=e.Bimap=void 0,e.Bimap=class{constructor(){this.keyValueMap=new Map,this.valueKeyMap=new Map,this[Symbol.iterator]=this.keyValueMap[Symbol.iterator],this.entries=()=>this.keyValueMap.entries(),this.keys=()=>this.keyValueMap.keys(),this.values=()=>this.keyValueMap.values(),this.get=t=>this.keyValueMap.get(t),this.getKey=t=>this.valueKeyMap.get(t),this.getValue=t=>this.get(t),this.set=(t,e)=>(this.delete(t),this.deleteValue(e),this.keyValueMap.set(t,e),this.valueKeyMap.set(e,t),this),this.setKey=(t,e)=>this.set(e,t),this.setValue=(t,e)=>this.set(t,e),this.clear=()=>{this.keyValueMap.clear(),this.valueKeyMap.clear()},this.delete=t=>{if(this.has(t)){const e=this.keyValueMap.get(t);return this.keyValueMap.delete(t),this.valueKeyMap.delete(e),!0}return!1},this.deleteKey=t=>this.delete(t),this.deleteValue=t=>!!this.hasValue(t)&&this.delete(this.valueKeyMap.get(t)),this.forEach=(t,e)=>{this.keyValueMap.forEach(((n,r)=>{t.apply(e,[n,r,this])}))},this.has=t=>this.keyValueMap.has(t),this.hasKey=t=>this.has(t),this.hasValue=t=>this.valueKeyMap.has(t),this.inspect=()=>{let t="Bimap {",e=0;return this.forEach(((n,r)=>{e++,t+=r.toString()+" => "+n.toString(),e<this.size&&(t+=", ")})),t+="}",t}}get size(){return this.keyValueMap.size}},e.Multimap=class{constructor(){this.keyValueMap=new Map,this.valueKeyMap=new Map,this[Symbol.iterator]=this.keyValueMap[Symbol.iterator],this.entries=()=>this.keyValueMap.entries(),this.keys=()=>this.keyValueMap.keys(),this.values=()=>this.keyValueMap.values(),this.get=t=>this.keyValueMap.get(t),this.getKey=t=>this.valueKeyMap.get(t),this.getValue=t=>this.get(t),this.set=(t,e)=>{this.delete(t),this.keyValueMap.set(t,e);const n=this.valueKeyMap.get(e)||[];return this.valueKeyMap.set(e,[...n,t]),this},this.setKey=(t,e)=>this.set(e,t),this.setValue=(t,e)=>this.set(t,e),this.clear=()=>{this.keyValueMap.clear(),this.valueKeyMap.clear()},this.delete=t=>{if(this.has(t)){const e=this.keyValueMap.get(t);this.keyValueMap.delete(t);const n=this.valueKeyMap.get(e).filter((e=>e!==t));return n.length>0?this.valueKeyMap.set(e,n):this.valueKeyMap.delete(e),!0}return!1},this.deleteKey=t=>this.delete(t),this.deleteValue=t=>!!this.hasValue(t)&&(this.valueKeyMap.get(t).forEach((t=>{this.delete(t)})),!0),this.forEach=(t,e)=>{this.keyValueMap.forEach(((n,r)=>{t.apply(e,[n,r,this])}))},this.has=t=>this.keyValueMap.has(t),this.hasKey=t=>this.has(t),this.hasValue=t=>this.valueKeyMap.has(t),this.inspect=()=>{let t="Multimap {",e=0;return this.forEach(((n,r)=>{e++,t+=r.toString()+" => "+n.toString(),e<this.size&&(t+=", ")})),t+="}",t}}get size(){return this.keyValueMap.size}}},500:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Helpers=void 0,(n=e.Helpers||(e.Helpers={})).escapeRegExp=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},n.primes=function(t){const e=[],n=[];for(let r=2;r<=t;++r)if(!e[r]){n.push(r);for(let n=r<<1;n<=t;n+=r)e[n]=!0}return n},n.flipFraction=function(t,e=!1){return e?t.abs().compare(1)<0?t.inverse():t:t.abs().compare(1)>0?t.inverse():t},n.binarySearch=function(t,e,n){let r=0,i=t.length-1;for(;r<=i;){const s=i+r>>1,a=n(e,t[s]);if(a>0)r=s+1;else{if(!(a<0))return s;i=s-1}}return~r},n.arrayEqual=function(t,e,n){return t.length===e.length&&t.every(((t,r)=>0===n(t,e[r])))},n.arrayUnique=function(t){return[...new Set(t)]},n.mod=function(t,e){return(t%e+e)%e}},635:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Interval=void 0;const r=n(628);class i{constructor(t){this.ratio=t}get cents(){return 1200*Math.log2(this.ratio.valueOf())}get savarts(){return 1e3*Math.log10(this.ratio.valueOf())}difference(t){return new i(this.ratio.div(t.ratio))}static fromRatio(t){return new i(new r.default(t))}static fromCents(t){return new i(new r.default(Math.pow(2,t/1200)))}static fromSavarts(t){return new i(new r.default(Math.pow(10,t/1e3)))}static compare(t,e){return t.ratio.compare(e.ratio)}}e.Interval=i,i.JND=i.fromCents(5)},312:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TuningTone=e.Tuning=void 0;const r=n(628),i=n(500),s=n(635);class a{constructor(t,e=[]){this.intervals=t,this.annotations=e,this.intervals.sort(s.Interval.compare),1!=this.intervals[0].ratio.valueOf()&&(this.intervals=[new s.Interval(new r.default(1)),...this.intervals])}static fromIntervals(t,e=[]){return new a(t.map((t=>"string"==typeof t?new s.Interval(new r.default(t)):s.Interval.fromCents(t))),e)}get transposable(){if(void 0!==this._transposable)return this._transposable;const t=this.intervals[1].difference(this.intervals[0]);return this._transposable=this.intervals.slice(1).every(((e,n)=>{const r=e.difference(this.intervals[n]);return new s.Interval(i.Helpers.flipFraction(r.difference(t).ratio,!0)).ratio.compare(s.Interval.JND.ratio)<0}))}get steps(){return this.intervals.length-1}get octave(){return this.intervals[this.steps]}tune(t){return new s.Interval(this.intervals[t.pitchClass].ratio.mul(this.octave.ratio.pow(t.octave)))}nearest(t){const e=Math.floor(Math.log(t.ratio.valueOf())/Math.log(this.octave.ratio.valueOf())),n=new s.Interval(t.ratio.div(this.octave.ratio.pow(e))),a=i.Helpers.binarySearch(this.intervals,n,s.Interval.compare);if(a>=0)return{tone:new o(this,a,e),interval:t,difference:new s.Interval(new r.default(1))};{const r=~a,i=Math.abs(this.intervals[r-1].difference(n).cents),s=Math.abs(this.intervals[r].difference(n).cents),u=new o(this,i<s?r-1:r,e),h=this.tune(u);return{tone:u,interval:h,difference:h.difference(t)}}}static intervalsEdo(t){return Array.from(Array(t+1)).map(((e,n)=>s.Interval.fromCents(1200/t*n)))}}e.Tuning=a;class o{constructor(t,e,n){this.tuning=t,this.pitchClass=e,this.octave=n}get pitch(){return this.pitchClass+this.octave*this.tuning.steps}static fromPitch(t,e){return new o(t,i.Helpers.mod(e,t.steps),Math.floor(e/t.steps))}}e.TuningTone=o},913:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TuningNotation=void 0;const r=n(312),i=n(500),s=n(748);class a{constructor(t,e){this.tuning=t,this.map=e,this.regex=new RegExp("^("+Array.from(this.map.keys()).map(i.Helpers.escapeRegExp).join("|")+")(-?\\d)$","i")}static fromNotesAccidentalsCombination(t,e,n){const r=new s.Multimap;return Object.keys(e).forEach((s=>{r.set(""+s,e[s]),Object.keys(n).forEach((a=>{r.set(`${s}${a}`,i.Helpers.mod(e[s]+n[a],t.steps))}))})),new a(t,r)}name(t){return[...this.map.getKey(t.pitchClass)].map((e=>`${e}${t.octave}`))}parse(t){const e=this.regex.exec(t);if(!e)throw new Error("[TuningNotation.parse] Could not parse note "+t);return new r.TuningTone(this.tuning,this.map.get(e[1]),parseInt(e[2],10))}}e.TuningNotation=a},607:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(655);r.__exportStar(n(312),e),r.__exportStar(n(913),e),r.__exportStar(n(635),e)},655:(t,e,n)=>{"use strict";n.r(e),n.d(e,{__extends:()=>i,__assign:()=>s,__rest:()=>a,__decorate:()=>o,__param:()=>u,__metadata:()=>h,__awaiter:()=>l,__generator:()=>c,__createBinding:()=>f,__exportStar:()=>p,__values:()=>d,__read:()=>y,__spread:()=>v,__spreadArrays:()=>w,__await:()=>g,__asyncGenerator:()=>m,__asyncDelegator:()=>b,__asyncValues:()=>M,__makeTemplateObject:()=>_,__importStar:()=>N,__importDefault:()=>O,__classPrivateFieldGet:()=>k,__classPrivateFieldSet:()=>S});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function o(t,e,n,r){var i,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function h(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,s){function a(t){try{u(r.next(t))}catch(t){s(t)}}function o(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}u((r=r.apply(t,e||[])).next())}))}function c(t,e){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function w(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)r[i]=s[a];return r}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){s.push([t,e,n,r])>1||o(t,e)}))})}function o(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(u,h):l(s[0][2],n)}catch(t){l(s[0][3],t)}var n}function u(t){o("next",t)}function h(t){o("throw",t)}function l(t,e){t(e),s.shift(),s.length&&o(s[0][0],s[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function M(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function N(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function O(t){return t&&t.__esModule?t:{default:t}}function k(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}return n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(607)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY2FsZXh0cmljL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9TY2FsZXh0cmljLy4vbm9kZV9tb2R1bGVzL2ZyYWN0aW9uLmpzL2ZyYWN0aW9uLmpzIiwid2VicGFjazovL1NjYWxleHRyaWMvLi9zcmMvQmltYXAudHMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy8uL3NyYy9IZWxwZXJzLnRzIiwid2VicGFjazovL1NjYWxleHRyaWMvLi9zcmMvSW50ZXJ2YWwudHMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy8uL3NyYy9UdW5pbmcudHMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy8uL3NyYy9UdW5pbmdOb3RhdGlvbi50cyIsIndlYnBhY2s6Ly9TY2FsZXh0cmljLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL1NjYWxleHRyaWMvLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovL1NjYWxleHRyaWMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL1NjYWxleHRyaWMvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiUCIsImNyZWF0ZUVycm9yIiwibmFtZSIsImVycm9yQ29uc3RydWN0b3IiLCJ0ZW1wIiwiRXJyb3IiLCJhcHBseSIsImFyZ3VtZW50cyIsIkludGVybWVkaWF0ZUluaGVyaXRvciIsInByb3RvdHlwZSIsIkRpdmlzaW9uQnlaZXJvIiwiRnJhY3Rpb24iLCJJbnZhbGlkUGFyYW1ldGVyIiwiYXNzaWduIiwibiIsInMiLCJpc05hTiIsInBhcnNlSW50IiwidGhyb3dJbnZhbGlkUGFyYW0iLCJwYXJzZSIsInAxIiwicDIiLCJNIiwiZCIsInYiLCJ3IiwieCIsInkiLCJ6IiwiQSIsIkIiLCJDIiwiRCIsIk4iLCJ1bmRlZmluZWQiLCJNYXRoIiwicG93IiwiZmxvb3IiLCJsb2ciLCJMTjEwIiwiTmFOIiwibWF0Y2giLCJsZW5ndGgiLCJhYnMiLCJnY2QiLCJhIiwiYiIsInBsYWNlcyIsImNlaWwiLCJyb3VuZCIsIm0iLCJ0IiwiZXBzIiwiY29udCIsInJlYyIsInNsaWNlIiwiaSIsInRtcCIsInZhbHVlT2YiLCJleGNsdWRlV2hvbGUiLCJ3aG9sZSIsInN0ciIsInJlcyIsInB1c2giLCJkZWMiLCJnIiwiY3ljTGVuIiwicmVtIiwiY3ljbGVMZW4iLCJjeWNPZmYiLCJsZW4iLCJyZW0xIiwicmVtMiIsImUiLCJyIiwibW9kcG93IiwiY3ljbGVTdGFydCIsImtleVZhbHVlTWFwIiwiTWFwIiwidmFsdWVLZXlNYXAiLCJTeW1ib2wiLCJpdGVyYXRvciIsImVudHJpZXMiLCJrZXlzIiwidmFsdWVzIiwiZ2V0IiwiZ2V0S2V5IiwiZ2V0VmFsdWUiLCJzZXQiLCJrZXkiLCJ2YWx1ZSIsImRlbGV0ZSIsImRlbGV0ZVZhbHVlIiwic2V0S2V5Iiwic2V0VmFsdWUiLCJjbGVhciIsImhhcyIsImRlbGV0ZUtleSIsImhhc1ZhbHVlIiwiZm9yRWFjaCIsImNhbGxiYWNrZm4iLCJ0aGlzQXJnIiwiaGFzS2V5IiwiaW5zcGVjdCIsImVudHJ5IiwidG9TdHJpbmciLCJzaXplIiwiZmlsdGVyIiwiayIsIkhlbHBlcnMiLCJlc2NhcGVSZWdFeHAiLCJyZXBsYWNlIiwicHJpbWVzIiwibWF4Iiwic2lldmUiLCJqIiwiZmxpcEZyYWN0aW9uIiwiZiIsImdyZWF0ZXJUaGFuT25lIiwiY29tcGFyZSIsImludmVyc2UiLCJiaW5hcnlTZWFyY2giLCJhciIsImVsIiwiY29tcCIsImNtcCIsImFycmF5RXF1YWwiLCJhcjEiLCJhcjIiLCJldmVyeSIsImluZGV4IiwiYXJyYXlVbmlxdWUiLCJTZXQiLCJtb2QiLCJJbnRlcnZhbCIsInJhdGlvIiwibG9nMiIsImxvZzEwIiwicmVmZXJlbmNlIiwiZGl2IiwiY2VudHMiLCJzYXZhcnRzIiwiSk5EIiwiZnJvbUNlbnRzIiwiVHVuaW5nIiwiaW50ZXJ2YWxzIiwiYW5ub3RhdGlvbnMiLCJzb3J0IiwibWFwIiwiaW50ZXJ2YWwiLCJfdHJhbnNwb3NhYmxlIiwiZmlyc3QiLCJkaWZmZXJlbmNlIiwibmV4dCIsInN0ZXBzIiwidG9uZSIsInBpdGNoQ2xhc3MiLCJtdWwiLCJvY3RhdmUiLCJiYXNlIiwiVHVuaW5nVG9uZSIsImxvd2VyIiwidXBwZXIiLCJuZWFyZXN0VG9uZSIsIm5lYXJlc3RJbnRlcnZhbCIsInR1bmUiLCJkaXZpc2lvbnMiLCJBcnJheSIsImZyb20iLCJfIiwidHVuaW5nIiwicGl0Y2giLCJUdW5pbmdOb3RhdGlvbiIsInJlZ2V4IiwiUmVnRXhwIiwiam9pbiIsIm5vdGVzIiwiYWNjaWRlbnRhbHMiLCJNdWx0aW1hcCIsIk9iamVjdCIsIm5vdGUiLCJhY2NpZGVudGFsIiwiZXhlYyIsImV4dGVuZFN0YXRpY3MiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fZXh0ZW5kcyIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJfX2Fzc2lnbiIsImNhbGwiLCJfX3Jlc3QiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImRlc2MiLCJjIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiZGVmaW5lUHJvcGVydHkiLCJfX3BhcmFtIiwicGFyYW1JbmRleCIsImRlY29yYXRvciIsIl9fbWV0YWRhdGEiLCJtZXRhZGF0YUtleSIsIm1ldGFkYXRhVmFsdWUiLCJtZXRhZGF0YSIsIl9fYXdhaXRlciIsIl9hcmd1bWVudHMiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiX19nZW5lcmF0b3IiLCJib2R5IiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJvcCIsIlR5cGVFcnJvciIsInBvcCIsIl9fY3JlYXRlQmluZGluZyIsIm8iLCJrMiIsIl9fZXhwb3J0U3RhciIsIl9fdmFsdWVzIiwiX19yZWFkIiwiZXJyb3IiLCJfX3NwcmVhZCIsImNvbmNhdCIsIl9fc3ByZWFkQXJyYXlzIiwiaWwiLCJqbCIsIl9fYXdhaXQiLCJfX2FzeW5jR2VuZXJhdG9yIiwiYXN5bmNJdGVyYXRvciIsInEiLCJyZXN1bWUiLCJmdWxmaWxsIiwic2V0dGxlIiwic2hpZnQiLCJfX2FzeW5jRGVsZWdhdG9yIiwiX19hc3luY1ZhbHVlcyIsIl9fbWFrZVRlbXBsYXRlT2JqZWN0IiwiY29va2VkIiwicmF3IiwiX19pbXBvcnRTdGFyIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfX2ltcG9ydERlZmF1bHQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwicmVjZWl2ZXIiLCJwcml2YXRlTWFwIiwiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkZWZpbml0aW9uIiwiZW51bWVyYWJsZSIsIm9iaiIsInByb3AiLCJ0b1N0cmluZ1RhZyJdLCJtYXBwaW5ncyI6IjtDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxJQUNRLG1CQUFYRyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sR0FB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QyxJQUFTakcsT0FBTzFLLFVBQVVrTCxlQUFlTSxLQUFLa0YsRUFBS0MsR0NDakZOLEVBQW9CcE0sRUFBSy9FLElBQ0gsb0JBQVhxRixRQUEwQkEsT0FBT3FNLGFBQzFDbEcsT0FBTzJCLGVBQWVuTixFQUFTcUYsT0FBT3FNLFlBQWEsQ0FBRTNMLE1BQU8sV0FFN0R5RixPQUFPMkIsZUFBZW5OLEVBQVMsYUFBYyxDQUFFK0YsT0FBTyxLSEZoRG9MLEVBQW9CLE0iLCJmaWxlIjoic2NhbGV4dHJpYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlNjYWxleHRyaWNcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiU2NhbGV4dHJpY1wiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIi8qKlxuICogQGxpY2Vuc2UgRnJhY3Rpb24uanMgdjQuMC4xMiAwOS8wOS8yMDE1XG4gKiBodHRwOi8vd3d3Lnhhcmcub3JnLzIwMTQvMDMvcmF0aW9uYWwtbnVtYmVycy1pbi1qYXZhc2NyaXB0L1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNSwgUm9iZXJ0IEVpc2VsZSAocm9iZXJ0QHhhcmcub3JnKVxuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuXG4gKiovXG5cblxuLyoqXG4gKlxuICogVGhpcyBjbGFzcyBvZmZlcnMgdGhlIHBvc3NpYmlsaXR5IHRvIGNhbGN1bGF0ZSBmcmFjdGlvbnMuXG4gKiBZb3UgY2FuIHBhc3MgYSBmcmFjdGlvbiBpbiBkaWZmZXJlbnQgZm9ybWF0cy4gRWl0aGVyIGFzIGFycmF5LCBhcyBkb3VibGUsIGFzIHN0cmluZyBvciBhcyBhbiBpbnRlZ2VyLlxuICpcbiAqIEFycmF5L09iamVjdCBmb3JtXG4gKiBbIDAgPT4gPG5vbWluYXRvcj4sIDEgPT4gPGRlbm9taW5hdG9yPiBdXG4gKiBbIG4gPT4gPG5vbWluYXRvcj4sIGQgPT4gPGRlbm9taW5hdG9yPiBdXG4gKlxuICogSW50ZWdlciBmb3JtXG4gKiAtIFNpbmdsZSBpbnRlZ2VyIHZhbHVlXG4gKlxuICogRG91YmxlIGZvcm1cbiAqIC0gU2luZ2xlIGRvdWJsZSB2YWx1ZVxuICpcbiAqIFN0cmluZyBmb3JtXG4gKiAxMjMuNDU2IC0gYSBzaW1wbGUgZG91YmxlXG4gKiAxMjMvNDU2IC0gYSBzdHJpbmcgZnJhY3Rpb25cbiAqIDEyMy4nNDU2JyAtIGEgZG91YmxlIHdpdGggcmVwZWF0aW5nIGRlY2ltYWwgcGxhY2VzXG4gKiAxMjMuKDQ1NikgLSBzeW5vbnltXG4gKiAxMjMuNDUnNicgLSBhIGRvdWJsZSB3aXRoIHJlcGVhdGluZyBsYXN0IHBsYWNlXG4gKiAxMjMuNDUoNikgLSBzeW5vbnltXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiB2YXIgZiA9IG5ldyBGcmFjdGlvbihcIjkuNCczMSdcIik7XG4gKiBmLm11bChbLTQsIDNdKS5kaXYoNC45KTtcbiAqXG4gKi9cblxuKGZ1bmN0aW9uKHJvb3QpIHtcblxuICBcInVzZSBzdHJpY3RcIjtcblxuICAvLyBNYXhpbXVtIHNlYXJjaCBkZXB0aCBmb3IgY3ljbGljIHJhdGlvbmFsIG51bWJlcnMuIDIwMDAgc2hvdWxkIGJlIG1vcmUgdGhhbiBlbm91Z2guXG4gIC8vIEV4YW1wbGU6IDEvNyA9IDAuKDE0Mjg1NykgaGFzIDYgcmVwZWF0aW5nIGRlY2ltYWwgcGxhY2VzLlxuICAvLyBJZiBNQVhfQ1lDTEVfTEVOIGdldHMgcmVkdWNlZCwgbG9uZyBjeWNsZXMgd2lsbCBub3QgYmUgZGV0ZWN0ZWQgYW5kIHRvU3RyaW5nKCkgb25seSBnZXRzIHRoZSBmaXJzdCAxMCBkaWdpdHNcbiAgdmFyIE1BWF9DWUNMRV9MRU4gPSAyMDAwO1xuXG4gIC8vIFBhcnNlZCBkYXRhIHRvIGF2b2lkIGNhbGxpbmcgXCJuZXdcIiBhbGwgdGhlIHRpbWVcbiAgdmFyIFAgPSB7XG4gICAgXCJzXCI6IDEsXG4gICAgXCJuXCI6IDAsXG4gICAgXCJkXCI6IDFcbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVFcnJvcihuYW1lKSB7XG5cbiAgICBmdW5jdGlvbiBlcnJvckNvbnN0cnVjdG9yKCkge1xuICAgICAgdmFyIHRlbXAgPSBFcnJvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgdGVtcFsnbmFtZSddID0gdGhpc1snbmFtZSddID0gbmFtZTtcbiAgICAgIHRoaXNbJ3N0YWNrJ10gPSB0ZW1wWydzdGFjayddO1xuICAgICAgdGhpc1snbWVzc2FnZSddID0gdGVtcFsnbWVzc2FnZSddO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVycm9yIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnRlcm1lZGlhdGVJbmhlcml0b3IoKSB7fVxuICAgIEludGVybWVkaWF0ZUluaGVyaXRvci5wcm90b3R5cGUgPSBFcnJvci5wcm90b3R5cGU7XG4gICAgZXJyb3JDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBuZXcgSW50ZXJtZWRpYXRlSW5oZXJpdG9yKCk7XG5cbiAgICByZXR1cm4gZXJyb3JDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIHZhciBEaXZpc2lvbkJ5WmVybyA9IEZyYWN0aW9uWydEaXZpc2lvbkJ5WmVybyddID0gY3JlYXRlRXJyb3IoJ0RpdmlzaW9uQnlaZXJvJyk7XG4gIHZhciBJbnZhbGlkUGFyYW1ldGVyID0gRnJhY3Rpb25bJ0ludmFsaWRQYXJhbWV0ZXInXSA9IGNyZWF0ZUVycm9yKCdJbnZhbGlkUGFyYW1ldGVyJyk7XG5cbiAgZnVuY3Rpb24gYXNzaWduKG4sIHMpIHtcblxuICAgIGlmIChpc05hTihuID0gcGFyc2VJbnQobiwgMTApKSkge1xuICAgICAgdGhyb3dJbnZhbGlkUGFyYW0oKTtcbiAgICB9XG4gICAgcmV0dXJuIG4gKiBzO1xuICB9XG5cbiAgZnVuY3Rpb24gdGhyb3dJbnZhbGlkUGFyYW0oKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRQYXJhbWV0ZXIoKTtcbiAgfVxuXG4gIHZhciBwYXJzZSA9IGZ1bmN0aW9uKHAxLCBwMikge1xuXG4gICAgdmFyIG4gPSAwLCBkID0gMSwgcyA9IDE7XG4gICAgdmFyIHYgPSAwLCB3ID0gMCwgeCA9IDAsIHkgPSAxLCB6ID0gMTtcblxuICAgIHZhciBBID0gMCwgQiA9IDE7XG4gICAgdmFyIEMgPSAxLCBEID0gMTtcblxuICAgIHZhciBOID0gMTAwMDAwMDA7XG4gICAgdmFyIE07XG5cbiAgICBpZiAocDEgPT09IHVuZGVmaW5lZCB8fCBwMSA9PT0gbnVsbCkge1xuICAgICAgLyogdm9pZCAqL1xuICAgIH0gZWxzZSBpZiAocDIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbiA9IHAxO1xuICAgICAgZCA9IHAyO1xuICAgICAgcyA9IG4gKiBkO1xuICAgIH0gZWxzZVxuICAgICAgc3dpdGNoICh0eXBlb2YgcDEpIHtcblxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAoXCJkXCIgaW4gcDEgJiYgXCJuXCIgaW4gcDEpIHtcbiAgICAgICAgICAgIG4gPSBwMVtcIm5cIl07XG4gICAgICAgICAgICBkID0gcDFbXCJkXCJdO1xuICAgICAgICAgICAgaWYgKFwic1wiIGluIHAxKVxuICAgICAgICAgICAgICBuICo9IHAxW1wic1wiXTtcbiAgICAgICAgICB9IGVsc2UgaWYgKDAgaW4gcDEpIHtcbiAgICAgICAgICAgIG4gPSBwMVswXTtcbiAgICAgICAgICAgIGlmICgxIGluIHAxKVxuICAgICAgICAgICAgICBkID0gcDFbMV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93SW52YWxpZFBhcmFtKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHMgPSBuICogZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAocDEgPCAwKSB7XG4gICAgICAgICAgICBzID0gcDE7XG4gICAgICAgICAgICBwMSA9IC1wMTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocDEgJSAxID09PSAwKSB7XG4gICAgICAgICAgICBuID0gcDE7XG4gICAgICAgICAgfSBlbHNlIGlmIChwMSA+IDApIHsgLy8gY2hlY2sgZm9yICE9IDAsIHNjYWxlIHdvdWxkIGJlY29tZSBOYU4gKGxvZygwKSksIHdoaWNoIGNvbnZlcmdlcyByZWFsbHkgc2xvd1xuXG4gICAgICAgICAgICBpZiAocDEgPj0gMSkge1xuICAgICAgICAgICAgICB6ID0gTWF0aC5wb3coMTAsIE1hdGguZmxvb3IoMSArIE1hdGgubG9nKHAxKSAvIE1hdGguTE4xMCkpO1xuICAgICAgICAgICAgICBwMSAvPSB6O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVc2luZyBGYXJleSBTZXF1ZW5jZXNcbiAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cuam9obmRjb29rLmNvbS9ibG9nLzIwMTAvMTAvMjAvYmVzdC1yYXRpb25hbC1hcHByb3hpbWF0aW9uL1xuXG4gICAgICAgICAgICB3aGlsZSAoQiA8PSBOICYmIEQgPD0gTikge1xuICAgICAgICAgICAgICBNID0gKEEgKyBDKSAvIChCICsgRCk7XG5cbiAgICAgICAgICAgICAgaWYgKHAxID09PSBNKSB7XG4gICAgICAgICAgICAgICAgaWYgKEIgKyBEIDw9IE4pIHtcbiAgICAgICAgICAgICAgICAgIG4gPSBBICsgQztcbiAgICAgICAgICAgICAgICAgIGQgPSBCICsgRDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKEQgPiBCKSB7XG4gICAgICAgICAgICAgICAgICBuID0gQztcbiAgICAgICAgICAgICAgICAgIGQgPSBEO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBuID0gQTtcbiAgICAgICAgICAgICAgICAgIGQgPSBCO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgaWYgKHAxID4gTSkge1xuICAgICAgICAgICAgICAgICAgQSArPSBDO1xuICAgICAgICAgICAgICAgICAgQiArPSBEO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBDICs9IEE7XG4gICAgICAgICAgICAgICAgICBEICs9IEI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKEIgPiBOKSB7XG4gICAgICAgICAgICAgICAgICBuID0gQztcbiAgICAgICAgICAgICAgICAgIGQgPSBEO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBuID0gQTtcbiAgICAgICAgICAgICAgICAgIGQgPSBCO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbiAqPSB6O1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNOYU4ocDEpIHx8IGlzTmFOKHAyKSkge1xuICAgICAgICAgICAgZCA9IG4gPSBOYU47XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAge1xuICAgICAgICAgIEIgPSBwMS5tYXRjaCgvXFxkK3wuL2cpO1xuXG4gICAgICAgICAgaWYgKEIgPT09IG51bGwpXG4gICAgICAgICAgICB0aHJvd0ludmFsaWRQYXJhbSgpO1xuXG4gICAgICAgICAgaWYgKEJbQV0gPT09ICctJykgey8vIENoZWNrIGZvciBtaW51cyBzaWduIGF0IHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICAgIHMgPSAtMTtcbiAgICAgICAgICAgIEErKztcbiAgICAgICAgICB9IGVsc2UgaWYgKEJbQV0gPT09ICcrJykgey8vIENoZWNrIGZvciBwbHVzIHNpZ24gYXQgdGhlIGJlZ2lubmluZ1xuICAgICAgICAgICAgQSsrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChCLmxlbmd0aCA9PT0gQSArIDEpIHsgLy8gQ2hlY2sgaWYgaXQncyBqdXN0IGEgc2ltcGxlIG51bWJlciBcIjEyMzRcIlxuICAgICAgICAgICAgdyA9IGFzc2lnbihCW0ErK10sIHMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoQltBICsgMV0gPT09ICcuJyB8fCBCW0FdID09PSAnLicpIHsgLy8gQ2hlY2sgaWYgaXQncyBhIGRlY2ltYWwgbnVtYmVyXG5cbiAgICAgICAgICAgIGlmIChCW0FdICE9PSAnLicpIHsgLy8gSGFuZGxlIDAuNSBhbmQgLjVcbiAgICAgICAgICAgICAgdiA9IGFzc2lnbihCW0ErK10sIHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQSsrO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgZGVjaW1hbCBwbGFjZXNcbiAgICAgICAgICAgIGlmIChBICsgMSA9PT0gQi5sZW5ndGggfHwgQltBICsgMV0gPT09ICcoJyAmJiBCW0EgKyAzXSA9PT0gJyknIHx8IEJbQSArIDFdID09PSBcIidcIiAmJiBCW0EgKyAzXSA9PT0gXCInXCIpIHtcbiAgICAgICAgICAgICAgdyA9IGFzc2lnbihCW0FdLCBzKTtcbiAgICAgICAgICAgICAgeSA9IE1hdGgucG93KDEwLCBCW0FdLmxlbmd0aCk7XG4gICAgICAgICAgICAgIEErKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHJlcGVhdGluZyBwbGFjZXNcbiAgICAgICAgICAgIGlmIChCW0FdID09PSAnKCcgJiYgQltBICsgMl0gPT09ICcpJyB8fCBCW0FdID09PSBcIidcIiAmJiBCW0EgKyAyXSA9PT0gXCInXCIpIHtcbiAgICAgICAgICAgICAgeCA9IGFzc2lnbihCW0EgKyAxXSwgcyk7XG4gICAgICAgICAgICAgIHogPSBNYXRoLnBvdygxMCwgQltBICsgMV0ubGVuZ3RoKSAtIDE7XG4gICAgICAgICAgICAgIEEgKz0gMztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoQltBICsgMV0gPT09ICcvJyB8fCBCW0EgKyAxXSA9PT0gJzonKSB7IC8vIENoZWNrIGZvciBhIHNpbXBsZSBmcmFjdGlvbiBcIjEyMy80NTZcIiBvciBcIjEyMzo0NTZcIlxuICAgICAgICAgICAgdyA9IGFzc2lnbihCW0FdLCBzKTtcbiAgICAgICAgICAgIHkgPSBhc3NpZ24oQltBICsgMl0sIDEpO1xuICAgICAgICAgICAgQSArPSAzO1xuICAgICAgICAgIH0gZWxzZSBpZiAoQltBICsgM10gPT09ICcvJyAmJiBCW0EgKyAxXSA9PT0gJyAnKSB7IC8vIENoZWNrIGZvciBhIGNvbXBsZXggZnJhY3Rpb24gXCIxMjMgMS8yXCJcbiAgICAgICAgICAgIHYgPSBhc3NpZ24oQltBXSwgcyk7XG4gICAgICAgICAgICB3ID0gYXNzaWduKEJbQSArIDJdLCBzKTtcbiAgICAgICAgICAgIHkgPSBhc3NpZ24oQltBICsgNF0sIDEpO1xuICAgICAgICAgICAgQSArPSA1O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChCLmxlbmd0aCA8PSBBKSB7IC8vIENoZWNrIGZvciBtb3JlIHRva2VucyBvbiB0aGUgc3RhY2tcbiAgICAgICAgICAgIGQgPSB5ICogejtcbiAgICAgICAgICAgIHMgPSAvKiB2b2lkICovXG4gICAgICAgICAgICAgICAgICAgIG4gPSB4ICsgZCAqIHYgKyB6ICogdztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8qIEZhbGwgdGhyb3VnaCBvbiBlcnJvciAqL1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3dJbnZhbGlkUGFyYW0oKTtcbiAgICAgIH1cblxuICAgIGlmIChkID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRGl2aXNpb25CeVplcm8oKTtcbiAgICB9XG5cbiAgICBQW1wic1wiXSA9IHMgPCAwID8gLTEgOiAxO1xuICAgIFBbXCJuXCJdID0gTWF0aC5hYnMobik7XG4gICAgUFtcImRcIl0gPSBNYXRoLmFicyhkKTtcbiAgfTtcblxuICBmdW5jdGlvbiBtb2Rwb3coYiwgZSwgbSkge1xuXG4gICAgdmFyIHIgPSAxO1xuICAgIGZvciAoOyBlID4gMDsgYiA9IChiICogYikgJSBtLCBlID4+PSAxKSB7XG5cbiAgICAgIGlmIChlICYgMSkge1xuICAgICAgICByID0gKHIgKiBiKSAlIG07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9XG5cblxuICBmdW5jdGlvbiBjeWNsZUxlbihuLCBkKSB7XG5cbiAgICBmb3IgKDsgZCAlIDIgPT09IDA7XG4gICAgICAgICAgICBkIC89IDIpIHtcbiAgICB9XG5cbiAgICBmb3IgKDsgZCAlIDUgPT09IDA7XG4gICAgICAgICAgICBkIC89IDUpIHtcbiAgICB9XG5cbiAgICBpZiAoZCA9PT0gMSkgLy8gQ2F0Y2ggbm9uLWN5Y2xpYyBudW1iZXJzXG4gICAgICByZXR1cm4gMDtcblxuICAgIC8vIElmIHdlIHdvdWxkIGxpa2UgdG8gY29tcHV0ZSByZWFsbHkgbGFyZ2UgbnVtYmVycyBxdWlja2VyLCB3ZSBjb3VsZCBtYWtlIHVzZSBvZiBGZXJtYXQncyBsaXR0bGUgdGhlb3JlbTpcbiAgICAvLyAxMF4oZC0xKSAlIGQgPT0gMVxuICAgIC8vIEhvd2V2ZXIsIHdlIGRvbid0IG5lZWQgc3VjaCBsYXJnZSBudW1iZXJzIGFuZCBNQVhfQ1lDTEVfTEVOIHNob3VsZCBiZSB0aGUgY2Fwc3RvbmUsXG4gICAgLy8gYXMgd2Ugd2FudCB0byB0cmFuc2xhdGUgdGhlIG51bWJlcnMgdG8gc3RyaW5ncy5cblxuICAgIHZhciByZW0gPSAxMCAlIGQ7XG4gICAgdmFyIHQgPSAxO1xuXG4gICAgZm9yICg7IHJlbSAhPT0gMTsgdCsrKSB7XG4gICAgICByZW0gPSByZW0gKiAxMCAlIGQ7XG5cbiAgICAgIGlmICh0ID4gTUFYX0NZQ0xFX0xFTilcbiAgICAgICAgcmV0dXJuIDA7IC8vIFJldHVybmluZyAwIGhlcmUgbWVhbnMgdGhhdCB3ZSBkb24ndCBwcmludCBpdCBhcyBhIGN5Y2xpYyBudW1iZXIuIEl0J3MgbGlrZWx5IHRoYXQgdGhlIGFuc3dlciBpcyBgZC0xYFxuICAgIH1cbiAgICByZXR1cm4gdDtcbiAgfVxuXG5cbiAgICAgZnVuY3Rpb24gY3ljbGVTdGFydChuLCBkLCBsZW4pIHtcblxuICAgIHZhciByZW0xID0gMTtcbiAgICB2YXIgcmVtMiA9IG1vZHBvdygxMCwgbGVuLCBkKTtcblxuICAgIGZvciAodmFyIHQgPSAwOyB0IDwgMzAwOyB0KyspIHsgLy8gcyA8IH5sb2cxMChOdW1iZXIuTUFYX1ZBTFVFKVxuICAgICAgLy8gU29sdmUgMTBecyA9PSAxMF4ocyt0KSAobW9kIGQpXG5cbiAgICAgIGlmIChyZW0xID09PSByZW0yKVxuICAgICAgICByZXR1cm4gdDtcblxuICAgICAgcmVtMSA9IHJlbTEgKiAxMCAlIGQ7XG4gICAgICByZW0yID0gcmVtMiAqIDEwICUgZDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBnY2QoYSwgYikge1xuXG4gICAgaWYgKCFhKVxuICAgICAgcmV0dXJuIGI7XG4gICAgaWYgKCFiKVxuICAgICAgcmV0dXJuIGE7XG5cbiAgICB3aGlsZSAoMSkge1xuICAgICAgYSAlPSBiO1xuICAgICAgaWYgKCFhKVxuICAgICAgICByZXR1cm4gYjtcbiAgICAgIGIgJT0gYTtcbiAgICAgIGlmICghYilcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBNb2R1bGUgY29uc3RydWN0b3JcbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7bnVtYmVyfEZyYWN0aW9uPX0gYVxuICAgKiBAcGFyYW0ge251bWJlcj19IGJcbiAgICovXG4gIGZ1bmN0aW9uIEZyYWN0aW9uKGEsIGIpIHtcblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGcmFjdGlvbikpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oYSwgYik7XG4gICAgfVxuXG4gICAgcGFyc2UoYSwgYik7XG5cbiAgICBpZiAoRnJhY3Rpb25bJ1JFRFVDRSddKSB7XG4gICAgICBhID0gZ2NkKFBbXCJkXCJdLCBQW1wiblwiXSk7IC8vIEFidXNlIGFcbiAgICB9IGVsc2Uge1xuICAgICAgYSA9IDE7XG4gICAgfVxuXG4gICAgdGhpc1tcInNcIl0gPSBQW1wic1wiXTtcbiAgICB0aGlzW1wiblwiXSA9IFBbXCJuXCJdIC8gYTtcbiAgICB0aGlzW1wiZFwiXSA9IFBbXCJkXCJdIC8gYTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCb29sZWFuIGdsb2JhbCB2YXJpYWJsZSB0byBiZSBhYmxlIHRvIGRpc2FibGUgYXV0b21hdGljIHJlZHVjdGlvbiBvZiB0aGUgZnJhY3Rpb25cbiAgICpcbiAgICovXG4gIEZyYWN0aW9uWydSRURVQ0UnXSA9IDE7XG5cbiAgRnJhY3Rpb24ucHJvdG90eXBlID0ge1xuXG4gICAgXCJzXCI6IDEsXG4gICAgXCJuXCI6IDAsXG4gICAgXCJkXCI6IDEsXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhYnNvbHV0ZSB2YWx1ZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigtNCkuYWJzKCkgPT4gNFxuICAgICAqKi9cbiAgICBcImFic1wiOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih0aGlzW1wiblwiXSwgdGhpc1tcImRcIl0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnZlcnRzIHRoZSBzaWduIG9mIHRoZSBjdXJyZW50IGZyYWN0aW9uXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKC00KS5uZWcoKSA9PiA0XG4gICAgICoqL1xuICAgIFwibmVnXCI6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKC10aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdLCB0aGlzW1wiZFwiXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oe246IDIsIGQ6IDN9KS5hZGQoXCIxNC45XCIpID0+IDQ2NyAvIDMwXG4gICAgICoqL1xuICAgIFwiYWRkXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICAgICAgICB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdICogUFtcImRcIl0gKyBQW1wic1wiXSAqIHRoaXNbXCJkXCJdICogUFtcIm5cIl0sXG4gICAgICAgICAgICAgIHRoaXNbXCJkXCJdICogUFtcImRcIl1cbiAgICAgICAgICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3RzIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKHtuOiAyLCBkOiAzfSkuYWRkKFwiMTQuOVwiKSA9PiAtNDI3IC8gMzBcbiAgICAgKiovXG4gICAgXCJzdWJcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oXG4gICAgICAgICAgICAgIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSAtIFBbXCJzXCJdICogdGhpc1tcImRcIl0gKiBQW1wiblwiXSxcbiAgICAgICAgICAgICAgdGhpc1tcImRcIl0gKiBQW1wiZFwiXVxuICAgICAgICAgICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiLTE3LigzNDUpXCIpLm11bCgzKSA9PiA1Nzc2IC8gMTExXG4gICAgICoqL1xuICAgIFwibXVsXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICAgICAgICB0aGlzW1wic1wiXSAqIFBbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiblwiXSxcbiAgICAgICAgICAgICAgdGhpc1tcImRcIl0gKiBQW1wiZFwiXVxuICAgICAgICAgICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGVzIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiLTE3LigzNDUpXCIpLmludmVyc2UoKS5kaXYoMylcbiAgICAgKiovXG4gICAgXCJkaXZcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oXG4gICAgICAgICAgICAgIHRoaXNbXCJzXCJdICogUFtcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdLFxuICAgICAgICAgICAgICB0aGlzW1wiZFwiXSAqIFBbXCJuXCJdXG4gICAgICAgICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgYWN0dWFsIG9iamVjdFxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIi0xNy4oMzQ1KVwiKS5jbG9uZSgpXG4gICAgICoqL1xuICAgIFwiY2xvbmVcIjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHRoaXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBtb2R1bG8gb2YgdHdvIHJhdGlvbmFsIG51bWJlcnMgLSBhIG1vcmUgcHJlY2lzZSBmbW9kXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKCc0LigzKScpLm1vZChbNywgOF0pID0+ICgxMy8zKSAlICg3LzgpID0gKDUvNilcbiAgICAgKiovXG4gICAgXCJtb2RcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBpZiAoaXNOYU4odGhpc1snbiddKSB8fCBpc05hTih0aGlzWydkJ10pKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTmFOKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gJSB0aGlzW1wiZFwiXSwgMSk7XG4gICAgICB9XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgaWYgKDAgPT09IFBbXCJuXCJdICYmIDAgPT09IHRoaXNbXCJkXCJdKSB7XG4gICAgICAgIEZyYWN0aW9uKDAsIDApOyAvLyBUaHJvdyBEaXZpc2lvbkJ5WmVyb1xuICAgICAgfVxuXG4gICAgICAvKlxuICAgICAgICogRmlyc3Qgc2lsbHkgYXR0ZW1wdCwga2luZGEgc2xvd1xuICAgICAgICpcbiAgICAgICByZXR1cm4gdGhhdFtcInN1YlwiXSh7XG4gICAgICAgXCJuXCI6IG51bVtcIm5cIl0gKiBNYXRoLmZsb29yKCh0aGlzLm4gLyB0aGlzLmQpIC8gKG51bS5uIC8gbnVtLmQpKSxcbiAgICAgICBcImRcIjogbnVtW1wiZFwiXSxcbiAgICAgICBcInNcIjogdGhpc1tcInNcIl1cbiAgICAgICB9KTsqL1xuXG4gICAgICAvKlxuICAgICAgICogTmV3IGF0dGVtcHQ6IGExIC8gYjEgPSBhMiAvIGIyICogcSArIHJcbiAgICAgICAqID0+IGIyICogYTEgPSBhMiAqIGIxICogcSArIGIxICogYjIgKiByXG4gICAgICAgKiA9PiAoYjIgKiBhMSAlIGEyICogYjEpIC8gKGIxICogYjIpXG4gICAgICAgKi9cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oXG4gICAgICAgICAgICAgIHRoaXNbXCJzXCJdICogKFBbXCJkXCJdICogdGhpc1tcIm5cIl0pICUgKFBbXCJuXCJdICogdGhpc1tcImRcIl0pLFxuICAgICAgICAgICAgICBQW1wiZFwiXSAqIHRoaXNbXCJkXCJdXG4gICAgICAgICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGZyYWN0aW9uYWwgZ2NkIG9mIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDUsOCkuZ2NkKDMsNykgPT4gMS81NlxuICAgICAqL1xuICAgIFwiZ2NkXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG5cbiAgICAgIC8vIGdjZChhIC8gYiwgYyAvIGQpID0gZ2NkKGEsIGMpIC8gbGNtKGIsIGQpXG5cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oZ2NkKFBbXCJuXCJdLCB0aGlzW1wiblwiXSkgKiBnY2QoUFtcImRcIl0sIHRoaXNbXCJkXCJdKSwgUFtcImRcIl0gKiB0aGlzW1wiZFwiXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGZyYWN0aW9uYWwgbGNtIG9mIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDUsOCkubGNtKDMsNykgPT4gMTVcbiAgICAgKi9cbiAgICBcImxjbVwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuXG4gICAgICAvLyBsY20oYSAvIGIsIGMgLyBkKSA9IGxjbShhLCBjKSAvIGdjZChiLCBkKVxuXG4gICAgICBpZiAoUFtcIm5cIl0gPT09IDAgJiYgdGhpc1tcIm5cIl0gPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oUFtcIm5cIl0gKiB0aGlzW1wiblwiXSwgZ2NkKFBbXCJuXCJdLCB0aGlzW1wiblwiXSkgKiBnY2QoUFtcImRcIl0sIHRoaXNbXCJkXCJdKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGNlaWwgb2YgYSByYXRpb25hbCBudW1iZXJcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oJzQuKDMpJykuY2VpbCgpID0+ICg1IC8gMSlcbiAgICAgKiovXG4gICAgXCJjZWlsXCI6IGZ1bmN0aW9uKHBsYWNlcykge1xuXG4gICAgICBwbGFjZXMgPSBNYXRoLnBvdygxMCwgcGxhY2VzIHx8IDApO1xuXG4gICAgICBpZiAoaXNOYU4odGhpc1tcIm5cIl0pIHx8IGlzTmFOKHRoaXNbXCJkXCJdKSkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE5hTik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE1hdGguY2VpbChwbGFjZXMgKiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl0pLCBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBmbG9vciBvZiBhIHJhdGlvbmFsIG51bWJlclxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbignNC4oMyknKS5mbG9vcigpID0+ICg0IC8gMSlcbiAgICAgKiovXG4gICAgXCJmbG9vclwiOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbXCJuXCJdKSB8fCBpc05hTih0aGlzW1wiZFwiXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihOYU4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihNYXRoLmZsb29yKHBsYWNlcyAqIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gLyB0aGlzW1wiZFwiXSksIHBsYWNlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdW5kcyBhIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oJzQuKDMpJykucm91bmQoKSA9PiAoNCAvIDEpXG4gICAgICoqL1xuICAgIFwicm91bmRcIjogZnVuY3Rpb24ocGxhY2VzKSB7XG5cbiAgICAgIHBsYWNlcyA9IE1hdGgucG93KDEwLCBwbGFjZXMgfHwgMCk7XG5cbiAgICAgIGlmIChpc05hTih0aGlzW1wiblwiXSkgfHwgaXNOYU4odGhpc1tcImRcIl0pKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTmFOKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTWF0aC5yb3VuZChwbGFjZXMgKiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl0pLCBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnZlcnNlIG9mIHRoZSBmcmFjdGlvbiwgbWVhbnMgbnVtZXJhdG9yIGFuZCBkZW51bWVyYXRvciBhcmUgZXhjaGFuZ2VkXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFstMywgNF0pLmludmVyc2UoKSA9PiAtNCAvIDNcbiAgICAgKiovXG4gICAgXCJpbnZlcnNlXCI6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHRoaXNbXCJzXCJdICogdGhpc1tcImRcIl0sIHRoaXNbXCJuXCJdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZnJhY3Rpb24gdG8gc29tZSBpbnRlZ2VyIGV4cG9uZW50XG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKC0xLDIpLnBvdygtMykgPT4gLThcbiAgICAgKi9cbiAgICBcInBvd1wiOiBmdW5jdGlvbihtKSB7XG5cbiAgICAgIGlmIChtIDwgMCkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE1hdGgucG93KHRoaXNbJ3MnXSAqIHRoaXNbXCJkXCJdLCAtbSksIE1hdGgucG93KHRoaXNbXCJuXCJdLCAtbSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihNYXRoLnBvdyh0aGlzWydzJ10gKiB0aGlzW1wiblwiXSwgbSksIE1hdGgucG93KHRoaXNbXCJkXCJdLCBtKSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHR3byByYXRpb25hbCBudW1iZXJzIGFyZSB0aGUgc2FtZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigxOS42KS5lcXVhbHMoWzk4LCA1XSk7XG4gICAgICoqL1xuICAgIFwiZXF1YWxzXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdID09PSBQW1wic1wiXSAqIFBbXCJuXCJdICogdGhpc1tcImRcIl07IC8vIFNhbWUgYXMgY29tcGFyZSgpID09PSAwXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHR3byByYXRpb25hbCBudW1iZXJzIGFyZSB0aGUgc2FtZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigxOS42KS5lcXVhbHMoWzk4LCA1XSk7XG4gICAgICoqL1xuICAgIFwiY29tcGFyZVwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgdmFyIHQgPSAodGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdIC0gUFtcInNcIl0gKiBQW1wiblwiXSAqIHRoaXNbXCJkXCJdKTtcbiAgICAgIHJldHVybiAoMCA8IHQpIC0gKHQgPCAwKTtcbiAgICB9LFxuXG4gICAgXCJzaW1wbGlmeVwiOiBmdW5jdGlvbihlcHMpIHtcblxuICAgICAgLy8gRmlyc3QgbmFpdmUgaW1wbGVtZW50YXRpb24sIG5lZWRzIGltcHJvdmVtZW50XG5cbiAgICAgIGlmIChpc05hTih0aGlzWyduJ10pIHx8IGlzTmFOKHRoaXNbJ2QnXSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ID0gdGhpc1snYWJzJ10oKVsndG9Db250aW51ZWQnXSgpO1xuXG4gICAgICBlcHMgPSBlcHMgfHwgMC4wMDE7XG5cbiAgICAgIGZ1bmN0aW9uIHJlYyhhKSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKGFbMF0pO1xuICAgICAgICByZXR1cm4gcmVjKGEuc2xpY2UoMSkpWydpbnZlcnNlJ10oKVsnYWRkJ10oYVswXSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdG1wID0gcmVjKGNvbnQuc2xpY2UoMCwgaSArIDEpKTtcbiAgICAgICAgaWYgKHRtcFsnc3ViJ10odGhpc1snYWJzJ10oKSlbJ2FicyddKCkudmFsdWVPZigpIDwgZXBzKSB7XG4gICAgICAgICAgcmV0dXJuIHRtcFsnbXVsJ10odGhpc1sncyddKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHR3byByYXRpb25hbCBudW1iZXJzIGFyZSBkaXZpc2libGVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oMTkuNikuZGl2aXNpYmxlKDEuNSk7XG4gICAgICovXG4gICAgXCJkaXZpc2libGVcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiAhKCEoUFtcIm5cIl0gKiB0aGlzW1wiZFwiXSkgfHwgKCh0aGlzW1wiblwiXSAqIFBbXCJkXCJdKSAlIChQW1wiblwiXSAqIHRoaXNbXCJkXCJdKSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgZGVjaW1hbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgZnJhY3Rpb25cbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxMDAuJzkxODIzJ1wiKS52YWx1ZU9mKCkgPT4gMTAwLjkxODIzOTE4MjM5MTgzXG4gICAgICoqL1xuICAgICd2YWx1ZU9mJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmctZnJhY3Rpb24gcmVwcmVzZW50YXRpb24gb2YgYSBGcmFjdGlvbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxLiczJ1wiKS50b0ZyYWN0aW9uKCkgPT4gXCI0IDEvM1wiXG4gICAgICoqL1xuICAgICd0b0ZyYWN0aW9uJzogZnVuY3Rpb24oZXhjbHVkZVdob2xlKSB7XG5cbiAgICAgIHZhciB3aG9sZSwgc3RyID0gXCJcIjtcbiAgICAgIHZhciBuID0gdGhpc1tcIm5cIl07XG4gICAgICB2YXIgZCA9IHRoaXNbXCJkXCJdO1xuICAgICAgaWYgKHRoaXNbXCJzXCJdIDwgMCkge1xuICAgICAgICBzdHIgKz0gJy0nO1xuICAgICAgfVxuXG4gICAgICBpZiAoZCA9PT0gMSkge1xuICAgICAgICBzdHIgKz0gbjtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgaWYgKGV4Y2x1ZGVXaG9sZSAmJiAod2hvbGUgPSBNYXRoLmZsb29yKG4gLyBkKSkgPiAwKSB7XG4gICAgICAgICAgc3RyICs9IHdob2xlO1xuICAgICAgICAgIHN0ciArPSBcIiBcIjtcbiAgICAgICAgICBuICU9IGQ7XG4gICAgICAgIH1cblxuICAgICAgICBzdHIgKz0gbjtcbiAgICAgICAgc3RyICs9ICcvJztcbiAgICAgICAgc3RyICs9IGQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGF0ZXggcmVwcmVzZW50YXRpb24gb2YgYSBGcmFjdGlvbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxLiczJ1wiKS50b0xhdGV4KCkgPT4gXCJcXGZyYWN7NH17M31cIlxuICAgICAqKi9cbiAgICAndG9MYXRleCc6IGZ1bmN0aW9uKGV4Y2x1ZGVXaG9sZSkge1xuXG4gICAgICB2YXIgd2hvbGUsIHN0ciA9IFwiXCI7XG4gICAgICB2YXIgbiA9IHRoaXNbXCJuXCJdO1xuICAgICAgdmFyIGQgPSB0aGlzW1wiZFwiXTtcbiAgICAgIGlmICh0aGlzW1wic1wiXSA8IDApIHtcbiAgICAgICAgc3RyICs9ICctJztcbiAgICAgIH1cblxuICAgICAgaWYgKGQgPT09IDEpIHtcbiAgICAgICAgc3RyICs9IG47XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIGlmIChleGNsdWRlV2hvbGUgJiYgKHdob2xlID0gTWF0aC5mbG9vcihuIC8gZCkpID4gMCkge1xuICAgICAgICAgIHN0ciArPSB3aG9sZTtcbiAgICAgICAgICBuICU9IGQ7XG4gICAgICAgIH1cblxuICAgICAgICBzdHIgKz0gXCJcXFxcZnJhY3tcIjtcbiAgICAgICAgc3RyICs9IG47XG4gICAgICAgIHN0ciArPSAnfXsnO1xuICAgICAgICBzdHIgKz0gZDtcbiAgICAgICAgc3RyICs9ICd9JztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgY29udGludWVkIGZyYWN0aW9uIGVsZW1lbnRzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiNy84XCIpLnRvQ29udGludWVkKCkgPT4gWzAsMSw3XVxuICAgICAqL1xuICAgICd0b0NvbnRpbnVlZCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgdDtcbiAgICAgIHZhciBhID0gdGhpc1snbiddO1xuICAgICAgdmFyIGIgPSB0aGlzWydkJ107XG4gICAgICB2YXIgcmVzID0gW107XG5cbiAgICAgIGlmIChpc05hTih0aGlzWyduJ10pIHx8IGlzTmFOKHRoaXNbJ2QnXSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH1cblxuICAgICAgZG8ge1xuICAgICAgICByZXMucHVzaChNYXRoLmZsb29yKGEgLyBiKSk7XG4gICAgICAgIHQgPSBhICUgYjtcbiAgICAgICAgYSA9IGI7XG4gICAgICAgIGIgPSB0O1xuICAgICAgfSB3aGlsZSAoYSAhPT0gMSk7XG5cbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBmcmFjdGlvbiB3aXRoIGFsbCBkaWdpdHNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxMDAuJzkxODIzJ1wiKS50b1N0cmluZygpID0+IFwiMTAwLig5MTgyMylcIlxuICAgICAqKi9cbiAgICAndG9TdHJpbmcnOiBmdW5jdGlvbihkZWMpIHtcblxuICAgICAgdmFyIGc7XG4gICAgICB2YXIgTiA9IHRoaXNbXCJuXCJdO1xuICAgICAgdmFyIEQgPSB0aGlzW1wiZFwiXTtcblxuICAgICAgaWYgKGlzTmFOKE4pIHx8IGlzTmFOKEQpKSB7XG4gICAgICAgIHJldHVybiBcIk5hTlwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoIUZyYWN0aW9uWydSRURVQ0UnXSkge1xuICAgICAgICBnID0gZ2NkKE4sIEQpO1xuICAgICAgICBOIC89IGc7XG4gICAgICAgIEQgLz0gZztcbiAgICAgIH1cblxuICAgICAgZGVjID0gZGVjIHx8IDE1OyAvLyAxNSA9IGRlY2ltYWwgcGxhY2VzIHdoZW4gbm8gcmVwaXRhdGlvblxuXG4gICAgICB2YXIgY3ljTGVuID0gY3ljbGVMZW4oTiwgRCk7IC8vIEN5Y2xlIGxlbmd0aFxuICAgICAgdmFyIGN5Y09mZiA9IGN5Y2xlU3RhcnQoTiwgRCwgY3ljTGVuKTsgLy8gQ3ljbGUgc3RhcnRcblxuICAgICAgdmFyIHN0ciA9IHRoaXNbJ3MnXSA9PT0gLTEgPyBcIi1cIiA6IFwiXCI7XG5cbiAgICAgIHN0ciArPSBOIC8gRCB8IDA7XG5cbiAgICAgIE4gJT0gRDtcbiAgICAgIE4gKj0gMTA7XG5cbiAgICAgIGlmIChOKVxuICAgICAgICBzdHIgKz0gXCIuXCI7XG5cbiAgICAgIGlmIChjeWNMZW4pIHtcblxuICAgICAgICBmb3IgKHZhciBpID0gY3ljT2ZmOyBpLS07ICkge1xuICAgICAgICAgIHN0ciArPSBOIC8gRCB8IDA7XG4gICAgICAgICAgTiAlPSBEO1xuICAgICAgICAgIE4gKj0gMTA7XG4gICAgICAgIH1cbiAgICAgICAgc3RyICs9IFwiKFwiO1xuICAgICAgICBmb3IgKHZhciBpID0gY3ljTGVuOyBpLS07ICkge1xuICAgICAgICAgIHN0ciArPSBOIC8gRCB8IDA7XG4gICAgICAgICAgTiAlPSBEO1xuICAgICAgICAgIE4gKj0gMTA7XG4gICAgICAgIH1cbiAgICAgICAgc3RyICs9IFwiKVwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IGRlYzsgTiAmJiBpLS07ICkge1xuICAgICAgICAgIHN0ciArPSBOIC8gRCB8IDA7XG4gICAgICAgICAgTiAlPSBEO1xuICAgICAgICAgIE4gKj0gMTA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICB9O1xuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lW1wiYW1kXCJdKSB7XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBGcmFjdGlvbjtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyd2YWx1ZSc6IHRydWV9KTtcbiAgICBGcmFjdGlvblsnZGVmYXVsdCddID0gRnJhY3Rpb247XG4gICAgRnJhY3Rpb25bJ0ZyYWN0aW9uJ10gPSBGcmFjdGlvbjtcbiAgICBtb2R1bGVbJ2V4cG9ydHMnXSA9IEZyYWN0aW9uO1xuICB9IGVsc2Uge1xuICAgIHJvb3RbJ0ZyYWN0aW9uJ10gPSBGcmFjdGlvbjtcbiAgfVxuXG59KSh0aGlzKTtcbiIsIi8qKlxuICogQklESVJFQ1RJT05BTCBNQVBcbiAqXG4gKiBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL1Rob21hc1Jvb25leS90eXBlZC1iaS1kaXJlY3Rpb25hbC1tYXBcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQmltYXA8SywgVj4gZXh0ZW5kcyBNYXA8SywgVj4ge1xuICByZWFkb25seSBzaXplOiBudW1iZXI7IC8vIHJldHVybnMgdGhlIHRvdGFsIG51bWJlciBvZiBlbGVtZW50c1xuICBnZXQ6IChrZXk6IEspID0+IFYgfCB1bmRlZmluZWQ7IC8vIHJldHVybnMgYSBzcGVjaWZpZWQgZWxlbWVudFxuICBnZXRLZXk6ICh2YWx1ZTogVikgPT4gSyB8IEtbXSB8IHVuZGVmaW5lZDsgLy8gcmV0dXJucyBhIHNwZWNpZmllZCBlbGVtZW50XG4gIGdldFZhbHVlOiAoa2V5OiBLKSA9PiBWIHwgdW5kZWZpbmVkOyAvLyByZXR1cm5zIGEgc3BlY2lmaWVkIGVsZW1lbnRcbiAgc2V0OiAoa2V5OiBLLCB2YWx1ZTogVikgPT4gdGhpczsgLy8gYWRkcyBvciB1cGRhdGVzIHRoZSB2YWx1ZSBvZiBhbiBlbGVtZW50IGxvb2tlZCB1cCB2aWEgdGhlIHNwZWNpZmllZCBrZXlcbiAgc2V0VmFsdWU6IChrZXk6IEssIHZhbHVlOiBWKSA9PiB0aGlzOyAvLyBhZGRzIG9yIHVwZGF0ZXMgdGhlIGtleSBvZiBhbiBlbGVtZW50IGxvb2tlZCB1cCB2aWEgdGhlIHNwZWNpZmllZCB2YWx1ZVxuICBzZXRLZXk6ICh2YWx1ZTogViwga2V5OiBLKSA9PiB0aGlzOyAvLyBhZGRzIG9yIHVwZGF0ZXMgdGhlIHZhbHVlIG9mIGFuIGVsZW1lbnQgbG9va2VkIHVwIHZpYSB0aGUgc3BlY2lmaWVkIGtleVxuICBjbGVhcjogKCkgPT4gdm9pZDsgLy8gcmVtb3ZlcyBhbGwgZWxlbWVudHNcbiAgZGVsZXRlOiAoa2V5OiBLKSA9PiBib29sZWFuOyAvLyBSZXR1cm5zIHRydWUgaWYgYW4gZWxlbWVudCBleGlzdGVkIGFuZCBoYXMgYmVlbiByZW1vdmVkLCBvciBmYWxzZSBpZiB0aGUgZWxlbWVudCBkb2VzIG5vdCBleGlzdC5cbiAgZGVsZXRlS2V5OiAoa2V5OiBLKSA9PiBib29sZWFuOyAvLyBSZXR1cm5zIHRydWUgaWYgYW4gZWxlbWVudCBleGlzdGVkIGFuZCBoYXMgYmVlbiByZW1vdmVkLCBvciBmYWxzZSBpZiB0aGUgZWxlbWVudCBkb2VzIG5vdCBleGlzdC5cbiAgZGVsZXRlVmFsdWU6ICh2YWx1ZTogVikgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgZXhpc3RlZCBhbmQgaGFzIGJlZW4gcmVtb3ZlZCwgb3IgZmFsc2UgaWYgdGhlIGVsZW1lbnQgZG9lcyBub3QgZXhpc3QuXG4gIGZvckVhY2g6IChcbiAgICBjYWxsYmFja2ZuOiAodmFsdWU6IFYsIGtleTogSywgbWFwOiBJQmltYXA8SywgVj4pID0+IHZvaWQsXG4gICAgdGhpc0FyZz86IGFueVxuICApID0+IHZvaWQ7IC8vIGV4ZWN1dGVzIHRoZSBwcm92aWRlZCBjYWxsYmFjayBvbmNlIGZvciBlYWNoIGtleSBvZiB0aGUgbWFwXG4gIGhhczogKGtleTogSykgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGtleSBleGlzdHM7IG90aGVyd2lzZSBmYWxzZS5cbiAgaGFzS2V5OiAoa2V5OiBLKSA9PiBib29sZWFuOyAvLyBSZXR1cm5zIHRydWUgaWYgYW4gZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWQga2V5IGV4aXN0czsgb3RoZXJ3aXNlIGZhbHNlLlxuICBoYXNWYWx1ZTogKHZhbHVlOiBWKSA9PiBib29sZWFuOyAvLyBSZXR1cm5zIHRydWUgaWYgYW4gZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgdmFsdWUgZXhpc3RzOyBvdGhlcndpc2UgZmFsc2UuXG4gIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnTWFwJzsgLy8gQW55dGhpbmcgaW1wbGVtZW50aW5nIE1hcCBtdXN0IGFsd2F5cyBoYXZlIHRvU3RyaW5nVGFnIGRlY2xhcmVkIHRvIGJlICdNYXAnLiBJIGNvbnNpZGVyIHRoaXMgYSBsaXR0bGUgc2lsbHkuXG4gIGluc3BlY3Q6ICgpID0+IHN0cmluZzsgLy8gQSB1dGlsaXR5IGZ1bmN0aW9uIHRvIGluc3BlY3QgY3VycmVudCBjb250ZW50cyBhcyBhIHN0cmluZ1xufVxuXG4vKipcbiAqIEJpbWFwIHdpdGhvdXQgZHVwbGljYXRlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJpbWFwPEssIFY+IGltcGxlbWVudHMgSUJpbWFwPEssIFY+IHtcbiAgcHJvdGVjdGVkIGtleVZhbHVlTWFwOiBNYXA8SywgVj4gPSBuZXcgTWFwPEssIFY+KCk7XG4gIHByb3RlY3RlZCB2YWx1ZUtleU1hcDogTWFwPFYsIEs+ID0gbmV3IE1hcDxWLCBLPigpO1xuXG4gIGdldCBzaXplKCkge1xuICAgIHJldHVybiB0aGlzLmtleVZhbHVlTWFwLnNpemU7XG4gIH1cblxuICAvKiB0c2xpbnQ6ZGlzYWJsZSBtZW1iZXItb3JkZXJpbmcgKi9cbiAgcHVibGljIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnTWFwJztcbiAgcHVibGljIFtTeW1ib2wuaXRlcmF0b3JdOiAoKSA9PiBJdGVyYWJsZUl0ZXJhdG9yPFtLLCBWXT4gPSB0aGlzLmtleVZhbHVlTWFwW1N5bWJvbC5pdGVyYXRvcl07XG4gIC8qIHRzbGludDplbmFibGUgKi9cblxuICBwdWJsaWMgZW50cmllcyA9ICgpID0+IHRoaXMua2V5VmFsdWVNYXAuZW50cmllcygpO1xuICBwdWJsaWMga2V5cyA9ICgpID0+IHRoaXMua2V5VmFsdWVNYXAua2V5cygpO1xuICBwdWJsaWMgdmFsdWVzID0gKCkgPT4gdGhpcy5rZXlWYWx1ZU1hcC52YWx1ZXMoKTtcblxuICBwdWJsaWMgZ2V0ID0gKGE6IEspOiBWIHwgdW5kZWZpbmVkID0+IHRoaXMua2V5VmFsdWVNYXAuZ2V0KGEpO1xuICBwdWJsaWMgZ2V0S2V5ID0gKGI6IFYpOiBLIHwgdW5kZWZpbmVkID0+IHRoaXMudmFsdWVLZXlNYXAuZ2V0KGIpO1xuICBwdWJsaWMgZ2V0VmFsdWUgPSAoYTogSyk6IFYgfCB1bmRlZmluZWQgPT4gdGhpcy5nZXQoYSk7XG4gIHB1YmxpYyBzZXQgPSAoa2V5OiBLLCB2YWx1ZTogVikgPT4ge1xuICAgIC8vIE1ha2Ugc3VyZSBubyBkdXBsaWNhdGVzLiBPdXIgY29uZmxpY3Qgc2NlbmFyaW8gaXMgaGFuZGxlZCBieSBkZWxldGluZyBwb3RlbnRpYWwgZHVwbGljYXRlcywgaW4gZmF2b3VyIG9mIHRoZSBjdXJyZW50IGFyZ3VtZW50c1xuICAgIHRoaXMuZGVsZXRlKGtleSk7XG4gICAgdGhpcy5kZWxldGVWYWx1ZSh2YWx1ZSk7XG5cbiAgICB0aGlzLmtleVZhbHVlTWFwLnNldChrZXksIHZhbHVlKTtcbiAgICB0aGlzLnZhbHVlS2V5TWFwLnNldCh2YWx1ZSwga2V5KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBwdWJsaWMgc2V0S2V5ID0gKHZhbHVlOiBWLCBrZXk6IEspID0+IHRoaXMuc2V0KGtleSwgdmFsdWUpO1xuICBwdWJsaWMgc2V0VmFsdWUgPSAoa2V5OiBLLCB2YWx1ZTogVikgPT4gdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XG4gIHB1YmxpYyBjbGVhciA9ICgpID0+IHtcbiAgICB0aGlzLmtleVZhbHVlTWFwLmNsZWFyKCk7XG4gICAgdGhpcy52YWx1ZUtleU1hcC5jbGVhcigpO1xuICB9O1xuICBwdWJsaWMgZGVsZXRlID0gKGtleTogSykgPT4ge1xuICAgIGlmICh0aGlzLmhhcyhrZXkpKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMua2V5VmFsdWVNYXAuZ2V0KGtleSkgYXMgVjtcbiAgICAgIHRoaXMua2V5VmFsdWVNYXAuZGVsZXRlKGtleSk7XG4gICAgICB0aGlzLnZhbHVlS2V5TWFwLmRlbGV0ZSh2YWx1ZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBwdWJsaWMgZGVsZXRlS2V5ID0gKGtleTogSykgPT4gdGhpcy5kZWxldGUoa2V5KTtcbiAgcHVibGljIGRlbGV0ZVZhbHVlID0gKHZhbHVlOiBWKSA9PiB7XG4gICAgaWYgKHRoaXMuaGFzVmFsdWUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWxldGUodGhpcy52YWx1ZUtleU1hcC5nZXQodmFsdWUpIGFzIEspO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIHB1YmxpYyBmb3JFYWNoID0gKFxuICAgIGNhbGxiYWNrZm46ICh2YWx1ZTogViwga2V5OiBLLCBtYXA6IElCaW1hcDxLLCBWPikgPT4gdm9pZCxcbiAgICB0aGlzQXJnPzogYW55XG4gICkgPT4ge1xuICAgIHRoaXMua2V5VmFsdWVNYXAuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgY2FsbGJhY2tmbi5hcHBseSh0aGlzQXJnLCBbdmFsdWUsIGtleSwgdGhpc10pO1xuICAgIH0pO1xuICB9O1xuICBwdWJsaWMgaGFzID0gKGtleTogSykgPT4gdGhpcy5rZXlWYWx1ZU1hcC5oYXMoa2V5KTtcbiAgcHVibGljIGhhc0tleSA9IChrZXk6IEspID0+IHRoaXMuaGFzKGtleSk7XG4gIHB1YmxpYyBoYXNWYWx1ZSA9ICh2YWx1ZTogVikgPT4gdGhpcy52YWx1ZUtleU1hcC5oYXModmFsdWUpO1xuICBwdWJsaWMgaW5zcGVjdCA9ICgpID0+IHtcbiAgICBsZXQgc3RyID0gJ0JpbWFwIHsnO1xuICAgIGxldCBlbnRyeSA9IDA7XG4gICAgdGhpcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICBlbnRyeSsrO1xuICAgICAgc3RyICs9ICcnICsga2V5LnRvU3RyaW5nKCkgKyAnID0+ICcgKyB2YWx1ZS50b1N0cmluZygpICsgJyc7XG4gICAgICBpZiAoZW50cnkgPCB0aGlzLnNpemUpIHtcbiAgICAgICAgc3RyICs9ICcsICc7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc3RyICs9ICd9JztcbiAgICByZXR1cm4gc3RyO1xuICB9O1xufVxuXG4vKipcbiAqIEJpbWFwIHdpdGggbXVsdGlwbGUgdmFsdWVzIHBlciBrZXkuXG4gKi9cbmV4cG9ydCBjbGFzcyBNdWx0aW1hcDxLLCBWPiBpbXBsZW1lbnRzIElCaW1hcDxLLCBWPiB7XG4gIHByb3RlY3RlZCBrZXlWYWx1ZU1hcDogTWFwPEssIFY+ID0gbmV3IE1hcDxLLCBWPigpO1xuICBwcm90ZWN0ZWQgdmFsdWVLZXlNYXA6IE1hcDxWLCBLW10+ID0gbmV3IE1hcDxWLCBLW10+KCk7XG5cbiAgZ2V0IHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMua2V5VmFsdWVNYXAuc2l6ZTtcbiAgfVxuXG4gIC8qIHRzbGludDpkaXNhYmxlIG1lbWJlci1vcmRlcmluZyAqL1xuICBwdWJsaWMgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdNYXAnO1xuICBwdWJsaWMgW1N5bWJvbC5pdGVyYXRvcl06ICgpID0+IEl0ZXJhYmxlSXRlcmF0b3I8W0ssIFZdPiA9IHRoaXMua2V5VmFsdWVNYXBbU3ltYm9sLml0ZXJhdG9yXTtcbiAgLyogdHNsaW50OmVuYWJsZSAqL1xuXG4gIHB1YmxpYyBlbnRyaWVzID0gKCkgPT4gdGhpcy5rZXlWYWx1ZU1hcC5lbnRyaWVzKCk7XG4gIHB1YmxpYyBrZXlzID0gKCkgPT4gdGhpcy5rZXlWYWx1ZU1hcC5rZXlzKCk7XG4gIHB1YmxpYyB2YWx1ZXMgPSAoKSA9PiB0aGlzLmtleVZhbHVlTWFwLnZhbHVlcygpO1xuXG4gIHB1YmxpYyBnZXQgPSAoYTogSyk6IFYgfCB1bmRlZmluZWQgPT4gdGhpcy5rZXlWYWx1ZU1hcC5nZXQoYSk7XG4gIHB1YmxpYyBnZXRLZXkgPSAoYjogVik6IEtbXSB8IHVuZGVmaW5lZCA9PiB0aGlzLnZhbHVlS2V5TWFwLmdldChiKTtcbiAgcHVibGljIGdldFZhbHVlID0gKGE6IEspOiBWIHwgdW5kZWZpbmVkID0+IHRoaXMuZ2V0KGEpO1xuICBwdWJsaWMgc2V0ID0gKGtleTogSywgdmFsdWU6IFYpID0+IHtcbiAgICB0aGlzLmRlbGV0ZShrZXkpO1xuICAgIHRoaXMua2V5VmFsdWVNYXAuc2V0KGtleSwgdmFsdWUpO1xuXG4gICAgY29uc3Qga2V5cyA9IHRoaXMudmFsdWVLZXlNYXAuZ2V0KHZhbHVlKSB8fCBbXTtcbiAgICB0aGlzLnZhbHVlS2V5TWFwLnNldCh2YWx1ZSwgWy4uLmtleXMsIGtleV0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHB1YmxpYyBzZXRLZXkgPSAodmFsdWU6IFYsIGtleTogSykgPT4gdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XG4gIHB1YmxpYyBzZXRWYWx1ZSA9IChrZXk6IEssIHZhbHVlOiBWKSA9PiB0aGlzLnNldChrZXksIHZhbHVlKTtcbiAgcHVibGljIGNsZWFyID0gKCkgPT4ge1xuICAgIHRoaXMua2V5VmFsdWVNYXAuY2xlYXIoKTtcbiAgICB0aGlzLnZhbHVlS2V5TWFwLmNsZWFyKCk7XG4gIH07XG4gIHB1YmxpYyBkZWxldGUgPSAoa2V5OiBLKSA9PiB7XG4gICAgaWYgKHRoaXMuaGFzKGtleSkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5rZXlWYWx1ZU1hcC5nZXQoa2V5KSBhcyBWO1xuICAgICAgdGhpcy5rZXlWYWx1ZU1hcC5kZWxldGUoa2V5KTtcbiAgICAgIGNvbnN0IGtleXMgPSB0aGlzLnZhbHVlS2V5TWFwLmdldCh2YWx1ZSkuZmlsdGVyKGsgPT4gayAhPT0ga2V5KTtcbiAgICAgIGlmIChrZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy52YWx1ZUtleU1hcC5zZXQodmFsdWUsIGtleXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy52YWx1ZUtleU1hcC5kZWxldGUodmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgcHVibGljIGRlbGV0ZUtleSA9IChrZXk6IEspID0+IHRoaXMuZGVsZXRlKGtleSk7XG4gIHB1YmxpYyBkZWxldGVWYWx1ZSA9ICh2YWx1ZTogVikgPT4ge1xuICAgIGlmICh0aGlzLmhhc1ZhbHVlKHZhbHVlKSkge1xuICAgICAgdGhpcy52YWx1ZUtleU1hcC5nZXQodmFsdWUpLmZvckVhY2goa2V5ID0+IHsgdGhpcy5kZWxldGUoa2V5KTsgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBwdWJsaWMgZm9yRWFjaCA9IChcbiAgICBjYWxsYmFja2ZuOiAodmFsdWU6IFYsIGtleTogSywgbWFwOiBJQmltYXA8SywgVj4pID0+IHZvaWQsXG4gICAgdGhpc0FyZz86IGFueVxuICApID0+IHtcbiAgICB0aGlzLmtleVZhbHVlTWFwLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIGNhbGxiYWNrZm4uYXBwbHkodGhpc0FyZywgW3ZhbHVlLCBrZXksIHRoaXNdKTtcbiAgICB9KTtcbiAgfTtcbiAgcHVibGljIGhhcyA9IChrZXk6IEspID0+IHRoaXMua2V5VmFsdWVNYXAuaGFzKGtleSk7XG4gIHB1YmxpYyBoYXNLZXkgPSAoa2V5OiBLKSA9PiB0aGlzLmhhcyhrZXkpO1xuICBwdWJsaWMgaGFzVmFsdWUgPSAodmFsdWU6IFYpID0+IHRoaXMudmFsdWVLZXlNYXAuaGFzKHZhbHVlKTtcbiAgcHVibGljIGluc3BlY3QgPSAoKSA9PiB7XG4gICAgbGV0IHN0ciA9ICdNdWx0aW1hcCB7JztcbiAgICBsZXQgZW50cnkgPSAwO1xuICAgIHRoaXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgZW50cnkrKztcbiAgICAgIHN0ciArPSAnJyArIGtleS50b1N0cmluZygpICsgJyA9PiAnICsgdmFsdWUudG9TdHJpbmcoKSArICcnO1xuICAgICAgaWYgKGVudHJ5IDwgdGhpcy5zaXplKSB7XG4gICAgICAgIHN0ciArPSAnLCAnO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHN0ciArPSAnfSc7XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbn1cbiIsImltcG9ydCBGcmFjdGlvbiBmcm9tICdmcmFjdGlvbi5qcyc7XG5cbmV4cG9ydCBuYW1lc3BhY2UgSGVscGVycyB7XG4gIC8qKlxuICAgKiBFc2NhcGUgYSBzdHJpbmcgdG8gYmUgdXNlZCBpbiByZWd1bGFyIGV4cHJlc3Npb24uXG4gICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvR3VpZGUvUmVndWxhcl9FeHByZXNzaW9uc1xuICAgKlxuICAgKiBAcGFyYW0gc3RyOiBzdHJpbmcgdG8gZXNjYXBlXG4gICAqIEByZXR1cm5zIGVzY2FwZWQsIFJlZ0V4cC1yZWFkeSBzdHJpbmdcbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKTsgLy8gJCYgbWVhbnMgdGhlIHdob2xlIG1hdGNoZWQgc3RyaW5nXG4gIH1cblxuICAvKipcbiAgICogR2V0IHByaW1lcyB1cCB0byBhIGdpdmVuIGludGVnZXIuXG4gICAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMjI4NzU5OS8yMDkxODRcbiAgICogVXNlcyB0aGUgU2lldmUgb2YgRXJhdG9zdGhlbmVzIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NpZXZlX29mX0VyYXRvc3RoZW5lc1xuICAgKlxuICAgKiBAcGFyYW0gbWF4OiBudW1iZXIgdG8gcmVhY2hcbiAgICogQHJldHVybnMgYWxsIHByaW1lcyB1cCB0byBtYXhcbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBwcmltZXMobWF4OiBudW1iZXIpOiBudW1iZXJbXSB7XG4gICAgY29uc3Qgc2lldmU6IGJvb2xlYW5bXSA9IFtdLCBwcmltZXM6IG51bWJlcltdID0gW107XG4gICAgZm9yIChsZXQgaSA9IDI7IGkgPD0gbWF4OyArK2kpIHtcbiAgICAgIGlmICghc2lldmVbaV0pIHtcbiAgICAgICAgLy8gaSBoYXMgbm90IGJlZW4gbWFya2VkIC0tIGl0IGlzIHByaW1lXG4gICAgICAgIHByaW1lcy5wdXNoKGkpO1xuICAgICAgICBmb3IgKGxldCBqID0gaSA8PCAxOyBqIDw9IG1heDsgaiArPSBpKSB7XG4gICAgICAgICAgIHNpZXZlW2pdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJpbWVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuc3VyZSBhIHxmcmFjdGlvbnwgPCAxIG9yID4gMS5cbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBmbGlwRnJhY3Rpb24oZjogRnJhY3Rpb24sIGdyZWF0ZXJUaGFuT25lOiBib29sZWFuID0gZmFsc2UpOiBGcmFjdGlvbiB7XG4gICAgcmV0dXJuIGdyZWF0ZXJUaGFuT25lID9cbiAgICAgIChmLmFicygpLmNvbXBhcmUoMSkgPCAwID8gZi5pbnZlcnNlKCkgOiBmKSA6XG4gICAgICAoZi5hYnMoKS5jb21wYXJlKDEpID4gMCA/IGYuaW52ZXJzZSgpIDogZikgO1xuICB9XG5cbiAgLyoqXG4gICAqIEJpbmFyeSBzZWFyY2ggaW4gYW4gYXJyYXkuXG4gICAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yOTAxODc0NS8yMDkxODRcbiAgICpcbiAgICogQHBhcmFtIGFyOiBlbGVtZW50cyBhcnJheSB0aGF0IGlzIHNvcnRlZFxuICAgKiBAcGFyYW0gZWw6IHRhcmdldCBlbGVtZW50XG4gICAqIEBwYXJhbSBjb21wOiBjb21wYXJpc29uIGZ1bmN0aW9uIChhLGIpID0+IG4gd2l0aFxuICAgKiAgICAgICAgbiA+IDAgaWYgYSA+IGJcbiAgICogICAgICAgIG4gPCAwIGlmIGEgPCBiXG4gICAqICAgICAgICBuID0gMCBpZiBhID0gYlxuICAgKiBAcmV0dXJucyBpbmRleCBtID49IDAgaWYgbWF0Y2ggaXMgZm91bmQsIG0gPCAwIGlmIG5vdCBmb3VuZCB3aXRoIGluc2VydGlvbiBwb2ludCA9IC1tLTEuXG4gICAqL1xuICBleHBvcnQgZnVuY3Rpb24gYmluYXJ5U2VhcmNoPFQ+KGFyOiBBcnJheTxUPiwgZWw6IFQsIGNvbXA6IChhOiBULCBiOiBUKSA9PiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCBtID0gMDtcbiAgICBsZXQgbiA9IGFyLmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKG0gPD0gbikge1xuICAgICAgY29uc3QgayA9IChuICsgbSkgPj4gMTtcbiAgICAgIGNvbnN0IGNtcCA9IGNvbXAoZWwsIGFyW2tdKTtcbiAgICAgIGlmIChjbXAgPiAwKSB7XG4gICAgICAgIG0gPSBrICsgMTtcbiAgICAgIH0gZWxzZSBpZiAoY21wIDwgMCkge1xuICAgICAgICBuID0gayAtIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIH5tO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGFycmF5IGVxdWFsaXR5LlxuICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3EvNzgzNzQ1Ni8yMDkxODRcbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBhcnJheUVxdWFsPFQ+KGFyMTogQXJyYXk8VD4sIGFyMjogQXJyYXk8VD4sIGNvbXA6IChhOiBULCBiOiBUKSA9PiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgYXIxLmxlbmd0aCA9PT0gYXIyLmxlbmd0aCAmJlxuICAgICAgYXIxLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IGNvbXAodmFsdWUsIGFyMltpbmRleF0pID09PSAwKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGFycmF5IHdpdGggdW5pcXVlIHZhbHVlcy5cbiAgICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE3OTAzMDE4LzIwOTE4NFxuICAgKi9cbiAgZXhwb3J0IGZ1bmN0aW9uIGFycmF5VW5pcXVlPFQ+KGFyOiBBcnJheTxUPik6IEFycmF5PFQ+IHtcbiAgICByZXR1cm4gWy4uLm5ldyBTZXQoYXIpXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbHdheXMtcG9zaXRpdmUgTW9kdWxvIGZ1bmN0aW9uLiBUaGUgYnVpbHQtaW4gJSBvcGVyYXRvciBjb21wdXRlcyB0aGUgUmVtYWluZGVyLlxuICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvUmVtYWluZGVyXG4gICAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzMyMzYwOC8yMDkxODRcbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBtb2QobjogbnVtYmVyLCBtOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiAoKG4gJSBtKSArIG0pICUgbTtcbiAgfVxufVxuIiwiaW1wb3J0IEZyYWN0aW9uIGZyb20gJ2ZyYWN0aW9uLmpzJztcblxuLyoqXG4gKiBJTlRFUlZBTFNcbiAqXG4gKiBUaGUgaW50ZXJ2YWwgaXMgdGhlIGJhc2ljIGJ1aWxkaW5nIGJsb2NrIG9mIG11c2ljLlxuICogSXQgaXMgdGhlIGRpZmZlcmVuY2UgaW4gcGl0Y2ggYmV0d2VlbiB0d28gc291bmRzLlxuICpcbiAqIEl0IGNhbiBiZSByZXByZXNlbnRlZCBhczpcbiAqIC0gYSBmcmVxdWVuY3kgcmF0aW9cbiAqIC0gYSBudW1iZXIgb2YgY2VudHMgKDEvMTAwIG9mIGFuIGVxdWFsbHkgdGVtcGVyZWQgc2VtaXRvbmUpXG4gKiAtIGEgbnVtYmVyIG9mIHNhdmFydHMgKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NhdmFydClcbiAqIC0gLi4uYW5kIG1vcmVcbiAqXG4gKiBJdCBjYW4gYWxzbyBiZSBuYW1lZCwgZGVwZW5kaW5nIG9uIHRoZSBub21lbmNsYXR1cmUgYmVpbmcgdXNlZC5cbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnRlcnZhbCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByYXRpbzogRnJhY3Rpb24pIHt9XG4gIGdldCBjZW50cygpIHsgcmV0dXJuIDEyMDAgKiBNYXRoLmxvZzIodGhpcy5yYXRpby52YWx1ZU9mKCkpOyB9XG4gIGdldCBzYXZhcnRzKCkgeyByZXR1cm4gMTAwMCAqIE1hdGgubG9nMTAodGhpcy5yYXRpby52YWx1ZU9mKCkpOyB9XG4gIGRpZmZlcmVuY2UocmVmZXJlbmNlOiBJbnRlcnZhbCkgeyByZXR1cm4gbmV3IEludGVydmFsKHRoaXMucmF0aW8uZGl2KHJlZmVyZW5jZS5yYXRpbykpOyB9XG4gIHN0YXRpYyBmcm9tUmF0aW8ocmF0aW86IHN0cmluZykgeyByZXR1cm4gbmV3IEludGVydmFsKG5ldyBGcmFjdGlvbihyYXRpbykpOyB9XG4gIHN0YXRpYyBmcm9tQ2VudHMoY2VudHM6IG51bWJlcikgeyByZXR1cm4gbmV3IEludGVydmFsKG5ldyBGcmFjdGlvbihNYXRoLnBvdygyLCBjZW50cyAvIDEyMDApKSk7IH1cbiAgc3RhdGljIGZyb21TYXZhcnRzKHNhdmFydHM6IG51bWJlcikgeyByZXR1cm4gbmV3IEludGVydmFsKG5ldyBGcmFjdGlvbihNYXRoLnBvdygxMCwgc2F2YXJ0cyAvIDEwMDApKSk7IH1cbiAgc3RhdGljIGNvbXBhcmUoYTogSW50ZXJ2YWwsIGI6IEludGVydmFsKSB7IHJldHVybiBhLnJhdGlvLmNvbXBhcmUoYi5yYXRpbyk7IH1cbiAgc3RhdGljIEpORCA9IEludGVydmFsLmZyb21DZW50cyg1KTtcbn1cbiIsImltcG9ydCBGcmFjdGlvbiBmcm9tICdmcmFjdGlvbi5qcyc7XG5pbXBvcnQge0hlbHBlcnN9IGZyb20gJy4vSGVscGVycyc7XG5pbXBvcnQge0ludGVydmFsfSBmcm9tICcuL0ludGVydmFsJztcbmltcG9ydCB7QW5ub3RhdGlvbn0gZnJvbSAnLi9Bbm5vdGF0aW9uJztcblxuLyoqXG4gKiBUVU5JTkcgU1lTVEVNXG4gKlxuICogR2l2ZW4gYSByZWZlcmVuY2UgdG9uZSBhbmQgYSB0YXJnZXQgdG9uZSwgYSB0dW5pbmcgcmV0dXJucyB0aGUgcmF0aW8gYmV0d2VlbiB0aGVtLlxuICpcbiAqIFRoZSBmdW5kYW1lbnRhbCBpbnRlcnZhbCBpcyAyLzEgYmV0d2VlbiB0aGUgYmFzZSB0b25lIGFuZCBpdHMgb2N0YXZlLlxuICogT3RoZXIgdG9uZXMgc3ViZGl2aWRlIHRoZSBvY3RhdmUgaW50ZXJ2YWwuIEEgZmluaXRlIG51bWJlciBvZiB0b25lcyBOIG1ha2UgdXAgdGhlIHR1bmluZy5cbiAqIFRvbmVzIGFyZSBpbmRleGVkIGFjY29yZGluZyB0byB0aGVpciByYW5rIGluIHRoZSBvcmRlcmVkIHNlcXVlbmNlIG9mIHJhdGlvc1xuICogdG9uZSAwID0+IHJhdGlvIDEgKHVuaXNvbilcbiAqIHRvbmUgMSA9PiByYXRpbyAxLmFiYyAoZmlyc3QgaW50ZXJ2YWwpXG4gKiB0b25lIDIgPT4gcmF0aW8gMS5kZWYgKHNlY29uZCBpbnRlcnZhbClcbiAqIC4uLlxuICogdG9uZSBOLTIgPT4gcmF0aW8gMS54eXogKG5leHQtdG8tbGFzdCBpbnRlcnZhbClcbiAqIHRvbmUgTi0xID0+IHJhdGlvIDIgKG9jdGF2ZSlcbiAqXG4gKiBUb25lcyBjYW4gZXh0ZW5kIGJleW9uZCB0aGUgb2N0YXZlXG4gKiBlLmcuIHRvbmUgTisxIGlzIGVxdWl2YWxlbnQgdG8gdG9uZSAxLCBidXQgb25lIG9jdGF2ZSBoaWdoZXIuXG4gKiBJbiBhZGRpdGlvbiB0byByZXByZXNlbnRpbmcgYSB0b25lIGFzIGFib3ZlLCB3ZSBjYW4gcmVwcmVzZW50IGl0IGJ5IGl0cyBcImdlbmVyYXRvclwiOlxuICogLSBpdHMgcGl0Y2ggY2xhc3MgcGMg4oiIIFswLCBOLTFdXG4gKiAtIGl0cyBvY3RhdmUgbyDiiIgg4oSkXG4gKiBzdWNoIHRoYXQgdCA9IHBjKHQpICsgTiAqIG8odClcbiAqL1xuZXhwb3J0IGNsYXNzIFR1bmluZyB7XG4gIC8qKlxuICAgKiBDT05TVFJVQ1RPUlxuICAgKlxuICAgKiBAcGFyYW0gaW50ZXJ2YWxzOiB0dW5pbmcgaW50ZXJ2YWxzXG4gICAqIFRoZSBpbnRlcnZhbHMgd2lsbCBiZSBndWFyYW50ZWVkIHRvIGJlIHNvcnRlZC5cbiAgICogVGhlIGZpcnN0IGludGVydmFsIHdpbGwgYmUgZ3VhcmFudGVlZCB0byBiZSB0aGUgdW5pc29uLlxuICAgKiBUaGUgbGFzdCBpbnRlcnZhbCB3aWxsIGJlIGNvbnNpZGVyZWQgdG8gYmUgdGhlIHJlcGVhdGVyIChlLmcuIDIvMSB0aGUgb2N0YXZlKS5cbiAgICogQHBhcmFtIGFubm90YXRpb25zOiBub3RlcyBhYm91dCB0aGUgdHVuaW5nXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgaW50ZXJ2YWxzOiBJbnRlcnZhbFtdLCBwdWJsaWMgYW5ub3RhdGlvbnM6IEFubm90YXRpb25bXSA9IFtdKSB7XG4gICAgdGhpcy5pbnRlcnZhbHMuc29ydChJbnRlcnZhbC5jb21wYXJlKTtcbiAgICBpZiAodGhpcy5pbnRlcnZhbHNbMF0ucmF0aW8udmFsdWVPZigpICE9IDEpIHtcbiAgICAgIHRoaXMuaW50ZXJ2YWxzID0gW25ldyBJbnRlcnZhbChuZXcgRnJhY3Rpb24oMSkpLCAuLi50aGlzLmludGVydmFsc107XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHR1bmluZyBmcm9tIHJhdGlvcyBvciBjZW50cy5cbiAgICpcbiAgICogQHBhcmFtIGludGVydmFsczogYW4gYXJyYXkgb2YgcmF0aW9zIGV4cHJlc3NlZCBhcyBzdHJpbmdzLCBvciBjZW50cyBleHByZXNzZWQgYXMgbnVtYmVyc1xuICAgKiBAcGFyYW0gYW5ub3RhdGlvbnM6IGFzIHBlciBjb25zdHJ1Y3RvclxuICAgKiBAcmV0dXJucyB0dW5pbmcgb2JqZWN0XG4gICAqL1xuICBzdGF0aWMgZnJvbUludGVydmFscyhpbnRlcnZhbHM6IChudW1iZXJ8c3RyaW5nKVtdLCBhbm5vdGF0aW9uczogQW5ub3RhdGlvbltdID0gW10pIHtcbiAgICByZXR1cm4gbmV3IFR1bmluZyhpbnRlcnZhbHMubWFwKGludGVydmFsID0+IHtcbiAgICAgIGlmICh0eXBlb2YgaW50ZXJ2YWwgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnZhbChuZXcgRnJhY3Rpb24oaW50ZXJ2YWwpKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gSW50ZXJ2YWwuZnJvbUNlbnRzKGludGVydmFsKTtcbiAgICAgIH1cbiAgICB9KSwgYW5ub3RhdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIElTIEEgVFVOSU5HIFRSQU5TUE9TQUJMRT9cbiAgICpcbiAgICogQSB0dW5pbmcgaXMgZnVsbHkgdHJhbnNwb3NhYmxlIGlmIGFsbCBvZiBpdHMgaW50ZXJ2YWwgZGlmZmVyZW5jZXMgYXJlIGVxdWFsLlxuICAgKiBXZSB3aWxsIGNvbnNpZGVyIGVxdWFsaXR5IHRvIGJlIHdpdGhpbiB0aGUgcmFuZ2Ugb2YgdGhlIFwianVzdCBub3RpY2VhYmxlXCIgaW50ZXJ2YWwgKDUgY2VudHMpLlxuICAgKi9cbiAgcHJpdmF0ZSBfdHJhbnNwb3NhYmxlOiBib29sZWFuO1xuICBnZXQgdHJhbnNwb3NhYmxlKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLl90cmFuc3Bvc2FibGUgIT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuX3RyYW5zcG9zYWJsZTtcblxuICAgIGNvbnN0IGZpcnN0OiBJbnRlcnZhbCA9IHRoaXMuaW50ZXJ2YWxzWzFdLmRpZmZlcmVuY2UodGhpcy5pbnRlcnZhbHNbMF0pO1xuICAgIHJldHVybiAodGhpcy5fdHJhbnNwb3NhYmxlID0gdGhpcy5pbnRlcnZhbHMuc2xpY2UoMSkuZXZlcnkoKHYsIGkpID0+IHtcbiAgICAgIGNvbnN0IG5leHQ6IEludGVydmFsID0gdi5kaWZmZXJlbmNlKHRoaXMuaW50ZXJ2YWxzW2ldKTtcbiAgICAgIGNvbnN0IGRpZmY6IEludGVydmFsID0gbmV3IEludGVydmFsKEhlbHBlcnMuZmxpcEZyYWN0aW9uKG5leHQuZGlmZmVyZW5jZShmaXJzdCkucmF0aW8sIHRydWUpKTtcbiAgICAgIHJldHVybiBkaWZmLnJhdGlvLmNvbXBhcmUoSW50ZXJ2YWwuSk5ELnJhdGlvKSA8IDA7XG4gICAgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNURVBTIE9GIEEgVFVOSU5HXG4gICAqXG4gICAqIEByZXR1cm5zIGNvdW50IG9mIHRvbmVzIGluIHRoZSB0dW5pbmdcbiAgICovXG4gIGdldCBzdGVwcygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmludGVydmFscy5sZW5ndGggLSAxO1xuICB9XG5cbiAgLyoqXG4gICAqIE9DVEFWRSBPRiBBIFRVTklOR1xuICAgKlxuICAgKiBAcmV0dXJucyB0aGUgbGFzdCBpbnRlcnZhbCBpbiB0aGUgdHVuaW5nLCB3aGljaCBpcyBjb25zaWRlcmVkIHRvIGJlIHRoZSBvY3RhdmVcbiAgICovXG4gIGdldCBvY3RhdmUoKTogSW50ZXJ2YWwge1xuICAgIHJldHVybiB0aGlzLmludGVydmFsc1t0aGlzLnN0ZXBzXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUVU5FIEEgVE9ORVxuICAgKlxuICAgKiBAcGFyYW0gdG9uZTogdG9uZSB0byBiZSB0dW5lZFxuICAgKiBAcmV0dXJucyBmcmVxdWVuY3kgcmF0aW8gb2YgdGhlIHRvbmUgd2l0aCByZXNwZWN0IHRvIHJvb3QgdG9uZVxuICAgKi9cbiAgdHVuZSh0b25lOiBUdW5pbmdUb25lKTogSW50ZXJ2YWwge1xuICAgIC8vIEdldCB0aGUgcmF0aW8gZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB0YXJnZXQgdG9uZSBhbmQgdGhlIHJvb3QgdG9uZSwgcmFpc2VkIHRvIHRoZSBkaWZmZXJlbmNlIGluIG9jdGF2ZS5cbiAgICAvLyBUaGUgb2N0YXZlIGlzIGFsd2F5cyB0aGUgbGFzdCB0b25lIGFzIHBlciB0aGUgZGVmaW5pdGlvbiBvZiB0aGUgYGludGVydmFsc2AgYXJyYXkuXG4gICAgcmV0dXJuIG5ldyBJbnRlcnZhbChcbiAgICAgIHRoaXMuaW50ZXJ2YWxzW3RvbmUucGl0Y2hDbGFzc10ucmF0aW8ubXVsKHRoaXMub2N0YXZlLnJhdGlvLnBvdyh0b25lLm9jdGF2ZSkpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBORUFSRVNUIFRPTkVcbiAgICogRmluZCB0aGUgbmVhcmVzdCB0b25lIGdpdmVuIGFuIGludGVydmFsIGFuZCByZXR1cm4gZGlmZmVyZW5jZVxuICAgKlxuICAgKiBAcGFyYW0gaW50ZXJ2YWw6IHRhcmdldCBpbnRlcnZhbFxuICAgKiBAcmV0dXJucyBuZWFyZXN0IHRvbmUsIGludGVydmFsIGFuZCBkaWZmZXJlbmNlIGZyb20gdGhlIHRhcmdldFxuICAgKi9cbiAgbmVhcmVzdChpbnRlcnZhbDogSW50ZXJ2YWwpOiB7dG9uZTogVHVuaW5nVG9uZSwgaW50ZXJ2YWw6IEludGVydmFsLCBkaWZmZXJlbmNlOiBJbnRlcnZhbH0ge1xuICAgIC8vIEJyaW5nIHRoZSBpbnRlcnZhbCB0byB0aGUgYmFzZSBvY3RhdmUuXG4gICAgY29uc3Qgb2N0YXZlID0gTWF0aC5mbG9vcihNYXRoLmxvZyhpbnRlcnZhbC5yYXRpby52YWx1ZU9mKCkpIC8gTWF0aC5sb2codGhpcy5vY3RhdmUucmF0aW8udmFsdWVPZigpKSk7XG4gICAgY29uc3QgYmFzZSA9IG5ldyBJbnRlcnZhbChpbnRlcnZhbC5yYXRpby5kaXYodGhpcy5vY3RhdmUucmF0aW8ucG93KG9jdGF2ZSkpKTtcblxuICAgIC8vIFNlYXJjaCB0aHJvdWdoIHRoZSBpbnRlcnZhbHMgdG8gbG9jYXRlIHRoZSBuZWFyZXN0LlxuICAgIGNvbnN0IG4gPSBIZWxwZXJzLmJpbmFyeVNlYXJjaCh0aGlzLmludGVydmFscywgYmFzZSwgSW50ZXJ2YWwuY29tcGFyZSk7XG4gICAgaWYgKG4gPj0gMCkge1xuICAgICAgLy8gRXhhY3QgbWF0Y2g6IHJldHVybiB0aGUgcGl0Y2ggYXQgdGhlIHJpZ2h0IG9jdGF2ZS5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvbmU6IG5ldyBUdW5pbmdUb25lKHRoaXMsIG4sIG9jdGF2ZSksXG4gICAgICAgIGludGVydmFsLFxuICAgICAgICBkaWZmZXJlbmNlOiBuZXcgSW50ZXJ2YWwobmV3IEZyYWN0aW9uKDEpKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBQYXJ0aWFsIG1hdGNoOiBmaW5kIHJlYWwgbmVhcmVzdCBiZXR3ZWVuIGluc2VydGlvbiBwb2ludCBhbmQgcHJldmlvdXMuXG4gICAgICAvLyBXZSdyZSBndWFyYW50ZWVkIHRvIGZpbmQgYSBwcmV2aW91cyB2YWx1ZSBiZWNhdXNlIHRoZSBmaXJzdCB2YWx1ZSBpcyBhbHdheXMgdW5pc29uLlxuICAgICAgY29uc3QgbSA9IH5uO1xuICAgICAgY29uc3QgbG93ZXIgPSBNYXRoLmFicyh0aGlzLmludGVydmFsc1ttLTFdLmRpZmZlcmVuY2UoYmFzZSkuY2VudHMpO1xuICAgICAgY29uc3QgdXBwZXIgPSBNYXRoLmFicyh0aGlzLmludGVydmFsc1ttXS5kaWZmZXJlbmNlKGJhc2UpLmNlbnRzKTtcbiAgICAgIGNvbnN0IG5lYXJlc3QgPSBsb3dlciA8IHVwcGVyID8gbS0xIDogbTtcbiAgICAgIGNvbnN0IG5lYXJlc3RUb25lID0gbmV3IFR1bmluZ1RvbmUodGhpcywgbmVhcmVzdCwgb2N0YXZlKTtcbiAgICAgIGNvbnN0IG5lYXJlc3RJbnRlcnZhbCA9IHRoaXMudHVuZShuZWFyZXN0VG9uZSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b25lOiBuZWFyZXN0VG9uZSxcbiAgICAgICAgaW50ZXJ2YWw6IG5lYXJlc3RJbnRlcnZhbCxcbiAgICAgICAgZGlmZmVyZW5jZTogbmVhcmVzdEludGVydmFsLmRpZmZlcmVuY2UoaW50ZXJ2YWwpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVRVUFMIERJVklTSU9OUyBPRiBUSEUgT0NUQVZFLlxuICAgKlxuICAgKiBHZW5lcmF0ZSBhbiBpbnRlcnZhbHMgYXJyYXkgYmFzZWQgb24gZXF1YWwgZGl2aXNpb25zIG9mIHRoZSBvY3RhdmUuXG4gICAqIFRoZSBpbnRlcnZhbHMgYXJlIGNhbGN1bGF0ZWQgaW4gY2VudHMsIGJlY2F1c2UgdGhleSB3aWxsIGJlIGNvbnZlcnRlZCB0byByYXRpb3NcbiAgICogaW5zaWRlIHRoZSBUdW5pbmcgY29uc3RydWN0b3IuXG4gICAqL1xuICBzdGF0aWMgaW50ZXJ2YWxzRWRvKGRpdmlzaW9uczogbnVtYmVyKTogSW50ZXJ2YWxbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oQXJyYXkoZGl2aXNpb25zICsgMSkpLm1hcCgoXywgaSkgPT4ge1xuICAgICAgcmV0dXJuIEludGVydmFsLmZyb21DZW50cygxMjAwIC8gZGl2aXNpb25zICogaSk7XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBUb25lIGluIGEgdHVuaW5nLlxuICovXG5leHBvcnQgY2xhc3MgVHVuaW5nVG9uZSB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB0dW5pbmc6IFR1bmluZywgcHVibGljIHBpdGNoQ2xhc3M6IG51bWJlciwgcHVibGljIG9jdGF2ZTogbnVtYmVyKSB7fVxuXG4gIGdldCBwaXRjaCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnBpdGNoQ2xhc3MgKyB0aGlzLm9jdGF2ZSAqIHRoaXMudHVuaW5nLnN0ZXBzO1xuICB9XG5cbiAgc3RhdGljIGZyb21QaXRjaCh0dW5pbmc6IFR1bmluZywgcGl0Y2g6IG51bWJlcik6IFR1bmluZ1RvbmUge1xuICAgIHJldHVybiBuZXcgVHVuaW5nVG9uZSh0dW5pbmcsIEhlbHBlcnMubW9kKHBpdGNoLCB0dW5pbmcuc3RlcHMpLCBNYXRoLmZsb29yKHBpdGNoIC8gdHVuaW5nLnN0ZXBzKSk7XG4gIH1cbn1cbiIsImltcG9ydCB7VHVuaW5nLCBUdW5pbmdUb25lfSBmcm9tICcuL1R1bmluZyc7XG5pbXBvcnQge0hlbHBlcnN9IGZyb20gJy4vSGVscGVycyc7XG5pbXBvcnQge011bHRpbWFwfSBmcm9tICcuL0JpbWFwJztcblxuLyoqXG4gKiBOT01FTkNMQVRVUkUgU1lTVEVNXG4gKlxuICogVG8gbmFtZSBub3Rlcywgd2UgdXNlIGEgY29tbW9uIHJlcHJlc2VudGF0aW9uIGJhc2VkIG9uIFNjaWVudGlmaWMgUGl0Y2ggTm90YXRpb24gKFNQTik6XG4gKiAtIFN0YW5kYXJkIG5vdGUgbGV0dGVycyBDLCBELCBFLCBGLCBHLCBBLCBCXG4gKiAtIEFuIGV4dGVuc2libGUgc2V0IG9mIGFjY2lkZW50YWxzXG4gKiAtIFRoZSBvY3RhdmUgc3BlY2lmaWNhdGlvblxuICpcbiAqIFdlIGRlZmluZSBhIHR1bmluZyBub3RhdGlvbiBtYXAgdGhhdCBkZWZpbmVzIGhvdyBub3RlcyBhbmQgYWNjaWRlbnRhbHMgbWFwIHRvIHR1bmluZyB0b25lcy9waXRjaGVzLlxuICovXG5leHBvcnQgY2xhc3MgVHVuaW5nTm90YXRpb24ge1xuICByZWdleDogUmVnRXhwO1xuXG4gIC8qKlxuICAgKiBDT05TVFJVQ1RPUlxuICAgKlxuICAgKiBAcGFyYW0gdHVuaW5nOiB0aGUgdHVuaW5nIGJlaW5nIG5vdGF0ZWRcbiAgICogQHBhcmFtIG1hcDogdGhlIG5vdGF0aW9uIG1hcCB0aGF0IG1hcHMgZXZlcnkgbm90ZSBsZXR0ZXIgKyBhY2NpZGVudGFsIGNvbWJpbmF0aW9uIHRvIHRoZSB0dW5pbmcgdG9uZVxuICAgKiAgICAgICAgLSBkaWZmZXJlbnQgbm90ZSBuYW1lcyB0aGF0IG1hcCB0byB0aGUgc2FtZSBpbmRleCAoZS5nLiBDIyA9IERiID0+IDEpIHNob3VsZCBoYXZlIHNlcGFyYXRlIGVudHJpZXNcbiAgICogICAgICAgIC0gZG9uJ3QgaW5jbHVkZSBvY3RhdmUgbnVtYmVyc1xuICAgKi9cbiAgY29uc3RydWN0b3IocHVibGljIHR1bmluZzogVHVuaW5nLCBwdWJsaWMgbWFwOiBNdWx0aW1hcDxzdHJpbmcsIG51bWJlcj4pIHtcbiAgICB0aGlzLnJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgICAgICdeKCcgKyBBcnJheS5mcm9tKHRoaXMubWFwLmtleXMoKSkubWFwKEhlbHBlcnMuZXNjYXBlUmVnRXhwKS5qb2luKCd8JykgKyAnKScgK1xuICAgICAgJygtP1xcXFxkKSQnLFxuICAgICAgJ2knXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCVUlMRCBBIE1BUCBCWSBDT01CSU5JTkcgTk9URVMgQU5EIEFDQ0lERU5UQUxTXG4gICAqXG4gICAqIEBwYXJhbSB0dW5pbmc6IGFzIHBlciBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gbm90ZXM6IG1hcCBvZiBub3RlIGxldHRlcnMgdG8gdG9uZSBpbmRleGVzOlxuICAgKiBgYGBcbiAgICoge1xuICAgKiAgICdDJzogMCxcbiAgICogICAnRCc6IDIsXG4gICAqICAgJ0UnOiA0LFxuICAgKiAgICdGJzogNSxcbiAgICogICAnRyc6IDcsXG4gICAqICAgJ0EnOiA5LFxuICAgKiAgICdCJzogMTEsXG4gICAqIH1cbiAgICogQHBhcmFtIGFjY2lkZW50YWxzOiBtYXAgb2Ygbm90ZSBhY2NpZGVudGFscyB0byB0b25lIGluY3JlbWVudHM6XG4gICAqIGBgYFxuICAgKiB7XG4gICAqICAgJyMnOiArMSxcbiAgICogICAnYic6IC0xLFxuICAgKiAgICduJzogIDAsXG4gICAqIH1cbiAgICogYGBgXG4gICAqL1xuICBzdGF0aWMgZnJvbU5vdGVzQWNjaWRlbnRhbHNDb21iaW5hdGlvbihcbiAgICB0dW5pbmc6IFR1bmluZyxcbiAgICBub3Rlczoge1tub3RlOiBzdHJpbmddOiBudW1iZXJ9LFxuICAgIGFjY2lkZW50YWxzOiB7W2FjY2lkZW50YWw6IHN0cmluZ106IG51bWJlcn1cbiAgKSB7XG4gICAgY29uc3QgbWFwID0gbmV3IE11bHRpbWFwPHN0cmluZywgbnVtYmVyPigpO1xuICAgIE9iamVjdC5rZXlzKG5vdGVzKS5mb3JFYWNoKG5vdGUgPT4ge1xuICAgICAgbWFwLnNldChgJHtub3RlfWAsIG5vdGVzW25vdGVdKTtcbiAgICAgIE9iamVjdC5rZXlzKGFjY2lkZW50YWxzKS5mb3JFYWNoKGFjY2lkZW50YWwgPT4ge1xuICAgICAgICBtYXAuc2V0KGAke25vdGV9JHthY2NpZGVudGFsfWAsIEhlbHBlcnMubW9kKG5vdGVzW25vdGVdICsgYWNjaWRlbnRhbHNbYWNjaWRlbnRhbF0sIHR1bmluZy5zdGVwcykpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBUdW5pbmdOb3RhdGlvbih0dW5pbmcsIG1hcCk7XG4gIH1cblxuICAvKipcbiAgICogTkFNRSBBIFRPTkVcbiAgICpcbiAgICogQHBhcmFtIHRvbmU6IHRvbmUgdG8gYmUgbmFtZWRcbiAgICogQHJldHVybnMgYXJyYXkgb2Ygc3RyaW5ncyByZXByZXNlbnRpbmcgdGhlIGVuaGFybW9uaWMgbmFtaW5ncyBvZiB0aGUgdG9uZVxuICAgKi9cbiAgbmFtZSh0b25lOiBUdW5pbmdUb25lKTogc3RyaW5nW10ge1xuICAgIHJldHVybiBbLi4udGhpcy5tYXAuZ2V0S2V5KHRvbmUucGl0Y2hDbGFzcyldLm1hcChuID0+IGAke259JHt0b25lLm9jdGF2ZX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQQVJTRSBBIE5PVEVcbiAgICpcbiAgICogQHBhcmFtIG5vdGU6IHRhcmdldCBub3RlIGluIHNjaWVudGlmaWMgcGl0Y2ggbm90YXRpb25cbiAgICogQHJldHVybnMgdG9uZSBnZW5lcmF0b3JcbiAgICovXG4gIHBhcnNlKG5vdGU6IHN0cmluZyk6IFR1bmluZ1RvbmUge1xuICAgIGNvbnN0IG1hdGNoID0gdGhpcy5yZWdleC5leGVjKG5vdGUpO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgW1R1bmluZ05vdGF0aW9uLnBhcnNlXSBDb3VsZCBub3QgcGFyc2Ugbm90ZSAke25vdGV9YCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVHVuaW5nVG9uZSh0aGlzLnR1bmluZywgdGhpcy5tYXAuZ2V0KG1hdGNoWzFdKSwgcGFyc2VJbnQobWF0Y2hbMl0sIDEwKSk7XG4gIH1cbn1cbiIsImV4cG9ydCAqIGZyb20gJy4vVHVuaW5nJztcbmV4cG9ydCAqIGZyb20gJy4vVHVuaW5nTm90YXRpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9JbnRlcnZhbCc7XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jcmVhdGVCaW5kaW5nKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIG1vZHVsZSBleHBvcnRzIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBydW50aW1lIHNvIGVudHJ5IGlubGluaW5nIGlzIGRpc2FibGVkXG4vLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbnJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNyk7XG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyJdLCJzb3VyY2VSb290IjoiIn0=