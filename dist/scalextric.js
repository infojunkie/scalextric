/*! For license information please see scalextric.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Scalextric=e():t.Scalextric=e()}(this,(()=>(()=>{var t={628:function(t,e){var n;!function(r){"use strict";var i={s:1,n:0,d:1};function a(t,e){if(isNaN(t=parseInt(t,10)))throw l.InvalidParameter;return t*e}function s(t,e){if(0===e)throw l.DivisionByZero;var n=Object.create(l.prototype);n.s=t<0?-1:1;var r=c(t=t<0?-t:t,e);return n.n=t/r,n.d=e/r,n}function o(t){for(var e={},n=t,r=2,i=4;i<=n;){for(;n%r==0;)n/=r,e[r]=(e[r]||0)+1;i+=1+2*r++}return n!==t?n>1&&(e[n]=(e[n]||0)+1):e[t]=(e[t]||0)+1,e}var u=function(t,e){var n,r=0,s=1,o=1,u=0,c=0,h=0,f=1,p=1,d=0,v=1,y=1,m=1,b=1e7;if(null==t);else if(void 0!==e){if(o=(r=t)*(s=e),r%1!=0||s%1!=0)throw l.NonIntegerParameter}else switch(typeof t){case"object":if("d"in t&&"n"in t)r=t.n,s=t.d,"s"in t&&(r*=t.s);else{if(!(0 in t))throw l.InvalidParameter;r=t[0],1 in t&&(s=t[1])}o=r*s;break;case"number":if(t<0&&(o=t,t=-t),t%1==0)r=t;else if(t>0){for(t>=1&&(t/=p=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));v<=b&&m<=b;){if(t===(n=(d+y)/(v+m))){v+m<=b?(r=d+y,s=v+m):m>v?(r=y,s=m):(r=d,s=v);break}t>n?(d+=y,v+=m):(y+=d,m+=v),v>b?(r=y,s=m):(r=d,s=v)}r*=p}else(isNaN(t)||isNaN(e))&&(s=r=NaN);break;case"string":if(null===(v=t.match(/\d+|./g)))throw l.InvalidParameter;if("-"===v[d]?(o=-1,d++):"+"===v[d]&&d++,v.length===d+1?c=a(v[d++],o):"."===v[d+1]||"."===v[d]?("."!==v[d]&&(u=a(v[d++],o)),(1+ ++d===v.length||"("===v[d+1]&&")"===v[d+3]||"'"===v[d+1]&&"'"===v[d+3])&&(c=a(v[d],o),f=Math.pow(10,v[d].length),d++),("("===v[d]&&")"===v[d+2]||"'"===v[d]&&"'"===v[d+2])&&(h=a(v[d+1],o),p=Math.pow(10,v[d+1].length)-1,d+=3)):"/"===v[d+1]||":"===v[d+1]?(c=a(v[d],o),f=a(v[d+2],1),d+=3):"/"===v[d+3]&&" "===v[d+1]&&(u=a(v[d],o),c=a(v[d+2],o),f=a(v[d+4],1),d+=5),v.length<=d){o=r=h+(s=f*p)*u+p*c;break}default:throw l.InvalidParameter}if(0===s)throw l.DivisionByZero;i.s=o<0?-1:1,i.n=Math.abs(r),i.d=Math.abs(s)};function c(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function l(t,e){if(u(t,e),!(this instanceof l))return s(i.s*i.n,i.d);t=c(i.d,i.n),this.s=i.s,this.n=i.n/t,this.d=i.d/t}l.DivisionByZero=new Error("Division by Zero"),l.InvalidParameter=new Error("Invalid argument"),l.NonIntegerParameter=new Error("Parameters must be integer"),l.prototype={s:1,n:0,d:1,abs:function(){return s(this.n,this.d)},neg:function(){return s(-this.s*this.n,this.d)},add:function(t,e){return u(t,e),s(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(t,e){return u(t,e),s(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(t,e){return u(t,e),s(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(t,e){return u(t,e),s(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return s(this.s*this.n,this.d)},mod:function(t,e){if(isNaN(this.n)||isNaN(this.d))return new l(NaN);if(void 0===t)return s(this.s*this.n%this.d,1);if(u(t,e),0===i.n&&0===this.d)throw l.DivisionByZero;return s(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(t,e){return u(t,e),s(c(i.n,this.n)*c(i.d,this.d),i.d*this.d)},lcm:function(t,e){return u(t,e),0===i.n&&0===this.n?s(0,1):s(i.n*this.n,c(i.n,this.n)*c(i.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):s(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):s(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):s(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return s(this.s*this.d,this.n)},pow:function(t,e){if(u(t,e),1===i.d)return i.s<0?s(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):s(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var n=o(this.n),r=o(this.d),a=1,c=1;for(var l in n)if("1"!==l){if("0"===l){a=0;break}if(n[l]*=i.n,n[l]%i.d!=0)return null;n[l]/=i.d,a*=Math.pow(l,n[l])}for(var l in r)if("1"!==l){if(r[l]*=i.n,r[l]%i.d!=0)return null;r[l]/=i.d,c*=Math.pow(l,r[l])}return i.s<0?s(c,a):s(a,c)},equals:function(t,e){return u(t,e),this.s*this.n*i.d==i.s*i.n*this.d},compare:function(t,e){u(t,e);var n=this.s*this.n*i.d-i.s*i.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var e=this.abs(),n=e.toContinued(),r=1;r<n.length;r++){for(var i=s(n[r-1],1),a=r-2;a>=0;a--)i=i.inverse().add(n[a]);if(i.sub(e).abs().valueOf()<t)return i.mul(this.s)}return this},divisible:function(t,e){return u(t,e),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];if(isNaN(e)||isNaN(n))return r;do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function(t){var e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";t=t||15;var r=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>2e3)return 0;return r}(0,n),i=function(t,e,n){for(var r=1,i=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r}(10,n,e),a=0;a<300;a++){if(r===i)return a;r=10*r%e,i=10*i%e}return 0}(0,n,r),a=this.s<0?"-":"";if(a+=e/n|0,e%=n,(e*=10)&&(a+="."),r){for(var s=i;s--;)a+=e/n|0,e%=n,e*=10;for(a+="(",s=r;s--;)a+=e/n|0,e%=n,e*=10;a+=")"}else for(s=t;e&&s--;)a+=e/n|0,e%=n,e*=10;return a}},void 0===(n=function(){return l}.apply(e,[]))||(t.exports=n)}()},308:function(t,e){var n,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=function(t){"use strict";function e(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function r(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===u(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,s,o=[],u=!0,c=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.toXML=t.default=void 0;var c="array",l="boolean",h="date",f="function",p="jstoxml-object",d="null",v="object",y="string",m=[y,"number",l],b=["_selfCloseTag","_attrs"],g=function(t){return Array.isArray(t)&&c||u(t)===v&&null!==t&&t._name&&p||t instanceof Date&&h||null===t&&d||u(t)},w=function(t){return t.startsWith("<![CDATA[")},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t;if(u(t)===y){if(w(t))return t;var i=new RegExp("(".concat(Object.keys(e).join("|"),")(?!(\\w|#)*;)"),"g");r=String(t).replace(i,(function(t,n){return e[n]||""}))}return"function"==typeof n?n(r):r},M=function(){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return(Array.isArray(t)?t:Object.entries(t).map((function(t){var e=a(t,2);return i({},e[0],e[1])}))).reduce((function(t,i){var a=Object.keys(i)[0],s=i[a];if(u(n)===f&&n(a,s))return t;var o=e?_(s,e):s,c=r||!0!==o?'="'.concat(o,'"'):"";return t.push("".concat(a).concat(c)),t}),[])}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0,arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0);if(0===t.length)return"";var e=t.join(" ");return" ".concat(e)},O=function(t){return m.includes(g(t))},j={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},S=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.depth,s=void 0===a?0:a,o=i.indent,h=i._isFirstItem,d=i._isOutputStart,y=void 0===d||d,m=i.header,S=i.attributeReplacements,k=void 0===S?{}:S,P=i.attributeFilter,x=i.attributeExplicitTrue,N=void 0!==x&&x,T=i.contentReplacements,I=void 0===T?{}:T,E=i.contentMap,V=i.selfCloseTags,A=void 0===V||V,D="boolean"!=typeof k||k?r(r({},j),k):{},C="boolean"!=typeof I||I?r(r({},j),I):{},K=function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").repeat(t)}(o,s),R=g(n),z=function(t){var e=t.header,n=t.isOutputStart;return e&&n?u(e)===l?'<?xml version="1.0" encoding="UTF-8"?>':e:""}({header:m,indent:o,depth:s,isOutputStart:y}),L=y&&!z&&h&&0===s,$=o&&!L?"\n":"",q="";switch(R){case p:var B=n._name,F=n._content;if(null===F&&"function"!=typeof E){q="".concat($).concat(K).concat(B);break}if(Array.isArray(F)&&F.every(O))return F.map((function(e){return t({_name:B,_content:e},r(r({},i),{},{depth:s,_isOutputStart:!1}))})).join("");if(b.includes(B))break;var G=t(F,r(r({},i),{},{depth:s+1,_isOutputStart:L})),X=g(G),U=!G.match("<"),Z=w(G),J="".concat($).concat(K);if("_comment"===B){q+="".concat(J,"\x3c!-- ").concat(F," --\x3e");break}var W="undefined"===X||""===G,Y=A,H=n._selfCloseTag,Q=u(H)===l?W&&H:W&&Y,tt=Q?"/":"",et=M(n._attrs,D,P,N),nt="<".concat(B).concat(et).concat(tt,">"),rt=!o||U||Z?"":"\n".concat(K),it=Q?"":"".concat(G).concat(rt,"</").concat(B,">");q+="".concat(J).concat(nt).concat(it);break;case v:var at=Object.keys(n);q=at.map((function(a,s){var o=r(r({},i),{},{_isFirstItem:0===s,_isLastItem:s+1===at.length,_isOutputStart:L}),u={_name:a};if(g(n[a])===v&&(b.forEach((function(t){var e=n[a][t];void 0!==e&&(u[t]=e,delete n[a][t])})),void 0!==n[a]._content&&Object.keys(n[a]).length>1)){var c=Object.assign({},n[a]);delete c._content,u._content=[].concat(e(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).map((function(e){return{_name:e,_content:t[e]}}))}(c)),[n[a]._content])}return void 0===u._content&&(u._content=n[a]),t(u,o)}),i).join("");break;case f:var st=n(i);q=t(st,i);break;case c:q=n.map((function(e,a){var s=r(r({},i),{},{_isFirstItem:0===a,_isLastItem:a+1===n.length,_isOutputStart:L});return t(e,s)})).join("");break;default:q=_(n,C,E)}return"".concat(z).concat(q)};t.toXML=S;var k={toXML:S};t.default=k},void 0===(r=n.apply(e,[e]))||(t.exports=r)},635:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Interval=void 0;const r=n(655).__importDefault(n(628));class i{constructor(t){this.ratio=t}get cents(){return 1200*Math.log2(this.ratio.valueOf())}get savarts(){return 1e3*Math.log10(this.ratio.valueOf())}difference(t){return new i(this.ratio.div(t.ratio))}static fromRatio(t){return new i(new r.default(t))}static fromCents(t){return new i(new r.default(Math.pow(2,t/1200)))}static fromSavarts(t){return new i(new r.default(Math.pow(10,t/1e3)))}static compare(t,e){return t.ratio.compare(e.ratio)}}e.Interval=i,i.JND=i.fromCents(5)},73:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MusicXML=void 0;const r=n(655),i=n(308),a=n(312),s=n(624),o=n(321),u=r.__importDefault(n(147));class c{constructor(t,e,n={}){this.title=t,this.objects=e,this.options=Object.assign({},c.defaultOptions,n),this.reference=new s.Solmization(a.Tuning.fromEdo(12),{C:0,D:2,E:4,F:5,G:7,A:9,B:11},{})}convert(){return(0,i.toXML)(this.convertDocument(),{header:'\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE score-partwise PUBLIC "-//Recordare//DTD MusicXML 4.0 Partwise//EN" "http://www.musicxml.org/dtds/partwise.dtd">\n      '.trim(),indent:"  "})}convertDocument(){return{_name:"score-partwise",_attrs:{version:"4.0"},_content:[{work:{"work-title":this.title}},{identification:[{encoding:[{software:`@infojunkie/scalextric ${u.default.version}`},{"encoding-date":c.convertDate(new Date)}]}]},{"part-list":{_name:"score-part",_attrs:{id:"P1"},_content:{_name:"part-name",_attrs:{"print-object":"no"},_content:this.title}}},{_name:"part",_attrs:{id:"P1"},_content:this.convertObjects()}]}}convertObjects(){return this.objects.reduce(((t,e,n)=>{let r=this.convertMeasure(t.length+1);t.push(r),n>0&&r._content.push({_name:"print",_attrs:{"new-system":"yes"}}),0===n&&r._content.push({attributes:[{divisions:this.options.divisions},{key:[{fifths:0},{mode:"major"}]},{time:[{beats:this.options.time.beats},{"beat-type":this.options.time.beatType}]},{clef:[{sign:"G"},{line:2}]}]});const i=o.Annotation.findByLabel("label",e.annotations);console.log(i),i&&r._content.push({_name:"direction",_attrs:{placement:"above"},_content:[{"direction-type":[{words:i[0]}]}]});let a=0;return e.tones.forEach(((n,i)=>{r._content.push(this.convertNote(n,e)),a=(a+1)%this.options.time.beats,0===a&&i<e.tones.length-1&&(r=this.convertMeasure(t.length+1),t.push(r))})),r._content.push(this.convertBar("right","light-light")),t}),[])}convertBar(t,e){return{_name:"barline",_attrs:{location:t},_content:[{"bar-style":e}]}}convertMeasure(t){return{_name:"measure",_attrs:{number:t},_content:[]}}convertNote(t,e){const n=e.solmization.name(t)[0],r=n[0],i=this.convertAccidental(n.slice(1,-1)),a=n[n.length-1],s=this.reference.parse(`${r}${a}`),o=t.tune.difference(s.tune).cents;return{_name:"note",_content:[{_name:"pitch",_content:[{step:r},{alter:Math.round(100*o)/1e4},{octave:a}]},{duration:this.options.divisions},{type:c.durations[this.options.time.beatType]},Object.assign({},i&&"other"!==i&&{accidental:i}),Object.assign({},i&&"other"===i&&{_name:"accidental",_content:i,_attrs:{smufl:n.slice(1,-1)}})]}}convertAccidental(t){return t.length?t in c.accidentals?c.accidentals[t]:"other":null}static convertDate(t){return new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().split("T")[0]}}e.MusicXML=c,c.defaultOptions={divisions:768,time:{beats:4,beatType:4}},c.accidentals={"#":"sharp","â™¯":"sharp","î‰¢":"sharp",n:"natural","â™®":"natural","î‰¡":"natural",b:"flat","â™­":"flat","î‰ ":"flat",x:"double-sharp","ð„ª":"double-sharp","î‰£":"double-sharp","##":"sharp-sharp","â™¯â™¯":"sharp-sharp","î‰©":"sharp-sharp",bb:"flat-flat","â™­â™­":"flat-flat","ð„«":"flat-flat","î‰¤":"flat-flat","n#":"natural-sharp","â™®â™¯":"natural-sharp","î‰¨":"natural-sharp",nb:"natural-flat","â™®â™­":"natural-flat","î‰§":"natural-flat","#x":"triple-sharp","â™¯ð„ª":"triple-sharp","î‰¥":"triple-sharp",bbb:"triple-flat","â™­â™­â™­":"triple-flat","î‰¦":"triple-flat","îŠ€":"quarter-flat","îŠ‚":"quarter-sharp","îŠ":"three-quarters-flat","îŠƒ":"three-quarters-sharp","î‰µ":"sharp-down","î‰´":"sharp-up","î‰³":"natural-down","î‰²":"natural-up","î‰±":"flat-down","î‰°":"flat-up","î‰·":"double-sharp-down","î‰¶":"double-sharp-up","î‰¹":"flat-flat-down","î‰¸":"flat-flat-up","î‰º":"arrow-down","î‰»":"arrow-up","î‘†":"slash-quarter-sharp","î‘‡":"slash-sharp","î‘‚":"slash-flat","î‘€":"double-slash-flat","î‘ƒ":"quarter-flat","î‘„":"quarter-sharp","î‘":"flat","î‘…":"sharp","î‘":"sharp-1","î‘‘":"sharp-2","î‘’":"sharp-3","î‘“":"sharp-5","î‘”":"flat-1","î‘•":"flat-2","î‘–":"flat-3","î‘—":"flat-4","î‘¡":"sori","î‘ ":"koron"},c.durations={8:"eighth",4:"quarter",2:"half",1:"whole"}},624:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Solmization=void 0;const r=n(312),i=n(823),a=n(329);e.Solmization=class{constructor(t,e,n){this.tuning=t,this.notes=e,this.accidentals=n,this.parseMap=new a.Multimap,Object.keys(e).forEach((r=>{this.parseMap.set(r,e[r]),Object.keys(n).forEach((a=>{this.parseMap.set(`${r}${a}`,(0,i.mod)(e[r]+n[a],t.steps))}))})),this.nameMap=new a.Multimap,Object.keys(e).forEach((r=>{const a=[0];this.nameMap.set(r,e[r]),Object.keys(n).forEach((s=>{a.includes(n[s])||(this.nameMap.set(`${r}${s}`,(0,i.mod)(e[r]+n[s],t.steps)),a.push(n[s]))}))})),this.regex=new RegExp("^("+Array.from(this.parseMap.keys()).map(i.escapeRegExp).join("|")+")(-?\\d)$","i")}name(t){return[...this.nameMap.getKey(t.pitchClass)].sort(((t,e)=>t.length-e.length)).map((e=>`${e}${t.octave}`))}parse(t){const e=this.regex.exec(t);if(!e)throw new Error(`[Solmization.parse] Could not match note ${t}`);return new r.Tone(this.tuning,this.parseMap.get(e[1]),parseInt(e[2],10))}}},186:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToneRowSolmized=e.ToneRow=void 0;const r=n(312);class i{constructor(t,e,n=[]){if(this.tuning=t,this.tones=e,this.annotations=n,e.some(((t,n)=>!!e.slice(n+1).find((e=>e.pitchClass===t.pitchClass)))))throw Error("Found repeating pitch class in tone row.")}transpose(t){return new i(this.tuning,this.tones.map((e=>r.Tone.fromPitch(this.tuning,t.pitch+e.pitch))))}invert(t){return new i(this.tuning,this.tones.map((e=>r.Tone.fromPitch(this.tuning,t.pitch-e.pitch))))}reverse(){return new i(this.tuning,[...this.tones].reverse())}rotate(t){const e=t%this.tones.length;return new i(this.tuning,[...this.tones.slice(e),...this.tones.slice(0,e)])}monotonize(t=!1){return new i(this.tuning,this.tones.reduce(((e,n)=>{const i=e.length>0?e[e.length-1]:n;return!t&&n.pitch<i.pitch?e.push(new r.Tone(this.tuning,n.pitchClass,i.octave+(n.pitchClass<i.pitchClass?1:0))):t&&n.pitch>i.pitch?e.push(new r.Tone(this.tuning,n.pitchClass,i.octave+(n.pitchClass>i.pitchClass?-1:0))):e.push(n),e}),[]))}get pitches(){return this.tones.map((t=>t.pitch))}static fromPitches(t,e,n=[]){return new i(t,e.map((e=>r.Tone.fromPitch(t,e))),n)}static fromPitchClasses(t,e,n,a=[]){return new i(t,e.map((e=>new r.Tone(t,e,n))),a)}}e.ToneRow=i;class a extends i{constructor(t,e,n,r=[]){super(t,n,r),this.tuning=t,this.solmization=e,this.tones=n,this.annotations=r}static fromToneRow(t,e){return new a(t.tuning,e,t.tones,t.annotations)}}e.ToneRowSolmized=a},312:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tone=e.Tuning=void 0;const r=n(655).__importDefault(n(628)),i=n(823),a=n(635);class s{constructor(t,e=[]){this.intervals=t,this.annotations=e,this.intervals.sort(a.Interval.compare),1!=this.intervals[0].ratio.valueOf()&&(this.intervals=[new a.Interval(new r.default(1)),...this.intervals])}static fromIntervals(t,e=[]){return new s(t.map((t=>"string"==typeof t?new a.Interval(new r.default(t)):a.Interval.fromCents(t))),e)}get transposable(){if(void 0!==this._transposable)return this._transposable;const t=this.intervals[1].difference(this.intervals[0]);return this._transposable=this.intervals.slice(1).every(((e,n)=>{const r=e.difference(this.intervals[n]);return new a.Interval((0,i.flipFraction)(r.difference(t).ratio,!0)).ratio.compare(a.Interval.JND.ratio)<0}))}get steps(){return this.intervals.length-1}get octave(){return this.intervals[this.steps]}tune(t){return new a.Interval(this.intervals[t.pitchClass].ratio.mul(this.octave.ratio.pow(t.octave)))}nearest(t){const e=Math.floor(Math.log(t.ratio.valueOf())/Math.log(this.octave.ratio.valueOf())),n=new a.Interval(t.ratio.div(this.octave.ratio.pow(e))),s=(0,i.binarySearch)(this.intervals,n,a.Interval.compare);if(s>=0)return{tone:new o(this,s,e),interval:t,difference:new a.Interval(new r.default(1))};{const r=~s,i=Math.abs(this.intervals[r-1].difference(n).cents),a=Math.abs(this.intervals[r].difference(n).cents),u=new o(this,i<a?r-1:r,e),c=this.tune(u);return{tone:u,interval:c,difference:c.difference(t)}}}static fromEdo(t){return new s(Array.from(Array(t+1)).map(((e,n)=>a.Interval.fromCents(1200/t*n))))}}e.Tuning=s;class o{constructor(t,e,n){this.tuning=t,this.pitchClass=e,this.octave=n}get pitch(){return this.pitchClass+this.octave*this.tuning.steps}get tune(){return this.tuning.tune(this)}static fromPitch(t,e){return new o(t,(0,i.mod)(e,t.steps),Math.floor(e/t.steps))}}e.Tone=o},607:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(655);r.__exportStar(n(312),e),r.__exportStar(n(624),e),r.__exportStar(n(635),e),r.__exportStar(n(186),e),r.__exportStar(n(73),e),r.__exportStar(n(321),e)},321:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Annotation=void 0,e.Annotation=class{static findByLabel(t,e){return e.filter((e=>e.label===t)).map((t=>t.value))}constructor(t,e){this.label=t,this.value=e}}},329:(t,e)=>{"use strict";var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.Multimap=e.Bimap=void 0,e.Bimap=class{constructor(){this.keyValueMap=new Map,this.valueKeyMap=new Map,this[n]=this.keyValueMap[Symbol.iterator],this.entries=()=>this.keyValueMap.entries(),this.keys=()=>this.keyValueMap.keys(),this.values=()=>this.keyValueMap.values(),this.get=t=>this.keyValueMap.get(t),this.getKey=t=>this.valueKeyMap.get(t),this.getValue=t=>this.get(t),this.set=(t,e)=>(this.delete(t),this.deleteValue(e),this.keyValueMap.set(t,e),this.valueKeyMap.set(e,t),this),this.setKey=(t,e)=>this.set(e,t),this.setValue=(t,e)=>this.set(t,e),this.clear=()=>{this.keyValueMap.clear(),this.valueKeyMap.clear()},this.delete=t=>{if(this.has(t)){const e=this.keyValueMap.get(t);return this.keyValueMap.delete(t),this.valueKeyMap.delete(e),!0}return!1},this.deleteKey=t=>this.delete(t),this.deleteValue=t=>!!this.hasValue(t)&&this.delete(this.valueKeyMap.get(t)),this.forEach=(t,e)=>{this.keyValueMap.forEach(((n,r)=>{t.apply(e,[n,r,this])}))},this.has=t=>this.keyValueMap.has(t),this.hasKey=t=>this.has(t),this.hasValue=t=>this.valueKeyMap.has(t),this.inspect=()=>{let t="Bimap {",e=0;return this.forEach(((n,r)=>{e++,t+=r.toString()+" => "+n.toString(),e<this.size&&(t+=", ")})),t+="}",t}}get size(){return this.keyValueMap.size}},Symbol.toStringTag,n=Symbol.iterator,e.Multimap=class{constructor(){this.keyValueMap=new Map,this.valueKeyMap=new Map,this[r]=this.keyValueMap[Symbol.iterator],this.entries=()=>this.keyValueMap.entries(),this.keys=()=>this.keyValueMap.keys(),this.values=()=>this.keyValueMap.values(),this.get=t=>this.keyValueMap.get(t),this.getKey=t=>this.valueKeyMap.get(t),this.getValue=t=>this.get(t),this.set=(t,e)=>{this.delete(t),this.keyValueMap.set(t,e);const n=this.valueKeyMap.get(e)||[];return this.valueKeyMap.set(e,[...n,t]),this},this.setKey=(t,e)=>this.set(e,t),this.setValue=(t,e)=>this.set(t,e),this.clear=()=>{this.keyValueMap.clear(),this.valueKeyMap.clear()},this.delete=t=>{if(this.has(t)){const e=this.keyValueMap.get(t);this.keyValueMap.delete(t);const n=this.valueKeyMap.get(e).filter((e=>e!==t));return n.length>0?this.valueKeyMap.set(e,n):this.valueKeyMap.delete(e),!0}return!1},this.deleteKey=t=>this.delete(t),this.deleteValue=t=>!!this.hasValue(t)&&(this.valueKeyMap.get(t).forEach((t=>{this.delete(t)})),!0),this.forEach=(t,e)=>{this.keyValueMap.forEach(((n,r)=>{t.apply(e,[n,r,this])}))},this.has=t=>this.keyValueMap.has(t),this.hasKey=t=>this.has(t),this.hasValue=t=>this.valueKeyMap.has(t),this.inspect=()=>{let t="Multimap {",e=0;return this.forEach(((n,r)=>{e++,t+=r.toString()+" => "+n.toString(),e<this.size&&(t+=", ")})),t+="}",t}}get size(){return this.keyValueMap.size}},Symbol.toStringTag,r=Symbol.iterator},823:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrayRange=e.mod=e.arrayUnique=e.arrayEqual=e.binarySearch=e.flipFraction=e.primes=e.escapeRegExp=void 0,e.escapeRegExp=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},e.primes=function(t){const e=[],n=[];for(let r=2;r<=t;++r)if(!e[r]){n.push(r);for(let n=r<<1;n<=t;n+=r)e[n]=!0}return n},e.flipFraction=function(t,e=!1){return e?t.abs().compare(1)<0?t.inverse():t:t.abs().compare(1)>0?t.inverse():t},e.binarySearch=function(t,e,n){let r=0,i=t.length-1;for(;r<=i;){const a=i+r>>1,s=n(e,t[a]);if(s>0)r=a+1;else{if(!(s<0))return a;i=a-1}}return~r},e.arrayEqual=function(t,e,n){return t.length===e.length&&t.every(((t,r)=>0===n(t,e[r])))},e.arrayUnique=function(t){return[...new Set(t)]},e.mod=function(t,e){return(t%e+e)%e},e.arrayRange=function(t,e=0){return[...Array(t).keys()].map((t=>t+e))}},655:(t,e,n)=>{"use strict";n.r(e),n.d(e,{__assign:()=>a,__asyncDelegator:()=>w,__asyncGenerator:()=>g,__asyncValues:()=>_,__await:()=>b,__awaiter:()=>l,__classPrivateFieldGet:()=>S,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>o,__exportStar:()=>p,__extends:()=>i,__generator:()=>h,__importDefault:()=>j,__importStar:()=>O,__makeTemplateObject:()=>M,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>s,__spread:()=>y,__spreadArrays:()=>m,__values:()=>d});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},a.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function o(t,e,n,r){var i,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(s=(a<3?i(s):a>3?i(e,n,s):i(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,a){function s(t){try{u(r.next(t))}catch(t){a(t)}}function o(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),a=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){a.push([t,e,n,r])>1||o(t,e)}))})}function o(t,e){try{(n=i[t](e)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(a[0][2],n)}catch(t){l(a[0][3],t)}var n}function u(t){o("next",t)}function c(t){o("throw",t)}function l(t,e){t(e),a.shift(),a.length&&o(a[0][0],a[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:b(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function M(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function O(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function j(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function k(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},147:t=>{"use strict";t.exports=JSON.parse('{"name":"scalextric","version":"0.4.0","description":"Like Scala for Web programmers","main":"dist/scalextric.js","types":"dist/index.d.ts","scripts":{"build":"webpack","develop":"webpack --mode=development","test":"npm run test:lint && npm run test:unit","test:lint":"eslint src","test:unit":"nyc ts-mocha -p tsconfig.json test/**/*.spec.ts","test:bundle":"npm run build && mocha test/**/*.spec.js","build:chords":"python src/utils/chordtable/generate.py > data/chords.json && echo \'Generate data/chords.json file\'","build:scales":"wget -q -O data/scales.zip http://huygens-fokker.org/docs/scales.zip && unzip -o data/scales.zip -d data/ && for f in data/scl/*; do iconv -f iso-8859-1 -t utf-8 \\"$f\\" -o \\"$f\\"; done"},"author":"Karim Ratib <karim.ratib@gmail.com> (https://github.com/infojunkie)","license":"GPL-3.0-only","devDependencies":{"@types/chai":"^4.2.18","@types/mocha":"^10.0.0","@types/node":"^16.11.7","@typescript-eslint/eslint-plugin":"^5.4.0","@typescript-eslint/parser":"^5.4.0","@xmldom/xmldom":"^0.8.6","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-deep-closeto":"^0.1.1","eslint":"^8.2.0","eslint-config-google":"^0.14.0","eslint-config-prettier":"^8.3.0","eslint-webpack-plugin":"^3.1.1","http-server":"^14.1.1","mocha":"^10.2.0","nyc":"^15.1.0","ts-loader":"^9.2.6","ts-mocha":"^10.0.0","ts-node":"^10.4.0","typescript":"^4.9.4","validate-with-xmllint":"^1.2.1","webpack":"^5.76.0","webpack-cli":"^4.7.0"},"dependencies":{"fraction.js":"^4.1.2","jstoxml":"^3.2.6"}}')}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}return n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(607)})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NhbGV4dHJpYy5qcyIsIm1hcHBpbmdzIjoiO0NBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxHQUFJSCxHQUNlLGlCQUFaQyxRQUNkQSxRQUFvQixXQUFJRCxJQUV4QkQsRUFBaUIsV0FBSUMsR0FDdEIsQ0FURCxDQVNHSyxNQUFNLG1DQ1RULE9BdUNBLFNBQVVOLEdBRVIsYUFLQSxJQUdJTyxFQUFJLENBQ04sRUFBSyxFQUNMLEVBQUssRUFDTCxFQUFLLEdBR1AsU0FBU0MsRUFBT0MsRUFBR0MsR0FFakIsR0FBSUMsTUFBTUYsRUFBSUcsU0FBU0gsRUFBRyxLQUN4QixNQUFNSSxFQUEyQixpQkFFbkMsT0FBT0osRUFBSUMsQ0FDYixDQUdBLFNBQVNJLEVBQVlMLEVBQUdNLEdBRXRCLEdBQVUsSUFBTkEsRUFDRixNQUFNRixFQUF5QixlQUdqQyxJQUFJRyxFQUFJQyxPQUFPQyxPQUFPTCxFQUFTTSxXQUMvQkgsRUFBSyxFQUFJUCxFQUFJLEdBQUssRUFBSSxFQUl0QixJQUFJVyxFQUFJQyxFQUZSWixFQUFJQSxFQUFJLEdBQUtBLEVBQUlBLEVBRUZNLEdBSWYsT0FGQUMsRUFBSyxFQUFJUCxFQUFJVyxFQUNiSixFQUFLLEVBQUlELEVBQUlLLEVBQ05KLENBQ1QsQ0FFQSxTQUFTTSxFQUFVQyxHQVFqQixJQU5BLElBQUlDLEVBQVUsQ0FBQyxFQUVYZixFQUFJYyxFQUNKRSxFQUFJLEVBQ0pmLEVBQUksRUFFREEsR0FBS0QsR0FBRyxDQUViLEtBQU9BLEVBQUlnQixHQUFNLEdBQ2ZoQixHQUFJZ0IsRUFDSkQsRUFBUUMsSUFBTUQsRUFBUUMsSUFBTSxHQUFLLEVBRW5DZixHQUFJLEVBQUksRUFBSWUsR0FDZCxDQVFBLE9BTkloQixJQUFNYyxFQUNKZCxFQUFJLElBQ05lLEVBQVFmLElBQU1lLEVBQVFmLElBQU0sR0FBSyxHQUVuQ2UsRUFBUUQsSUFBUUMsRUFBUUQsSUFBUSxHQUFLLEVBRWhDQyxDQUNULENBRUEsSUFBSUUsRUFBUSxTQUFTQyxFQUFJQyxHQUV2QixJQU9JQyxFQVBBcEIsRUFBSSxFQUFHTSxFQUFJLEVBQUdMLEVBQUksRUFDbEJvQixFQUFJLEVBQUdDLEVBQUksRUFBR0MsRUFBSSxFQUFHQyxFQUFJLEVBQUdDLEVBQUksRUFFaENDLEVBQUksRUFBR0MsRUFBSSxFQUNYQyxFQUFJLEVBQUdDLEVBQUksRUFFWEMsRUFBSSxJQUdSLEdBQUlaLGNBRUcsUUFBV2EsSUFBUFosR0FLVCxHQUZBbEIsR0FGQUQsRUFBSWtCLElBQ0paLEVBQUlhLEdBR0FuQixFQUFJLEdBQU0sR0FBS00sRUFBSSxHQUFNLEVBQzNCLE1BQU1GLEVBQThCLHlCQUl0QyxjQUFlYyxHQUViLElBQUssU0FFRCxHQUFJLE1BQU9BLEdBQU0sTUFBT0EsRUFDdEJsQixFQUFJa0IsRUFBTSxFQUNWWixFQUFJWSxFQUFNLEVBQ04sTUFBT0EsSUFDVGxCLEdBQUlrQixFQUFNLE9BQ1AsTUFBSSxLQUFLQSxHQUtkLE1BQU1kLEVBQTJCLGlCQUpqQ0osRUFBSWtCLEVBQUcsR0FDSCxLQUFLQSxJQUNQWixFQUFJWSxFQUFHLEdBR1gsQ0FDQWpCLEVBQUlELEVBQUlNLEVBQ1IsTUFFSixJQUFLLFNBT0QsR0FMSVksRUFBSyxJQUNQakIsRUFBSWlCLEVBQ0pBLEdBQU1BLEdBR0pBLEVBQUssR0FBTSxFQUNibEIsRUFBSWtCLE9BQ0MsR0FBSUEsRUFBSyxFQUFHLENBVWpCLElBUklBLEdBQU0sSUFFUkEsR0FEQU8sRUFBSU8sS0FBS0MsSUFBSSxHQUFJRCxLQUFLRSxNQUFNLEVBQUlGLEtBQUtHLElBQUlqQixHQUFNYyxLQUFLSSxRQU8vQ1QsR0FBS0csR0FBS0QsR0FBS0MsR0FBRyxDQUd2QixHQUFJWixLQUZKRSxHQUFLTSxFQUFJRSxJQUFNRCxFQUFJRSxJQUVMLENBQ1JGLEVBQUlFLEdBQUtDLEdBQ1g5QixFQUFJMEIsRUFBSUUsRUFDUnRCLEVBQUlxQixFQUFJRSxHQUNDQSxFQUFJRixHQUNiM0IsRUFBSTRCLEVBQ0p0QixFQUFJdUIsSUFFSjdCLEVBQUkwQixFQUNKcEIsRUFBSXFCLEdBRU4sS0FFRixDQUVNVCxFQUFLRSxHQUNQTSxHQUFJRSxFQUNKRCxHQUFJRSxJQUVKRCxHQUFJRixFQUNKRyxHQUFJRixHQUdGQSxFQUFJRyxHQUNOOUIsRUFBSTRCLEVBQ0p0QixFQUFJdUIsSUFFSjdCLEVBQUkwQixFQUNKcEIsRUFBSXFCLEVBR1YsQ0FDQTNCLEdBQUl5QixDQUNOLE1BQVd2QixNQUFNZ0IsSUFBT2hCLE1BQU1pQixNQUM1QmIsRUFBSU4sRUFBSXFDLEtBRVYsTUFFSixJQUFLLFNBSUQsR0FBVSxRQUZWVixFQUFJVCxFQUFHb0IsTUFBTSxXQUdYLE1BQU1sQyxFQUEyQixpQkEyQ25DLEdBekNhLE1BQVR1QixFQUFFRCxJQUNKekIsR0FBSyxFQUNMeUIsS0FDa0IsTUFBVEMsRUFBRUQsSUFDWEEsSUFHRUMsRUFBRVksU0FBV2IsRUFBSSxFQUNuQkosRUFBSXZCLEVBQU80QixFQUFFRCxLQUFNekIsR0FDRyxNQUFiMEIsRUFBRUQsRUFBSSxJQUF1QixNQUFUQyxFQUFFRCxJQUVsQixNQUFUQyxFQUFFRCxLQUNKTCxFQUFJdEIsRUFBTzRCLEVBQUVELEtBQU16QixLQUtiLEtBSFJ5QixJQUdjQyxFQUFFWSxRQUF1QixNQUFiWixFQUFFRCxFQUFJLElBQTJCLE1BQWJDLEVBQUVELEVBQUksSUFBMkIsTUFBYkMsRUFBRUQsRUFBSSxJQUEyQixNQUFiQyxFQUFFRCxFQUFJLE1BQzFGSixFQUFJdkIsRUFBTzRCLEVBQUVELEdBQUl6QixHQUNqQnVCLEVBQUlRLEtBQUtDLElBQUksR0FBSU4sRUFBRUQsR0FBR2EsUUFDdEJiLE1BSVcsTUFBVEMsRUFBRUQsSUFBMkIsTUFBYkMsRUFBRUQsRUFBSSxJQUF1QixNQUFUQyxFQUFFRCxJQUEyQixNQUFiQyxFQUFFRCxFQUFJLE1BQzVESCxFQUFJeEIsRUFBTzRCLEVBQUVELEVBQUksR0FBSXpCLEdBQ3JCd0IsRUFBSU8sS0FBS0MsSUFBSSxHQUFJTixFQUFFRCxFQUFJLEdBQUdhLFFBQVUsRUFDcENiLEdBQUksSUFHZ0IsTUFBYkMsRUFBRUQsRUFBSSxJQUEyQixNQUFiQyxFQUFFRCxFQUFJLElBQ25DSixFQUFJdkIsRUFBTzRCLEVBQUVELEdBQUl6QixHQUNqQnVCLEVBQUl6QixFQUFPNEIsRUFBRUQsRUFBSSxHQUFJLEdBQ3JCQSxHQUFJLEdBQ2tCLE1BQWJDLEVBQUVELEVBQUksSUFBMkIsTUFBYkMsRUFBRUQsRUFBSSxLQUNuQ0wsRUFBSXRCLEVBQU80QixFQUFFRCxHQUFJekIsR0FDakJxQixFQUFJdkIsRUFBTzRCLEVBQUVELEVBQUksR0FBSXpCLEdBQ3JCdUIsRUFBSXpCLEVBQU80QixFQUFFRCxFQUFJLEdBQUksR0FDckJBLEdBQUksR0FHRkMsRUFBRVksUUFBVWIsRUFBRyxDQUVqQnpCLEVBQ0FELEVBQUl1QixHQUZKakIsRUFBSWtCLEVBQUlDLEdBRUlKLEVBQUlJLEVBQUlILEVBQ3BCLEtBQ0YsQ0FJSixRQUNFLE1BQU1sQixFQUEyQixpQkFHdkMsR0FBVSxJQUFORSxFQUNGLE1BQU1GLEVBQXlCLGVBR2pDTixFQUFLLEVBQUlHLEVBQUksR0FBSyxFQUFJLEVBQ3RCSCxFQUFLLEVBQUlrQyxLQUFLUSxJQUFJeEMsR0FDbEJGLEVBQUssRUFBSWtDLEtBQUtRLElBQUlsQyxFQUNwQixFQStEQSxTQUFTTSxFQUFJRCxFQUFHOEIsR0FFZCxJQUFLOUIsRUFDSCxPQUFPOEIsRUFDVCxJQUFLQSxFQUNILE9BQU85QixFQUVULE9BQVUsQ0FFUixLQURBQSxHQUFJOEIsR0FFRixPQUFPQSxFQUVULEtBREFBLEdBQUk5QixHQUVGLE9BQU9BLENBQ1gsQ0FDRixDQVNBLFNBQVNQLEVBQVNPLEVBQUc4QixHQUluQixHQUZBeEIsRUFBTU4sRUFBRzhCLEtBRUw1QyxnQkFBZ0JPLEdBTWxCLE9BQU9DLEVBQVlQLEVBQUssRUFBSUEsRUFBSyxFQUFHQSxFQUFLLEdBTHpDYSxFQUFJQyxFQUFJZCxFQUFLLEVBQUdBLEVBQUssR0FDckJELEtBQVEsRUFBSUMsRUFBSyxFQUNqQkQsS0FBUSxFQUFJQyxFQUFLLEVBQUlhLEVBQ3JCZCxLQUFRLEVBQUlDLEVBQUssRUFBSWEsQ0FJekIsQ0FFQVAsRUFBeUIsZUFBSSxJQUFJc0MsTUFBTSxvQkFDdkN0QyxFQUEyQixpQkFBSSxJQUFJc0MsTUFBTSxvQkFDekN0QyxFQUE4QixvQkFBSSxJQUFJc0MsTUFBTSw4QkFFNUN0QyxFQUFTTSxVQUFZLENBRW5CLEVBQUssRUFDTCxFQUFLLEVBQ0wsRUFBSyxFQU9MLElBQU8sV0FFTCxPQUFPTCxFQUFZUixLQUFRLEVBQUdBLEtBQVEsRUFDeEMsRUFPQSxJQUFPLFdBRUwsT0FBT1EsR0FBYVIsS0FBUSxFQUFJQSxLQUFRLEVBQUdBLEtBQVEsRUFDckQsRUFPQSxJQUFPLFNBQVNjLEVBQUc4QixHQUdqQixPQURBeEIsRUFBTU4sRUFBRzhCLEdBQ0ZwQyxFQUNMUixLQUFRLEVBQUlBLEtBQVEsRUFBSUMsRUFBSyxFQUFJQSxFQUFLLEVBQUlELEtBQVEsRUFBSUMsRUFBSyxFQUMzREQsS0FBUSxFQUFJQyxFQUFLLEVBRXJCLEVBT0EsSUFBTyxTQUFTYSxFQUFHOEIsR0FHakIsT0FEQXhCLEVBQU1OLEVBQUc4QixHQUNGcEMsRUFDTFIsS0FBUSxFQUFJQSxLQUFRLEVBQUlDLEVBQUssRUFBSUEsRUFBSyxFQUFJRCxLQUFRLEVBQUlDLEVBQUssRUFDM0RELEtBQVEsRUFBSUMsRUFBSyxFQUVyQixFQU9BLElBQU8sU0FBU2EsRUFBRzhCLEdBR2pCLE9BREF4QixFQUFNTixFQUFHOEIsR0FDRnBDLEVBQ0xSLEtBQVEsRUFBSUMsRUFBSyxFQUFJRCxLQUFRLEVBQUlDLEVBQUssRUFDdENELEtBQVEsRUFBSUMsRUFBSyxFQUVyQixFQU9BLElBQU8sU0FBU2EsRUFBRzhCLEdBR2pCLE9BREF4QixFQUFNTixFQUFHOEIsR0FDRnBDLEVBQ0xSLEtBQVEsRUFBSUMsRUFBSyxFQUFJRCxLQUFRLEVBQUlDLEVBQUssRUFDdENELEtBQVEsRUFBSUMsRUFBSyxFQUVyQixFQU9BLE1BQVMsV0FDUCxPQUFPTyxFQUFZUixLQUFRLEVBQUlBLEtBQVEsRUFBR0EsS0FBUSxFQUNwRCxFQU9BLElBQU8sU0FBU2MsRUFBRzhCLEdBRWpCLEdBQUl2QyxNQUFNTCxLQUFRLElBQU1LLE1BQU1MLEtBQVEsR0FDcEMsT0FBTyxJQUFJTyxFQUFTaUMsS0FHdEIsUUFBVU4sSUFBTnBCLEVBQ0YsT0FBT04sRUFBWVIsS0FBUSxFQUFJQSxLQUFRLEVBQUlBLEtBQVEsRUFBRyxHQUl4RCxHQURBb0IsRUFBTU4sRUFBRzhCLEdBQ0wsSUFBTTNDLEVBQUssR0FBSyxJQUFNRCxLQUFRLEVBQ2hDLE1BQU1PLEVBQXlCLGVBaUJqQyxPQUFPQyxFQUNMUixLQUFRLEdBQUtDLEVBQUssRUFBSUQsS0FBUSxJQUFNQyxFQUFLLEVBQUlELEtBQVEsR0FDckRDLEVBQUssRUFBSUQsS0FBUSxFQUVyQixFQU9BLElBQU8sU0FBU2MsRUFBRzhCLEdBTWpCLE9BSkF4QixFQUFNTixFQUFHOEIsR0FJRnBDLEVBQVlPLEVBQUlkLEVBQUssRUFBR0QsS0FBUSxHQUFLZSxFQUFJZCxFQUFLLEVBQUdELEtBQVEsR0FBSUMsRUFBSyxFQUFJRCxLQUFRLEVBQ3ZGLEVBT0EsSUFBTyxTQUFTYyxFQUFHOEIsR0FNakIsT0FKQXhCLEVBQU1OLEVBQUc4QixHQUlNLElBQVgzQyxFQUFLLEdBQXlCLElBQWRELEtBQVEsRUFDbkJRLEVBQVksRUFBRyxHQUVqQkEsRUFBWVAsRUFBSyxFQUFJRCxLQUFRLEVBQUdlLEVBQUlkLEVBQUssRUFBR0QsS0FBUSxHQUFLZSxFQUFJZCxFQUFLLEVBQUdELEtBQVEsR0FDdEYsRUFPQSxLQUFRLFNBQVM4QyxHQUlmLE9BRkFBLEVBQVNYLEtBQUtDLElBQUksR0FBSVUsR0FBVSxHQUU1QnpDLE1BQU1MLEtBQVEsSUFBTUssTUFBTUwsS0FBUSxHQUM3QixJQUFJTyxFQUFTaUMsS0FFZmhDLEVBQVkyQixLQUFLWSxLQUFLRCxFQUFTOUMsS0FBUSxFQUFJQSxLQUFRLEVBQUlBLEtBQVEsR0FBSThDLEVBQzVFLEVBT0EsTUFBUyxTQUFTQSxHQUloQixPQUZBQSxFQUFTWCxLQUFLQyxJQUFJLEdBQUlVLEdBQVUsR0FFNUJ6QyxNQUFNTCxLQUFRLElBQU1LLE1BQU1MLEtBQVEsR0FDN0IsSUFBSU8sRUFBU2lDLEtBRWZoQyxFQUFZMkIsS0FBS0UsTUFBTVMsRUFBUzlDLEtBQVEsRUFBSUEsS0FBUSxFQUFJQSxLQUFRLEdBQUk4QyxFQUM3RSxFQU9BLE1BQVMsU0FBU0EsR0FJaEIsT0FGQUEsRUFBU1gsS0FBS0MsSUFBSSxHQUFJVSxHQUFVLEdBRTVCekMsTUFBTUwsS0FBUSxJQUFNSyxNQUFNTCxLQUFRLEdBQzdCLElBQUlPLEVBQVNpQyxLQUVmaEMsRUFBWTJCLEtBQUthLE1BQU1GLEVBQVM5QyxLQUFRLEVBQUlBLEtBQVEsRUFBSUEsS0FBUSxHQUFJOEMsRUFDN0UsRUFPQSxRQUFXLFdBRVQsT0FBT3RDLEVBQVlSLEtBQVEsRUFBSUEsS0FBUSxFQUFHQSxLQUFRLEVBQ3BELEVBT0EsSUFBTyxTQUFTYyxFQUFHOEIsR0FNakIsR0FKQXhCLEVBQU1OLEVBQUc4QixHQUlNLElBQVgzQyxFQUFLLEVBRVAsT0FBSUEsRUFBSyxFQUFJLEVBQ0pPLEVBQVkyQixLQUFLQyxJQUFJcEMsS0FBUSxFQUFJQSxLQUFRLEVBQUdDLEVBQUssR0FBSWtDLEtBQUtDLElBQUlwQyxLQUFRLEVBQUdDLEVBQUssSUFFOUVPLEVBQVkyQixLQUFLQyxJQUFJcEMsS0FBUSxFQUFJQSxLQUFRLEVBQUdDLEVBQUssR0FBSWtDLEtBQUtDLElBQUlwQyxLQUFRLEVBQUdDLEVBQUssSUFVekYsR0FBSUQsS0FBUSxFQUFJLEVBQUcsT0FBTyxLQUcxQixJQUFJaUMsRUFBSWpCLEVBQVVoQixLQUFRLEdBQ3RCZ0MsRUFBSWhCLEVBQVVoQixLQUFRLEdBR3RCRyxFQUFJLEVBQ0pNLEVBQUksRUFDUixJQUFLLElBQUl3QyxLQUFLaEIsRUFDWixHQUFVLE1BQU5nQixFQUFKLENBQ0EsR0FBVSxNQUFOQSxFQUFXLENBQ2I5QyxFQUFJLEVBQ0osS0FDRixDQUdBLEdBRkE4QixFQUFFZ0IsSUFBS2hELEVBQUssRUFFUmdDLEVBQUVnQixHQUFLaEQsRUFBSyxHQUFNLEVBRWYsT0FBTyxLQURaZ0MsRUFBRWdCLElBQUtoRCxFQUFLLEVBRWRFLEdBQUlnQyxLQUFLQyxJQUFJYSxFQUFHaEIsRUFBRWdCLEdBVkssQ0FhekIsSUFBSyxJQUFJQSxLQUFLakIsRUFDWixHQUFVLE1BQU5pQixFQUFKLENBR0EsR0FGQWpCLEVBQUVpQixJQUFLaEQsRUFBSyxFQUVSK0IsRUFBRWlCLEdBQUtoRCxFQUFLLEdBQU0sRUFFZixPQUFPLEtBRForQixFQUFFaUIsSUFBS2hELEVBQUssRUFFZFEsR0FBSTBCLEtBQUtDLElBQUlhLEVBQUdqQixFQUFFaUIsR0FOSyxDQVN6QixPQUFJaEQsRUFBSyxFQUFJLEVBQ0pPLEVBQVlDLEVBQUdOLEdBRWpCSyxFQUFZTCxFQUFHTSxFQUN4QixFQU9BLE9BQVUsU0FBU0ssRUFBRzhCLEdBR3BCLE9BREF4QixFQUFNTixFQUFHOEIsR0FDRjVDLEtBQVEsRUFBSUEsS0FBUSxFQUFJQyxFQUFLLEdBQU1BLEVBQUssRUFBSUEsRUFBSyxFQUFJRCxLQUFRLENBQ3RFLEVBT0EsUUFBVyxTQUFTYyxFQUFHOEIsR0FFckJ4QixFQUFNTixFQUFHOEIsR0FDVCxJQUFJTSxFQUFLbEQsS0FBUSxFQUFJQSxLQUFRLEVBQUlDLEVBQUssRUFBSUEsRUFBSyxFQUFJQSxFQUFLLEVBQUlELEtBQVEsRUFDcEUsT0FBUSxFQUFJa0QsSUFBTUEsRUFBSSxFQUN4QixFQUVBLFNBQVksU0FBU0MsR0FFbkIsR0FBSTlDLE1BQU1MLEtBQVEsSUFBTUssTUFBTUwsS0FBUSxHQUNwQyxPQUFPQSxLQUdUbUQsRUFBTUEsR0FBTyxLQUtiLElBSEEsSUFBSUMsRUFBVXBELEtBQVUsTUFDcEJxRCxFQUFPRCxFQUFxQixjQUV2QmpDLEVBQUksRUFBR0EsRUFBSWtDLEVBQUtYLE9BQVF2QixJQUFLLENBR3BDLElBREEsSUFBSWYsRUFBSUksRUFBWTZDLEVBQUtsQyxFQUFJLEdBQUksR0FDeEI4QixFQUFJOUIsRUFBSSxFQUFHOEIsR0FBSyxFQUFHQSxJQUMxQjdDLEVBQUlBLEVBQVcsVUFBUyxJQUFFaUQsRUFBS0osSUFHakMsR0FBSTdDLEVBQU8sSUFBRWdELEdBQWMsTUFBSUUsVUFBWUgsRUFDekMsT0FBTy9DLEVBQU8sSUFBRUosS0FBUSxFQUU1QixDQUNBLE9BQU9BLElBQ1QsRUFPQSxVQUFhLFNBQVNjLEVBQUc4QixHQUd2QixPQURBeEIsRUFBTU4sRUFBRzhCLE9BQ0UzQyxFQUFLLEVBQUlELEtBQVEsSUFBUUEsS0FBUSxFQUFJQyxFQUFLLEdBQU1BLEVBQUssRUFBSUQsS0FBUSxHQUM5RSxFQU9BLFFBQVcsV0FFVCxPQUFPQSxLQUFRLEVBQUlBLEtBQVEsRUFBSUEsS0FBUSxDQUN6QyxFQU9BLFdBQWMsU0FBU3VELEdBRXJCLElBQUlDLEVBQU9DLEVBQU0sR0FDYnRELEVBQUlILEtBQVEsRUFDWlMsRUFBSVQsS0FBUSxFQW1CaEIsT0FsQklBLEtBQVEsRUFBSSxJQUNkeUQsR0FBTSxLQUdFLElBQU5oRCxFQUNGZ0QsR0FBTXRELEdBR0ZvRCxJQUFpQkMsRUFBUXJCLEtBQUtFLE1BQU1sQyxFQUFJTSxJQUFNLElBQ2hEZ0QsR0FBTUQsRUFDTkMsR0FBTSxJQUNOdEQsR0FBSU0sR0FHTmdELEdBQU10RCxFQUNOc0QsR0FBTSxJQUNOQSxHQUFNaEQsR0FFRGdELENBQ1QsRUFPQSxRQUFXLFNBQVNGLEdBRWxCLElBQUlDLEVBQU9DLEVBQU0sR0FDYnRELEVBQUlILEtBQVEsRUFDWlMsRUFBSVQsS0FBUSxFQW9CaEIsT0FuQklBLEtBQVEsRUFBSSxJQUNkeUQsR0FBTSxLQUdFLElBQU5oRCxFQUNGZ0QsR0FBTXRELEdBR0ZvRCxJQUFpQkMsRUFBUXJCLEtBQUtFLE1BQU1sQyxFQUFJTSxJQUFNLElBQ2hEZ0QsR0FBTUQsRUFDTnJELEdBQUlNLEdBR05nRCxHQUFNLFVBQ05BLEdBQU10RCxFQUNOc0QsR0FBTSxLQUNOQSxHQUFNaEQsRUFDTmdELEdBQU0sS0FFREEsQ0FDVCxFQU9BLFlBQWUsV0FFYixJQUFJUCxFQUNBcEMsRUFBSWQsS0FBUSxFQUNaNEMsRUFBSTVDLEtBQVEsRUFDWjBELEVBQU0sR0FFVixHQUFJckQsTUFBTVMsSUFBTVQsTUFBTXVDLEdBQ3BCLE9BQU9jLEVBR1QsR0FDRUEsRUFBSUMsS0FBS3hCLEtBQUtFLE1BQU12QixFQUFJOEIsSUFDeEJNLEVBQUlwQyxFQUFJOEIsRUFDUjlCLEVBQUk4QixFQUNKQSxFQUFJTSxRQUNTLElBQU5wQyxHQUVULE9BQU80QyxDQUNULEVBT0EsU0FBWSxTQUFTRSxHQUVuQixJQUFJM0IsRUFBSWpDLEtBQVEsRUFDWmdDLEVBQUloQyxLQUFRLEVBRWhCLEdBQUlLLE1BQU00QixJQUFNNUIsTUFBTTJCLEdBQ3BCLE1BQU8sTUFHVDRCLEVBQU1BLEdBQU8sR0FFYixJQUFJQyxFQWxpQlIsU0FBa0IxRCxFQUFHTSxHQUVuQixLQUFPQSxFQUFJLEdBQU0sRUFDZkEsR0FBSSxHQUdOLEtBQU9BLEVBQUksR0FBTSxFQUNmQSxHQUFJLEdBR04sR0FBVSxJQUFOQSxFQUNGLE9BQU8sRUFVVCxJQUhBLElBQUlxRCxFQUFNLEdBQUtyRCxFQUNYeUMsRUFBSSxFQUVPLElBQVJZLEVBQVdaLElBR2hCLEdBRkFZLEVBQVksR0FBTkEsRUFBV3JELEVBRWJ5QyxFQS9RWSxJQWdSZCxPQUFPLEVBRVgsT0FBT0EsQ0FDVCxDQXNnQmlCYSxDQUFTOUIsRUFBR0QsR0FDckJnQyxFQXBnQlIsU0FBb0I3RCxFQUFHTSxFQUFHd0QsR0FLeEIsSUFIQSxJQUFJQyxFQUFPLEVBQ1BDLEVBL0NOLFNBQWdCdkIsRUFBR3dCLEVBQUdDLEdBR3BCLElBREEsSUFBSUMsRUFBSSxFQUNERixFQUFJLEVBQUd4QixFQUFLQSxFQUFJQSxFQUFLeUIsRUFBR0QsSUFBTSxFQUUzQixFQUFKQSxJQUNGRSxFQUFLQSxFQUFJMUIsRUFBS3lCLEdBR2xCLE9BQU9DLENBQ1QsQ0FxQ2FDLENBQU8sR0FBSU4sRUFBS3hELEdBRWxCeUMsRUFBSSxFQUFHQSxFQUFJLElBQUtBLElBQUssQ0FHNUIsR0FBSWdCLElBQVNDLEVBQ1gsT0FBT2pCLEVBRVRnQixFQUFjLEdBQVBBLEVBQVl6RCxFQUNuQjBELEVBQWMsR0FBUEEsRUFBWTFELENBQ3JCLENBQ0EsT0FBTyxDQUNULENBcWZpQitELENBQVd2QyxFQUFHRCxFQUFHNkIsR0FFMUJKLEVBQU16RCxLQUFRLEVBQUksRUFBSSxJQUFNLEdBVWhDLEdBUkF5RCxHQUFNeEIsRUFBSUQsRUFBSSxFQUVkQyxHQUFJRCxHQUNKQyxHQUFJLE1BR0Z3QixHQUFNLEtBRUpJLEVBQVEsQ0FFVixJQUFLLElBQUkxQyxFQUFJNkMsRUFBUTdDLEtBQ25Cc0MsR0FBTXhCLEVBQUlELEVBQUksRUFDZEMsR0FBSUQsRUFDSkMsR0FBSSxHQUdOLElBREF3QixHQUFNLElBQ0d0QyxFQUFJMEMsRUFBUTFDLEtBQ25Cc0MsR0FBTXhCLEVBQUlELEVBQUksRUFDZEMsR0FBSUQsRUFDSkMsR0FBSSxHQUVOd0IsR0FBTSxHQUNSLE1BQ0UsSUFBU3RDLEVBQUl5QyxFQUFLM0IsR0FBS2QsS0FDckJzQyxHQUFNeEIsRUFBSUQsRUFBSSxFQUNkQyxHQUFJRCxFQUNKQyxHQUFJLEdBR1IsT0FBT3dCLENBQ1QsUUFNQyxLQUZVLEVBQUYsV0FDUCxPQUFPbEQsQ0FDUixVQUZNLE9BRU4sWUFVSixDQW4xQkQsc0JDdkNBLFFBWXlCLG9CQUFma0UsV0FBNkJBLFdBQTZCLG9CQUFUQyxNQUF1QkEsS0FWMUQsRUFVdUUsU0FBVUMsR0FDdkcsYUFNQSxTQUFTQyxFQUFtQkMsR0FBTyxPQUduQyxTQUE0QkEsR0FBTyxHQUFJQyxNQUFNQyxRQUFRRixHQUFNLE9BQU9HLEVBQWtCSCxFQUFNLENBSGhESSxDQUFtQkosSUFFN0QsU0FBMEJLLEdBQVEsR0FBc0Isb0JBQVhDLFFBQW1ELE1BQXpCRCxFQUFLQyxPQUFPQyxXQUEyQyxNQUF0QkYsRUFBSyxjQUF1QixPQUFPSixNQUFNTyxLQUFLSCxFQUFPLENBRnhGSSxDQUFpQlQsSUFBUVUsRUFBNEJWLElBQzFILFdBQWdDLE1BQU0sSUFBSVcsVUFBVSx1SUFBeUksQ0FEM0RDLEVBQXNCLENBSXhKLFNBQVNDLEVBQVFDLEVBQVFDLEdBQWtCLElBQUlDLEVBQU9sRixPQUFPa0YsS0FBS0YsR0FBUyxHQUFJaEYsT0FBT21GLHNCQUF1QixDQUFFLElBQUlDLEVBQVVwRixPQUFPbUYsc0JBQXNCSCxHQUFTQyxJQUFtQkcsRUFBVUEsRUFBUUMsUUFBTyxTQUFVQyxHQUFPLE9BQU90RixPQUFPdUYseUJBQXlCUCxFQUFRTSxHQUFLRSxVQUFZLEtBQUtOLEVBQUtsQyxLQUFLeUMsTUFBTVAsRUFBTUUsRUFBVSxDQUFFLE9BQU9GLENBQU0sQ0FDcFYsU0FBU1EsRUFBY0MsR0FBVSxJQUFLLElBQUluRixFQUFJLEVBQUdBLEVBQUlvRixVQUFVN0QsT0FBUXZCLElBQUssQ0FBRSxJQUFJcUYsRUFBUyxNQUFRRCxVQUFVcEYsR0FBS29GLFVBQVVwRixHQUFLLENBQUMsRUFBR0EsRUFBSSxFQUFJdUUsRUFBUS9FLE9BQU82RixJQUFTLEdBQUlDLFNBQVEsU0FBVUMsR0FBT0MsRUFBZ0JMLEVBQVFJLEVBQUtGLEVBQU9FLEdBQU8sSUFBSy9GLE9BQU9pRywwQkFBNEJqRyxPQUFPa0csaUJBQWlCUCxFQUFRM0YsT0FBT2lHLDBCQUEwQkosSUFBV2QsRUFBUS9FLE9BQU82RixJQUFTQyxTQUFRLFNBQVVDLEdBQU8vRixPQUFPbUcsZUFBZVIsRUFBUUksRUFBSy9GLE9BQU91Rix5QkFBeUJNLEVBQVFFLEdBQU8sR0FBSSxDQUFFLE9BQU9KLENBQVEsQ0FDemYsU0FBU0ssRUFBZ0JJLEVBQUtMLEVBQUtNLEdBQTRMLE9BQW5MTixFQUM1QyxTQUF3Qk8sR0FBTyxJQUFJUCxFQUNuQyxTQUFzQlEsRUFBT0MsR0FBUSxHQUF1QixXQUFuQkMsRUFBUUYsSUFBaUMsT0FBVkEsRUFBZ0IsT0FBT0EsRUFBTyxJQUFJRyxFQUFPSCxFQUFNL0IsT0FBT21DLGFBQWMsUUFBYXBGLElBQVRtRixFQUFvQixDQUFFLElBQUkzRCxFQUFNMkQsRUFBS0UsS0FBS0wsRUFBT0MsR0FBUSxXQUFZLEdBQXFCLFdBQWpCQyxFQUFRMUQsR0FBbUIsT0FBT0EsRUFBSyxNQUFNLElBQUk4QixVQUFVLCtDQUFpRCxDQUFFLE9BQWlCLFdBQVQyQixFQUFvQkssT0FBU0MsUUFBUVAsRUFBUSxDQURuVlEsQ0FBYVQsRUFBSyxVQUFXLE1BQXdCLFdBQWpCRyxFQUFRVixHQUFvQkEsRUFBTWMsT0FBT2QsRUFBTSxDQUQxRWlCLENBQWVqQixNQUFpQkssRUFBT3BHLE9BQU9tRyxlQUFlQyxFQUFLTCxFQUFLLENBQUVNLE1BQU9BLEVBQU9iLFlBQVksRUFBTXlCLGNBQWMsRUFBTUMsVUFBVSxJQUFrQmQsRUFBSUwsR0FBT00sRUFBZ0JELENBQUssQ0FHM08sU0FBU2UsRUFBZWpELEVBQUsxRCxHQUFLLE9BS2xDLFNBQXlCMEQsR0FBTyxHQUFJQyxNQUFNQyxRQUFRRixHQUFNLE9BQU9BLENBQUssQ0FMM0JrRCxDQUFnQmxELElBSXpELFNBQStCQSxFQUFLMUQsR0FBSyxJQUFJNkcsRUFBSyxNQUFRbkQsRUFBTSxLQUFPLG9CQUFzQk0sUUFBVU4sRUFBSU0sT0FBT0MsV0FBYVAsRUFBSSxjQUFlLEdBQUksTUFBUW1ELEVBQUksQ0FBRSxJQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFPLEdBQUlDLEdBQUssRUFBSUMsR0FBSyxFQUFJLElBQU0sR0FBSUosR0FBTUgsRUFBS0EsRUFBR1QsS0FBSzFDLElBQU0yRCxLQUFNLElBQU1ySCxFQUFHLENBQUUsR0FBSVIsT0FBT3FILEtBQVFBLEVBQUksT0FBUU0sR0FBSyxDQUFJLE1BQU8sT0FBU0EsR0FBTUwsRUFBS0UsRUFBR1osS0FBS1MsSUFBS1MsUUFBVUosRUFBSzFFLEtBQUtzRSxFQUFHakIsT0FBUXFCLEVBQUszRixTQUFXdkIsR0FBSW1ILEdBQUssR0FBSyxDQUFFLE1BQU9JLEdBQU9ILEdBQUssRUFBSUwsRUFBS1EsQ0FBSyxDQUFFLFFBQVUsSUFBTSxJQUFLSixHQUFNLE1BQVFOLEVBQUdXLFNBQVdQLEVBQUtKLEVBQUdXLFNBQVVoSSxPQUFPeUgsS0FBUUEsR0FBSyxNQUFRLENBQUUsUUFBVSxHQUFJRyxFQUFJLE1BQU1MLENBQUksQ0FBRSxDQUFFLE9BQU9HLENBQU0sQ0FBRSxDQUoxZ0JPLENBQXNCL0QsRUFBSzFELElBQU1vRSxFQUE0QlYsRUFBSzFELElBQ25JLFdBQThCLE1BQU0sSUFBSXFFLFVBQVUsNElBQThJLENBRHZEcUQsRUFBb0IsQ0FFN0osU0FBU3RELEVBQTRCdUQsRUFBR0MsR0FBVSxHQUFLRCxFQUFMLENBQWdCLEdBQWlCLGlCQUFOQSxFQUFnQixPQUFPOUQsRUFBa0I4RCxFQUFHQyxHQUFTLElBQUk1SSxFQUFJUSxPQUFPRSxVQUFVbUksU0FBU3pCLEtBQUt1QixHQUFHRyxNQUFNLEdBQUksR0FBaUUsTUFBbkQsV0FBTjlJLEdBQWtCMkksRUFBRUksY0FBYS9JLEVBQUkySSxFQUFFSSxZQUFZQyxNQUFnQixRQUFOaEosR0FBcUIsUUFBTkEsRUFBb0IyRSxNQUFNTyxLQUFLeUQsR0FBYyxjQUFOM0ksR0FBcUIsMkNBQTJDaUosS0FBS2pKLEdBQVc2RSxFQUFrQjhELEVBQUdDLFFBQXpHLENBQTdPLENBQStWLENBQy9aLFNBQVMvRCxFQUFrQkgsRUFBS1osSUFBa0IsTUFBUEEsR0FBZUEsRUFBTVksRUFBSW5DLFVBQVF1QixFQUFNWSxFQUFJbkMsUUFBUSxJQUFLLElBQUl2QixFQUFJLEVBQUdrSSxFQUFPLElBQUl2RSxNQUFNYixHQUFNOUMsRUFBSThDLEVBQUs5QyxJQUFLa0ksRUFBS2xJLEdBQUswRCxFQUFJMUQsR0FBSSxPQUFPa0ksQ0FBTSxDQUdsTCxTQUFTakMsRUFBUUwsR0FBa0MsT0FBT0ssRUFBVSxtQkFBcUJqQyxRQUFVLGlCQUFtQkEsT0FBT0MsU0FBVyxTQUFVMkIsR0FBTyxjQUFjQSxDQUFLLEVBQUksU0FBVUEsR0FBTyxPQUFPQSxHQUFPLG1CQUFxQjVCLFFBQVU0QixFQUFJbUMsY0FBZ0IvRCxRQUFVNEIsSUFBUTVCLE9BQU90RSxVQUFZLGdCQUFrQmtHLENBQUssRUFBR0ssRUFBUUwsRUFBTSxDQW5CL1VwRyxPQUFPbUcsZUFBZW5DLEVBQVUsYUFBYyxDQUM1Q3FDLE9BQU8sSUFFVHJDLEVBQVMyRSxNQUFRM0UsRUFBUzRFLGFBQVUsRUFpQnBDLElBQUlDLEVBQ0ssUUFETEEsRUFFTyxVQUZQQSxFQUdJLE9BSEpBLEVBSVEsV0FKUkEsRUFLYyxpQkFMZEEsRUFNSSxPQU5KQSxFQVFNLFNBUk5BLEVBU00sU0FFTkMsRUFBa0IsQ0FBQ0QsRUFKYixTQUltREEsR0FFekRFLEVBQWUsQ0FBQyxnQkFBaUIsVUFrQmpDQyxFQUFVLFNBQWlCQyxHQUM3QixPQUFPOUUsTUFBTUMsUUFBUTZFLElBQVFKLEdBQW9CcEMsRUFBUXdDLEtBQVNKLEdBQTZCLE9BQVJJLEdBQWdCQSxFQUFJQyxPQUFTTCxHQUE2QkksYUFBZUUsTUFBUU4sR0FBMkIsT0FBUkksR0FBZ0JKLEdBQW1CcEMsRUFBUXdDLEVBQ3hPLEVBUUlHLEVBQVUsU0FBaUJ0RyxHQUM3QixPQUFPQSxFQUFJdUcsV0FBVyxZQUN4QixFQVFJQyxFQUFTLFdBQ1gsSUFBSS9DLEVBQVFYLFVBQVU3RCxPQUFTLFFBQXNCUixJQUFqQnFFLFVBQVUsR0FBbUJBLFVBQVUsR0FBSyxHQUM1RTJELEVBQWUzRCxVQUFVN0QsT0FBUyxRQUFzQlIsSUFBakJxRSxVQUFVLEdBQW1CQSxVQUFVLEdBQUssQ0FBQyxFQUNwRjRELEVBQWE1RCxVQUFVN0QsT0FBUyxFQUFJNkQsVUFBVSxRQUFLckUsRUFDbkRrSSxFQUFTbEQsRUFDYixHQUFJRSxFQUFRRixLQUFXc0MsRUFBbUIsQ0FDeEMsR0FBSU8sRUFBUTdDLEdBQ1YsT0FBT0EsRUFFVCxJQUFJbUQsRUFBUyxJQUFJQyxPQUFPLElBQUlDLE9BQU81SixPQUFPa0YsS0FBS3FFLEdBQWNNLEtBQUssS0FBTSxrQkFBbUIsS0FDM0ZKLEVBQVM1QyxPQUFPTixHQUFPdUQsUUFBUUosR0FBUSxTQUFVNUcsRUFBS2lILEdBQ3BELE9BQU9SLEVBQWFRLElBQVcsRUFDakMsR0FDRixDQUNBLE1BQTZCLG1CQUFmUCxFQUE0QkEsRUFBV0MsR0FBVUEsQ0FDakUsRUE0Q0lPLEVBQW1CLFdBQ3JCLElBSUlDLEVBdkNvQixXQUN4QixJQUFJQyxFQUFhdEUsVUFBVTdELE9BQVMsUUFBc0JSLElBQWpCcUUsVUFBVSxHQUFtQkEsVUFBVSxHQUFLLENBQUMsRUFDbEYyRCxFQUFlM0QsVUFBVTdELE9BQVMsRUFBSTZELFVBQVUsUUFBS3JFLEVBQ3JEOEQsRUFBU08sVUFBVTdELE9BQVMsRUFBSTZELFVBQVUsUUFBS3JFLEVBQy9DNEksRUFBcUJ2RSxVQUFVN0QsT0FBUyxFQUFJNkQsVUFBVSxRQUFLckUsRUFRL0QsT0FOb0I0QyxNQUFNQyxRQUFROEYsR0FBY0EsRUFBYWxLLE9BQU9vSyxRQUFRRixHQUFZRyxLQUFJLFNBQVVDLEdBQ3BHLElBQUlDLEVBQVFwRCxFQUFlbUQsRUFBTSxHQUdqQyxPQUFPdEUsRUFBZ0IsQ0FBQyxFQUZoQnVFLEVBQU0sR0FDTkEsRUFBTSxHQUVoQixLQUNxQkMsUUFBTyxTQUFVQyxFQUFlQyxHQUNuRCxJQUFJM0UsRUFBTS9GLE9BQU9rRixLQUFLd0YsR0FBTSxHQUN4QnpCLEVBQU15QixFQUFLM0UsR0FDZixHQUFJVSxFQUFRcEIsS0FBWXdELEdBQ0F4RCxFQUFPVSxFQUFLa0QsR0FFaEMsT0FBT3dCLEVBR1gsSUFBSUUsRUFBY3BCLEVBQWVELEVBQU9MLEVBQUtNLEdBQWdCTixFQUN6RDJCLEVBQVVULElBQXNDLElBQWhCUSxFQUE0QixLQUFNZixPQUFPZSxFQUFhLEtBQS9CLEdBRTNELE9BREFGLEVBQWN6SCxLQUFLLEdBQUc0RyxPQUFPN0QsR0FBSzZELE9BQU9nQixJQUNsQ0gsQ0FDVCxHQUFHLEdBQ0wsQ0FhZ0JJLENBSkdqRixVQUFVN0QsT0FBUyxRQUFzQlIsSUFBakJxRSxVQUFVLEdBQW1CQSxVQUFVLEdBQUssQ0FBQyxFQUNuRUEsVUFBVTdELE9BQVMsRUFBSTZELFVBQVUsUUFBS3JFLEVBQzVDcUUsVUFBVTdELE9BQVMsRUFBSTZELFVBQVUsUUFBS3JFLEVBQzFCcUUsVUFBVTdELE9BQVMsRUFBSTZELFVBQVUsUUFBS3JFLEdBRS9ELEdBQXVCLElBQW5CMEksRUFBUWxJLE9BQWMsTUFBTyxHQUNqQyxJQUFJK0ksRUFBaUJiLEVBQVFKLEtBQUssS0FDbEMsTUFBTyxJQUFJRCxPQUFPa0IsRUFDcEIsRUFrQ0lDLEVBQWMsU0FBcUI5QixHQUNyQyxPQUFPSCxFQUFnQmtDLFNBQVNoQyxFQUFRQyxHQUMxQyxFQThCSWdDLEVBQTRCLENBQzlCLElBQUssT0FDTCxJQUFLLE9BQ0wsSUFBSyxRQUNMLElBQUssVUFFSHRDLEVBQVEsU0FBU0EsSUFDbkIsSUFBSXZDLEVBQU1SLFVBQVU3RCxPQUFTLFFBQXNCUixJQUFqQnFFLFVBQVUsR0FBbUJBLFVBQVUsR0FBSyxDQUFDLEVBQzNFc0YsRUFBU3RGLFVBQVU3RCxPQUFTLFFBQXNCUixJQUFqQnFFLFVBQVUsR0FBbUJBLFVBQVUsR0FBSyxDQUFDLEVBQzlFdUYsRUFBZ0JELEVBQU9FLE1BQ3pCQSxPQUEwQixJQUFsQkQsRUFBMkIsRUFBSUEsRUFDdkNFLEVBQVNILEVBQU9HLE9BQ2hCQyxFQUFlSixFQUFPSSxhQUN0QkMsRUFBd0JMLEVBQU9NLGVBQy9CQSxPQUEyQyxJQUExQkQsR0FBMENBLEVBQzNERSxFQUFTUCxFQUFPTyxPQUNoQkMsRUFBd0JSLEVBQU9TLHNCQUMvQkMsT0FBcUQsSUFBMUJGLEVBQW1DLENBQUMsRUFBSUEsRUFDbkVHLEVBQWtCWCxFQUFPVyxnQkFDekJDLEVBQXdCWixFQUFPYSxzQkFDL0JBLE9BQWtELElBQTFCRCxHQUEyQ0EsRUFDbkVFLEVBQXdCZCxFQUFPZSxvQkFDL0JDLE9BQW1ELElBQTFCRixFQUFtQyxDQUFDLEVBQUlBLEVBQ2pFeEMsRUFBYTBCLEVBQU8xQixXQUNwQjJDLEVBQXdCakIsRUFBT2tCLGNBQy9CQSxPQUEwQyxJQUExQkQsR0FBMENBLEVBRXhEUixFQUR5RSxrQkFBN0JDLEdBQTJDQSxFQUNyQmxHLEVBQWNBLEVBQWMsQ0FBQyxFQUFHdUYsR0FBNEJXLEdBQWpFLENBQUMsRUFFOURLLEVBRHFFLGtCQUEzQkMsR0FBeUNBLEVBQ3JCeEcsRUFBY0EsRUFBYyxDQUFDLEVBQUd1RixHQUE0QmlCLEdBQWpFLENBQUMsRUFHMURHLEVBdk1hLFdBQ2pCLElBQ0lqQixFQUFReEYsVUFBVTdELE9BQVMsUUFBc0JSLElBQWpCcUUsVUFBVSxHQUFtQkEsVUFBVSxHQUFLLEVBQ2hGLE9BRmFBLFVBQVU3RCxPQUFTLFFBQXNCUixJQUFqQnFFLFVBQVUsR0FBbUJBLFVBQVUsR0FBSyxJQUVuRTBHLE9BQU9sQixFQUN2QixDQW1Na0JtQixDQUFhbEIsRUFBUUQsR0FHakNvQixFQUFVeEQsRUFBUTVDLEdBQ2xCcUcsRUFuRGdCLFNBQXlCQyxHQUM3QyxJQUFJakIsRUFBU2lCLEVBQU1qQixPQUNqQmtCLEVBQWdCRCxFQUFNQyxjQUV4QixPQUR5QmxCLEdBQVVrQixFQUVObEcsRUFBUWdGLEtBQVk1QyxFQW5LMUIseUNBb0s4QjRDLEVBRnJCLEVBR2xDLENBNENrQm1CLENBQWdCLENBQzlCbkIsT0FBUUEsRUFDUkosT0FBUUEsRUFDUkQsTUFBT0EsRUFDUHVCLGNBQWVuQixJQUVibUIsRUFBZ0JuQixJQUFtQmlCLEdBQWFuQixHQUEwQixJQUFWRixFQUNoRXlCLEVBQWV4QixJQUFXc0IsRUFBZ0IsS0FBTyxHQUNqREcsRUFBWSxHQUNoQixPQUFRTixHQUNOLEtBQUszRCxFQUlELElBQUlLLEVBQVE5QyxFQUFJOEMsTUFDZDZELEVBQVczRyxFQUFJMkcsU0FHakIsR0FBaUIsT0FBYkEsR0FBMkMsbUJBQWZ2RCxFQUEyQixDQUN6RHNELEVBQVksR0FBR2xELE9BQU9pRCxHQUFjakQsT0FBT3lDLEdBQVd6QyxPQUFPVixHQUM3RCxLQUNGLENBSUEsR0FEMEIvRSxNQUFNQyxRQUFRMkksSUFBYUEsRUFBU0MsTUFBTWpDLEdBV2xFLE9BVGlCZ0MsRUFBUzFDLEtBQUksU0FBVWxLLEdBQ3RDLE9BQU93SSxFQUFNLENBQ1hPLE1BQU9BLEVBQ1A2RCxTQUFVNU0sR0FDVHVGLEVBQWNBLEVBQWMsQ0FBQyxFQUFHd0YsR0FBUyxDQUFDLEVBQUcsQ0FDOUNFLE1BQU9BLEVBQ1BJLGdCQUFnQixJQUVwQixJQUNrQjNCLEtBQUssSUFJekIsR0FBSWQsRUFBYWlDLFNBQVM5QixHQUFRLE1BR2xDLElBQUkrRCxFQUFTdEUsRUFBTW9FLEVBQVVySCxFQUFjQSxFQUFjLENBQUMsRUFBR3dGLEdBQVMsQ0FBQyxFQUFHLENBQ3hFRSxNQUFPQSxFQUFRLEVBQ2ZJLGVBQWdCbUIsS0FFZE8sRUFBYWxFLEVBQVFpRSxHQUNyQkUsR0FBNkJGLEVBeEd4Qm5MLE1BQU0sS0F5R1hzTCxFQUFnQmhFLEVBQVE2RCxHQUd4QkksRUFBUyxHQUFHekQsT0FBT2lELEdBQWNqRCxPQUFPeUMsR0FHNUMsR0FBYyxhQUFWbkQsRUFBc0IsQ0FDeEI0RCxHQUFhLEdBQUdsRCxPQUFPeUQsRUFBUSxZQUFTekQsT0FBT21ELEVBQVUsV0FDekQsS0FDRixDQUdBLElBQUlPLEVBQTRCLGNBQWZKLEdBQXlDLEtBQVhELEVBQzNDTSxFQUFrQm5CLEVBQ2xCb0IsRUFBaUJwSCxFQUFJcUgsY0FDckJDLEVBQWtCakgsRUFBUStHLEtBQW9CM0UsRUFBcUJ5RSxHQUFjRSxFQUFpQkYsR0FBY0MsRUFDaEhJLEdBQWVELEVBQWtCLElBQU0sR0FDdkNFLEdBQW1CNUQsRUFBaUI1RCxFQUFJeUgsT0FBUWxDLEVBQXVCRSxFQUFpQkUsR0FDeEYrQixHQUFNLElBQUlsRSxPQUFPVixHQUFPVSxPQUFPZ0UsSUFBa0JoRSxPQUFPK0QsR0FBYyxLQUd0RUksSUFBaUIxQyxHQUFXOEIsR0FBbUJDLEVBQXlDLEdBQXpCLEtBQUt4RCxPQUFPeUMsR0FDM0UyQixHQUFXTixFQUFzRixHQUFwRSxHQUFHOUQsT0FBT3FELEdBQVFyRCxPQUFPbUUsR0FBZ0IsTUFBTW5FLE9BQU9WLEVBQU8sS0FDOUY0RCxHQUFhLEdBQUdsRCxPQUFPeUQsR0FBUXpELE9BQU9rRSxJQUFLbEUsT0FBT29FLElBQ2xELE1BRUosS0FBS25GLEVBSUQsSUFBSTNELEdBQU9sRixPQUFPa0YsS0FBS2tCLEdBdUN2QjBHLEVBdENnQjVILEdBQUttRixLQUFJLFNBQVV0RSxFQUFLa0ksR0FDdEMsSUFBSUMsRUFBWXhJLEVBQWNBLEVBQWMsQ0FBQyxFQUFHd0YsR0FBUyxDQUFDLEVBQUcsQ0FDM0RJLGFBQXdCLElBQVYyQyxFQUNkRSxZQUFhRixFQUFRLElBQU0vSSxHQUFLbkQsT0FDaEN5SixlQUFnQm1CLElBRWR5QixFQUFZLENBQ2RsRixNQUFPbkQsR0FFVCxHQUFJaUQsRUFBUTVDLEVBQUlMLE1BQVU4QyxJQUt4QkUsRUFBYWpELFNBQVEsU0FBVXVJLEdBQzdCLElBQUlwRixFQUFNN0MsRUFBSUwsR0FBS3NJLFFBQ0EsSUFBUnBGLElBQ1RtRixFQUFVQyxHQUFjcEYsU0FDakI3QyxFQUFJTCxHQUFLc0ksR0FFcEIsU0FDOEMsSUFBdEJqSSxFQUFJTCxHQUFLZ0gsVUFJM0IvTSxPQUFPa0YsS0FBS2tCLEVBQUlMLElBQU1oRSxPQUFTLEdBQUcsQ0FDcEMsSUFBSXVNLEVBQWdCdE8sT0FBT1QsT0FBTyxDQUFDLEVBQUc2RyxFQUFJTCxXQUNuQ3VJLEVBQWN2QixTQUNyQnFCLEVBQVVyQixTQUFXLEdBQUduRCxPQUFPM0YsRUEvTDlCLFdBQ2YsSUFBSW1DLEVBQU1SLFVBQVU3RCxPQUFTLFFBQXNCUixJQUFqQnFFLFVBQVUsR0FBbUJBLFVBQVUsR0FBSyxDQUFDLEVBQy9FLE9BQU81RixPQUFPa0YsS0FBS2tCLEdBQUtpRSxLQUFJLFNBQVV0RSxHQUNwQyxNQUFPLENBQ0xtRCxNQUFPbkQsRUFDUGdILFNBQVUzRyxFQUFJTCxHQUVsQixHQUNGLENBdUxrRXdJLENBQVdELElBQWlCLENBQUNsSSxFQUFJTCxHQUFLZ0gsVUFDMUYsQ0FPSixZQUZrQyxJQUF2QnFCLEVBQVVyQixXQUEwQnFCLEVBQVVyQixTQUFXM0csRUFBSUwsSUFDOUQ0QyxFQUFNeUYsRUFBV0YsRUFFN0IsR0FBR2hELEdBQ21CckIsS0FBSyxJQUMzQixNQUVKLEtBQUtoQixFQUlELElBQUkyRixHQUFXcEksRUFBSThFLEdBQ25CNEIsRUFBWW5FLEVBQU02RixHQUFVdEQsR0FDNUIsTUFFSixLQUFLckMsRUFXRGlFLEVBUmlCMUcsRUFBSWlFLEtBQUksU0FBVW9FLEVBQVdSLEdBQzVDLElBQUlDLEVBQVl4SSxFQUFjQSxFQUFjLENBQUMsRUFBR3dGLEdBQVMsQ0FBQyxFQUFHLENBQzNESSxhQUF3QixJQUFWMkMsRUFDZEUsWUFBYUYsRUFBUSxJQUFNN0gsRUFBSXJFLE9BQy9CeUosZUFBZ0JtQixJQUVsQixPQUFPaEUsRUFBTThGLEVBQVdQLEVBQzFCLElBQ3VCckUsS0FBSyxJQUM1QixNQUlKLFFBRUlpRCxFQUFZeEQsRUFBT2xELEVBQUs2RixFQUFxQnpDLEdBSW5ELE1BQU8sR0FBR0ksT0FBTzZDLEdBQVc3QyxPQUFPa0QsRUFDckMsRUFDQTlJLEVBQVMyRSxNQUFRQSxFQUNqQixJQUFJK0YsRUFBVyxDQUNiL0YsTUFBT0EsR0FFVDNFLEVBQVM0RSxRQUFVOEYsQ0FDckIsT0EzWitCLGlCQUFwQixDQUFDLE9BQW1CLGtIQ0YvQixpQ0FrQkEsTUFBYUMsRUFDWCxXQUFBcEcsQ0FBbUJxRyxHQUFBLEtBQUFBLE1BQUFBLENBQWtCLENBQ3JDLFNBQUlDLEdBQWtCLE9BQU8sS0FBT3JOLEtBQUtzTixLQUFLelAsS0FBS3VQLE1BQU1qTSxVQUFZLENBQ3JFLFdBQUlvTSxHQUFvQixPQUFPLElBQU92TixLQUFLd04sTUFBTTNQLEtBQUt1UCxNQUFNak0sVUFBWSxDQUN4RSxVQUFBc00sQ0FBV0MsR0FBaUMsT0FBTyxJQUFJUCxFQUFTdFAsS0FBS3VQLE1BQU1PLElBQUlELEVBQVVOLE9BQVMsQ0FDbEcsZ0JBQU9RLENBQVVSLEdBQTJCLE9BQU8sSUFBSUQsRUFBUyxJQUFJLFVBQVNDLEdBQVMsQ0FDdEYsZ0JBQU9TLENBQVVSLEdBQTJCLE9BQU8sSUFBSUYsRUFBUyxJQUFJLFVBQVNuTixLQUFLQyxJQUFJLEVBQUdvTixFQUFRLE9BQVMsQ0FDMUcsa0JBQU9TLENBQVlQLEdBQTZCLE9BQU8sSUFBSUosRUFBUyxJQUFJLFVBQVNuTixLQUFLQyxJQUFJLEdBQUlzTixFQUFVLE1BQVMsQ0FDakgsY0FBT1EsQ0FBUXBQLEVBQWE4QixHQUF1QixPQUFPOUIsRUFBRXlPLE1BQU1XLFFBQVF0TixFQUFFMk0sTUFBUSxFQVJ0RixhQVNTLEVBQUFZLElBQWdCYixFQUFTVSxVQUFVLGdIQzNCNUMsU0FFQSxTQUNBLFNBQ0EsU0FDQSw0QkFPQSxNQUFhSSxFQTBHWCxXQUFBbEgsQ0FDVW1ILEVBQ0FDLEVBQ1JDLEVBQVUsQ0FBQyxHQUZILEtBQUFGLE1BQUFBLEVBQ0EsS0FBQUMsUUFBQUEsRUFHUnRRLEtBQUt1USxRQUFVNVAsT0FBT1QsT0FBTyxDQUFDLEVBQUdrUSxFQUFTSSxlQUFnQkQsR0FDMUR2USxLQUFLNlAsVUFBWSxJQUFJLEVBQUFZLFlBQVksRUFBQUMsT0FBT0MsUUFBUSxJQUFLLENBQ25ELEVBQUssRUFDTCxFQUFLLEVBQ0wsRUFBSyxFQUNMLEVBQUssRUFDTCxFQUFLLEVBQ0wsRUFBSyxFQUNMLEVBQUssSUFDSixDQUFDLEVBQ04sQ0FFQSxPQUFBQyxHQUNFLE9BQU8sSUFBQXRILE9BQU10SixLQUFLNlEsa0JBQW1CLENBQ25DekUsT0FBUSwrS0FHTjBFLE9BQ0Y5RSxPQUFRLE1BRVosQ0FFUSxlQUFBNkUsR0FDTixNQUFPLENBQ0xoSCxNQUFPLGlCQUNQMkUsT0FBUSxDQUFFLFFBN0lTLE9BOEluQmQsU0FBVSxDQUFDLENBQ1QsS0FBUSxDQUNOLGFBQWMxTixLQUFLcVEsUUFFcEIsQ0FDRCxlQUFrQixDQUFDLENBQ2pCLFNBQVksQ0FBQyxDQUNYLFNBQVksMEJBQTBCLFVBQUlVLFdBQ3pDLENBQ0QsZ0JBQWlCWCxFQUFTWSxZQUFZLElBQUlsSCxXQUc3QyxDQUNELFlBQWEsQ0FDWEQsTUFBTyxhQUNQMkUsT0FBUSxDQUFFLEdBQU0sTUFDaEJkLFNBQVUsQ0FDUjdELE1BQU8sWUFDUDJFLE9BQVEsQ0FBRSxlQUFnQixNQUMxQmQsU0FBVTFOLEtBQUtxUSxTQUdsQixDQUNEeEcsTUFBTyxPQUNQMkUsT0FBUSxDQUFFLEdBQU0sTUFDaEJkLFNBQVUxTixLQUFLaVIsbUJBR3JCLENBZVEsY0FBQUEsR0FDTixPQUFPalIsS0FBS3NRLFFBQVFuRixRQUFPLENBQUMrRixFQUFVdkwsRUFBUXdMLEtBRTVDLElBQUlDLEVBQVVwUixLQUFLcVIsZUFBZUgsRUFBU3hPLE9BQVMsR0FDcER3TyxFQUFTdk4sS0FBS3lOLEdBR1ZELEVBQVMsR0FDWEMsRUFBa0IsU0FBRXpOLEtBQUssQ0FDdkJrRyxNQUFPLFFBQ1AyRSxPQUFRLENBQUUsYUFBYyxTQUtiLElBQVgyQyxHQUNGQyxFQUFrQixTQUFFek4sS0FBSyxDQUN2QixXQUFjLENBQUMsQ0FDYixVQUFhM0QsS0FBS3VRLFFBQW1CLFdBQ3BDLENBQ0QsSUFBTyxDQUFDLENBQ04sT0FBVSxHQUNULENBQ0QsS0FBUSxXQUVULENBQ0QsS0FBUSxDQUFDLENBQ1AsTUFBU3ZRLEtBQUt1USxRQUFjLEtBQVMsT0FDcEMsQ0FDRCxZQUFhdlEsS0FBS3VRLFFBQWMsS0FBWSxZQUU3QyxDQUNELEtBQVEsQ0FBQyxDQUNQLEtBQVEsS0FDUCxDQUNELEtBQVEsUUFPaEIsTUFBTWUsRUFBUyxFQUFBQyxXQUFXQyxZQUFZLFFBQVM3TCxFQUFPOEwsYUFDdERDLFFBQVFwUCxJQUFJZ1AsR0FDUkEsR0FDRkYsRUFBa0IsU0FBRXpOLEtBQUssQ0FDdkJrRyxNQUFPLFlBQ1AyRSxPQUFRLENBQUUsVUFBYSxTQUN2QmQsU0FBVSxDQUFDLENBQ1QsaUJBQWtCLENBQUMsQ0FDakIsTUFBUzRELEVBQU8sU0FPeEIsSUFBSUssRUFBTyxFQTZCWCxPQTVCQWhNLEVBQU9pTSxNQUFNbkwsU0FBUSxDQUFDb0wsRUFBTUMsS0FDMUJWLEVBQWtCLFNBQUV6TixLQUFLM0QsS0FBSytSLFlBQVlGLEVBQU1sTSxJQUdoRGdNLEdBQVFBLEVBQU8sR0FBSzNSLEtBQUt1USxRQUFjLEtBQVMsTUFDbkMsSUFBVG9CLEdBQWNHLEVBQVluTSxFQUFPaU0sTUFBTWxQLE9BQVMsSUFDbEQwTyxFQUFVcFIsS0FBS3FSLGVBQWVILEVBQVN4TyxPQUFTLEdBQ2hEd08sRUFBU3ZOLEtBQUt5TixPQW1CbEJBLEVBQWtCLFNBQUV6TixLQUFLM0QsS0FBS2dTLFdBQVcsUUFBUyxnQkFFM0NkLENBQVEsR0FDZCxHQUNMLENBRVEsVUFBQWMsQ0FBV0MsRUFBa0JDLEdBQ25DLE1BQU8sQ0FDTHJJLE1BQU8sVUFDUDJFLE9BQVEsQ0FBRSxTQUFZeUQsR0FDdEJ2RSxTQUFVLENBQUMsQ0FDVCxZQUFhd0UsSUFHbkIsQ0FFUSxjQUFBYixDQUFlYyxHQUNyQixNQUFPLENBQ0x0SSxNQUFPLFVBQ1AyRSxPQUFRLENBQUUsT0FBVTJELEdBQ3BCekUsU0FBVSxHQUVkLENBRVEsV0FBQXFFLENBQVlGLEVBQVlsTSxHQUM5QixNQUFNd0QsRUFBT3hELEVBQU95TSxZQUFZakosS0FBSzBJLEdBQU0sR0FDckNRLEVBQU9sSixFQUFLLEdBQ1ptSixFQUFhdFMsS0FBS3VTLGtCQUFrQnBKLEVBQUtGLE1BQU0sR0FBSSxJQUNuRHVKLEVBQVNySixFQUFLQSxFQUFLekcsT0FBTyxHQUcxQm1OLEVBQVk3UCxLQUFLNlAsVUFBVXpPLE1BQU0sR0FBR2lSLElBQU9HLEtBQzNDaEQsRUFBUXFDLEVBQUtZLEtBQUs3QyxXQUFXQyxFQUFVNEMsTUFBTWpELE1BRW5ELE1BQU8sQ0FDTDNGLE1BQU8sT0FDUDZELFNBQVUsQ0FBQyxDQUNUN0QsTUFBTyxRQUNQNkQsU0FBVSxDQUFDLENBQ1QsS0FBUTJFLEdBQ1AsQ0FDRCxNQUFTbFEsS0FBS2EsTUFBYyxJQUFSd00sR0FBZSxLQUNsQyxDQUNELE9BQVVnRCxLQUVYLENBQ0QsU0FBWXhTLEtBQUt1USxRQUFtQixXQUNuQyxDQUNELEtBQVFILEVBQVNzQyxVQUFVMVMsS0FBS3VRLFFBQWMsS0FBWSxXQUN6RCxPQUFGLFVBQ0srQixHQUE2QixVQUFmQSxHQUEwQixDQUFFLFdBQWNBLElBQWEsaUJBRXJFQSxHQUE2QixVQUFmQSxHQUEwQixDQUMxQ3pJLE1BQU8sYUFDUDZELFNBQVU0RSxFQUNWOUQsT0FBUSxDQUFFLE1BQVNyRixFQUFLRixNQUFNLEdBQUksT0FJMUMsQ0FFUSxpQkFBQXNKLENBQWtCRCxHQUN4QixPQUFLQSxFQUFXNVAsT0FDWjRQLEtBQWNsQyxFQUFTdUMsWUFDbEJ2QyxFQUFTdUMsWUFBWUwsR0FFdkIsUUFKd0IsSUFLakMsQ0FJUSxrQkFBT3RCLENBQVk0QixHQUN6QixPQUFPLElBQUk5SSxLQUFLOEksRUFBS0MsVUFBd0MsSUFBM0JELEVBQUtFLHFCQUNwQ0MsY0FDQUMsTUFBTSxLQUFLLEVBQ2hCLEVBblZGLGFBQ1MsRUFBQXhDLGVBQWlCLENBQ3RCLFVBQWEsSUFDYixLQUFRLENBQ04sTUFBUyxFQUNULFNBQVksSUFJVCxFQUFBbUMsWUFBYyxDQUNuQixJQUFLLFFBQ0wsSUFBSyxRQUNMLElBQVUsUUFFVixFQUFLLFVBQ0wsSUFBSyxVQUNMLElBQVUsVUFFVixFQUFLLE9BQ0wsSUFBSyxPQUNMLElBQVUsT0FFVixFQUFLLGVBQ0wsS0FBTSxlQUNOLElBQVUsZUFFVixLQUFNLGNBQ04sS0FBTSxjQUNOLElBQVUsY0FFVixHQUFNLFlBQ04sS0FBTSxZQUNOLEtBQU0sWUFDTixJQUFVLFlBRVYsS0FBTSxnQkFDTixLQUFNLGdCQUNOLElBQVUsZ0JBRVYsR0FBTSxlQUNOLEtBQU0sZUFDTixJQUFVLGVBRVYsS0FBTSxlQUNOLE1BQU8sZUFDUCxJQUFVLGVBRVYsSUFBTyxjQUNQLE1BQU8sY0FDUCxJQUFVLGNBR1YsSUFBVSxlQUNWLElBQVUsZ0JBQ1YsSUFBVSxzQkFDVixJQUFVLHVCQUdWLElBQVUsYUFDVixJQUFVLFdBQ1YsSUFBVSxlQUNWLElBQVUsYUFDVixJQUFVLFlBQ1YsSUFBVSxVQUNWLElBQVUsb0JBQ1YsSUFBVSxrQkFDVixJQUFVLGlCQUNWLElBQVUsZUFDVixJQUFVLGFBQ1YsSUFBVSxXQUdWLElBQVUsc0JBQ1YsSUFBVSxjQUNWLElBQVUsYUFDVixJQUFVLG9CQUNWLElBQVUsZUFDVixJQUFVLGdCQUNWLElBQVUsT0FDVixJQUFVLFFBR1YsSUFBVSxVQUNWLElBQVUsVUFDVixJQUFVLFVBQ1YsSUFBVSxVQUNWLElBQVUsU0FDVixJQUFVLFNBQ1YsSUFBVSxTQUNWLElBQVUsU0FHVixJQUFVLE9BQ1YsSUFBVSxTQUdMLEVBQUFELFVBQVksQ0FDakIsRUFBRyxTQUNILEVBQUcsVUFDSCxFQUFHLE9BQ0gsRUFBRywyR0NoSFAsZUFDQSxTQUNBLFNBV0Esb0JBaUNFLFdBQUF4SixDQUNTK0osRUFDQUMsRUFDQVAsR0FGQSxLQUFBTSxPQUFBQSxFQUNBLEtBQUFDLE1BQUFBLEVBQ0EsS0FBQVAsWUFBQUEsRUFHUDNTLEtBQUttVCxTQUFXLElBQUksRUFBQUMsU0FDcEJ6UyxPQUFPa0YsS0FBS3FOLEdBQU96TSxTQUFRNE0sSUFDekJyVCxLQUFLbVQsU0FBU0csSUFBSUQsRUFBTUgsRUFBTUcsSUFDOUIxUyxPQUFPa0YsS0FBSzhNLEdBQWFsTSxTQUFRNkwsSUFDL0J0UyxLQUFLbVQsU0FBU0csSUFBSSxHQUFHRCxJQUFPZixLQUFjLElBQUFpQixLQUFJTCxFQUFNRyxHQUFRVixFQUFZTCxHQUFhVyxFQUFPTyxPQUFPLEdBQ25HLElBS0p4VCxLQUFLeVQsUUFBVSxJQUFJLEVBQUFMLFNBQ25CelMsT0FBT2tGLEtBQUtxTixHQUFPek0sU0FBUTRNLElBQ3pCLE1BQU1HLEVBQVEsQ0FBQyxHQUNmeFQsS0FBS3lULFFBQVFILElBQUlELEVBQU1ILEVBQU1HLElBQzdCMVMsT0FBT2tGLEtBQUs4TSxHQUFhbE0sU0FBUTZMLElBQzFCa0IsRUFBTTdILFNBQVNnSCxFQUFZTCxNQUM5QnRTLEtBQUt5VCxRQUFRSCxJQUFJLEdBQUdELElBQU9mLEtBQWMsSUFBQWlCLEtBQUlMLEVBQU1HLEdBQVFWLEVBQVlMLEdBQWFXLEVBQU9PLFFBQzNGQSxFQUFNN1AsS0FBS2dQLEVBQVlMLE9BRXpCLElBSUp0UyxLQUFLMFQsTUFBUSxJQUFJcEosT0FDZixLQUFPeEYsTUFBTU8sS0FBS3JGLEtBQUttVCxTQUFTdE4sUUFBUW1GLElBQUksRUFBQTJJLGNBQWNuSixLQUFLLEtBQS9ELFlBRUEsSUFFSixDQVFBLElBQUFyQixDQUFLMEksR0FFSCxNQURjLElBQUk3UixLQUFLeVQsUUFBUUcsT0FBTy9CLEVBQUtnQyxhQUM5QkMsTUFBSyxDQUFDaFQsRUFBRzhCLElBQU05QixFQUFFNEIsT0FBU0UsRUFBRUYsU0FBUXNJLEtBQUk3QixHQUFRLEdBQUdBLElBQU8wSSxFQUFLVyxVQUM5RSxDQVFBLEtBQUFwUixDQUFNaVMsR0FDSixNQUFNNVEsRUFBUXpDLEtBQUswVCxNQUFNSyxLQUFLVixHQUM5QixJQUFLNVEsRUFDSCxNQUFNLElBQUlJLE1BQU0sNENBQTRDd1EsS0FFOUQsT0FBTyxJQUFJLEVBQUFXLEtBQUtoVSxLQUFLaVQsT0FBUWpULEtBQUttVCxTQUFTYyxJQUFJeFIsRUFBTSxJQUFLbkMsU0FBU21DLEVBQU0sR0FBSSxJQUMvRSxtSEN6R0YsZUFnQkEsTUFBYXlSLEVBUVgsV0FBQWhMLENBQW1CK0osRUFBdUJyQixFQUFzQkgsRUFBNEIsSUFFMUYsR0FGaUIsS0FBQXdCLE9BQUFBLEVBQXVCLEtBQUFyQixNQUFBQSxFQUFzQixLQUFBSCxZQUFBQSxFQUUxREcsRUFBTXVDLE1BQUssQ0FBQ3RDLEVBQU1qRCxNQUFZZ0QsRUFBTTNJLE1BQU0yRixFQUFRLEdBQUd3RixNQUFLbFIsR0FBS0EsRUFBRTJRLGFBQWVoQyxFQUFLZ0MsZUFDdkYsTUFBTWhSLE1BQU0sMkNBRWhCLENBS0EsU0FBQXdSLENBQVUvTixHQUNSLE9BQU8sSUFBSTROLEVBQVFsVSxLQUFLaVQsT0FBUWpULEtBQUs0UixNQUFNNUcsS0FBSTZHLEdBQzdDLEVBQUFtQyxLQUFLTSxVQUFVdFUsS0FBS2lULE9BQVEzTSxFQUFPaU8sTUFBUTFDLEVBQUswQyxTQUVwRCxDQUtBLE1BQUFDLENBQU9DLEdBQ0wsT0FBTyxJQUFJUCxFQUFRbFUsS0FBS2lULE9BQVFqVCxLQUFLNFIsTUFBTTVHLEtBQUk2RyxHQUM3QyxFQUFBbUMsS0FBS00sVUFBVXRVLEtBQUtpVCxPQUFRd0IsRUFBS0YsTUFBUTFDLEVBQUswQyxTQUVsRCxDQUtBLE9BQUFHLEdBQ0UsT0FBTyxJQUFJUixFQUFRbFUsS0FBS2lULE9BQVEsSUFBSWpULEtBQUs0UixPQUFPOEMsVUFDbEQsQ0FLQSxNQUFBQyxDQUFPQyxHQUNMLE1BQU1DLEVBQUlELEVBQVM1VSxLQUFLNFIsTUFBTWxQLE9BQzlCLE9BQU8sSUFBSXdSLEVBQVFsVSxLQUFLaVQsT0FBUSxJQUFJalQsS0FBSzRSLE1BQU0zSSxNQUFNNEwsTUFBTzdVLEtBQUs0UixNQUFNM0ksTUFBTSxFQUFHNEwsSUFDbEYsQ0FPQSxVQUFBQyxDQUFXQyxHQUFhLEdBQ3RCLE9BQU8sSUFBSWIsRUFBUWxVLEtBQUtpVCxPQUFRalQsS0FBSzRSLE1BQU16RyxRQUFPLENBQUM2SixFQUFTeE0sS0FDMUQsTUFBTXlNLEVBQWFELEVBQVF0UyxPQUFTLEVBQUlzUyxFQUFRQSxFQUFRdFMsT0FBTyxHQUFLOEYsRUFRcEUsT0FQS3VNLEdBQWN2TSxFQUFLK0wsTUFBUVUsRUFBS1YsTUFDbkNTLEVBQVFyUixLQUFLLElBQUksRUFBQXFRLEtBQUtoVSxLQUFLaVQsT0FBUXpLLEVBQUtxTCxXQUFZb0IsRUFBS3pDLFFBQVVoSyxFQUFLcUwsV0FBYW9CLEVBQUtwQixXQUFhLEVBQUksS0FDbEdrQixHQUFjdk0sRUFBSytMLE1BQVFVLEVBQUtWLE1BQ3pDUyxFQUFRclIsS0FBSyxJQUFJLEVBQUFxUSxLQUFLaFUsS0FBS2lULE9BQVF6SyxFQUFLcUwsV0FBWW9CLEVBQUt6QyxRQUFVaEssRUFBS3FMLFdBQWFvQixFQUFLcEIsWUFBYyxFQUFJLEtBRTVHbUIsRUFBUXJSLEtBQUs2RSxHQUVSd00sQ0FBTyxHQUNiLElBQ0wsQ0FLQSxXQUFJRSxHQUNGLE9BQU9sVixLQUFLNFIsTUFBTTVHLEtBQUk2RyxHQUFRQSxFQUFLMEMsT0FDckMsQ0FLQSxrQkFBT1ksQ0FBWWxDLEVBQWdCaUMsRUFBbUJ6RCxFQUE0QixJQUNoRixPQUFPLElBQUl5QyxFQUFRakIsRUFBUWlDLEVBQVFsSyxLQUFJdUosR0FDckMsRUFBQVAsS0FBS00sVUFBVXJCLEVBQVFzQixLQUN0QjlDLEVBQ0wsQ0FLQSx1QkFBTzJELENBQWlCbkMsRUFBZ0JvQyxFQUF3QjdDLEVBQWdCZixFQUE0QixJQUMxRyxPQUFPLElBQUl5QyxFQUFRakIsRUFBUW9DLEVBQWFySyxLQUFJNkksR0FDMUMsSUFBSSxFQUFBRyxLQUFLZixFQUFRWSxFQUFZckIsS0FDNUJmLEVBQ0wsRUExRkYsWUE2RkEsTUFBYTZELFVBQXdCcEIsRUFDbkMsV0FBQWhMLENBQW1CK0osRUFBdUJiLEVBQWlDUixFQUFzQkgsRUFBNEIsSUFDM0g4RCxNQUFNdEMsRUFBUXJCLEVBQU9ILEdBREosS0FBQXdCLE9BQUFBLEVBQXVCLEtBQUFiLFlBQUFBLEVBQWlDLEtBQUFSLE1BQUFBLEVBQXNCLEtBQUFILFlBQUFBLENBRWpHLENBRUEsa0JBQU8rRCxDQUFZQyxFQUFjckQsR0FDL0IsT0FBTyxJQUFJa0QsRUFBZ0JHLEVBQUl4QyxPQUFRYixFQUFhcUQsRUFBSTdELE1BQU82RCxFQUFJaEUsWUFDckUsRUFQRiw4SEM3R0EsaUNBQ0EsU0FFQSxTQXdCQSxNQUFhZixFQVVYLFdBQUF4SCxDQUFtQndNLEVBQThCakUsRUFBNEIsSUFBMUQsS0FBQWlFLFVBQUFBLEVBQThCLEtBQUFqRSxZQUFBQSxFQUMvQ3pSLEtBQUswVixVQUFVNUIsS0FBSyxFQUFBeEUsU0FBU1ksU0FDWSxHQUFyQ2xRLEtBQUswVixVQUFVLEdBQUduRyxNQUFNak0sWUFDMUJ0RCxLQUFLMFYsVUFBWSxDQUFDLElBQUksRUFBQXBHLFNBQVMsSUFBSSxVQUFTLE9BQVF0UCxLQUFLMFYsV0FFN0QsQ0FTQSxvQkFBT0MsQ0FBY0QsRUFBOEJqRSxFQUE0QixJQUM3RSxPQUFPLElBQUlmLEVBQU9nRixFQUFVMUssS0FBSTRLLEdBQ1AsaUJBQVpBLEVBQ0YsSUFBSSxFQUFBdEcsU0FBUyxJQUFJLFVBQVNzRyxJQUcxQixFQUFBdEcsU0FBU1UsVUFBVTRGLEtBRTFCbkUsRUFDTixDQVNBLGdCQUFJb0UsR0FDRixRQUEyQjNULElBQXZCbEMsS0FBSzhWLGNBQTZCLE9BQU85VixLQUFLOFYsY0FFbEQsTUFBTUMsRUFBa0IvVixLQUFLMFYsVUFBVSxHQUFHOUYsV0FBVzVQLEtBQUswVixVQUFVLElBQ3BFLE9BQVExVixLQUFLOFYsY0FBZ0I5VixLQUFLMFYsVUFBVXpNLE1BQU0sR0FBRzBFLE9BQU0sQ0FBQ25NLEVBQUdMLEtBQzdELE1BQU1xSCxFQUFpQmhILEVBQUVvTyxXQUFXNVAsS0FBSzBWLFVBQVV2VSxJQUVuRCxPQUR1QixJQUFJLEVBQUFtTyxVQUFTLElBQUEwRyxjQUFheE4sRUFBS29ILFdBQVdtRyxHQUFPeEcsT0FBTyxJQUNuRUEsTUFBTVcsUUFBUSxFQUFBWixTQUFTYSxJQUFJWixPQUFTLENBQUMsR0FFckQsQ0FPQSxTQUFJaUUsR0FDRixPQUFPeFQsS0FBSzBWLFVBQVVoVCxPQUFTLENBQ2pDLENBT0EsVUFBSThQLEdBQ0YsT0FBT3hTLEtBQUswVixVQUFVMVYsS0FBS3dULE1BQzdCLENBUUEsSUFBQWYsQ0FBS1osR0FHSCxPQUFPLElBQUksRUFBQXZDLFNBQ1R0UCxLQUFLMFYsVUFBVTdELEVBQUtnQyxZQUFZdEUsTUFBTTBHLElBQUlqVyxLQUFLd1MsT0FBT2pELE1BQU1uTixJQUFJeVAsRUFBS1csU0FFekUsQ0FTQSxPQUFBMEQsQ0FBUU4sR0FFTixNQUFNcEQsRUFBU3JRLEtBQUtFLE1BQU1GLEtBQUtHLElBQUlzVCxFQUFTckcsTUFBTWpNLFdBQWFuQixLQUFLRyxJQUFJdEMsS0FBS3dTLE9BQU9qRCxNQUFNak0sWUFDcEY2UyxFQUFPLElBQUksRUFBQTdHLFNBQVNzRyxFQUFTckcsTUFBTU8sSUFBSTlQLEtBQUt3UyxPQUFPakQsTUFBTW5OLElBQUlvUSxLQUc3RHJTLEdBQUksSUFBQWlXLGNBQWFwVyxLQUFLMFYsVUFBV1MsRUFBTSxFQUFBN0csU0FBU1ksU0FDdEQsR0FBSS9QLEdBQUssRUFFUCxNQUFPLENBQ0wwUixLQUFNLElBQUltQyxFQUFLaFUsS0FBTUcsRUFBR3FTLEdBQ3hCb0QsV0FDQWhHLFdBQVksSUFBSSxFQUFBTixTQUFTLElBQUksVUFBUyxLQUVuQyxDQUdMLE1BQU1qTCxHQUFLbEUsRUFDTGtXLEVBQVFsVSxLQUFLUSxJQUFJM0MsS0FBSzBWLFVBQVVyUixFQUFFLEdBQUd1TCxXQUFXdUcsR0FBTTNHLE9BQ3REOEcsRUFBUW5VLEtBQUtRLElBQUkzQyxLQUFLMFYsVUFBVXJSLEdBQUd1TCxXQUFXdUcsR0FBTTNHLE9BRXBEK0csRUFBYyxJQUFJdkMsRUFBS2hVLEtBRGJxVyxFQUFRQyxFQUFRalMsRUFBRSxFQUFJQSxFQUNNbU8sR0FDdENnRSxFQUFrQnhXLEtBQUt5UyxLQUFLOEQsR0FDbEMsTUFBTyxDQUNMMUUsS0FBTTBFLEVBQ05YLFNBQVVZLEVBQ1Y1RyxXQUFZNEcsRUFBZ0I1RyxXQUFXZ0csSUFHN0MsQ0FTQSxjQUFPakYsQ0FBUThGLEdBQ2IsT0FBTyxJQUFJL0YsRUFBTzVMLE1BQU1PLEtBQUtQLE1BQU0yUixFQUFZLElBQUl6TCxLQUFJLENBQUMwTCxFQUFHdlYsSUFDbEQsRUFBQW1PLFNBQVNVLFVBQVUsS0FBT3lHLEVBQVl0VixLQUVqRCxFQXRJRixXQTRJQSxNQUFhNlMsRUFDWCxXQUFBOUssQ0FBbUIrSixFQUF1QlksRUFBMkJyQixHQUFsRCxLQUFBUyxPQUFBQSxFQUF1QixLQUFBWSxXQUFBQSxFQUEyQixLQUFBckIsT0FBQUEsQ0FFckUsQ0FFQSxTQUFJK0IsR0FDRixPQUFPdlUsS0FBSzZULFdBQWE3VCxLQUFLd1MsT0FBU3hTLEtBQUtpVCxPQUFPTyxLQUNyRCxDQUVBLFFBQUlmLEdBQ0YsT0FBT3pTLEtBQUtpVCxPQUFPUixLQUFLelMsS0FDMUIsQ0FFQSxnQkFBT3NVLENBQVVyQixFQUFnQnNCLEdBQy9CLE9BQU8sSUFBSVAsRUFBS2YsR0FBUSxJQUFBTSxLQUFJZ0IsRUFBT3RCLEVBQU9PLE9BQVFyUixLQUFLRSxNQUFNa1MsRUFBUXRCLEVBQU9PLE9BQzlFLEVBZkYscUdDdktBLHlCQUNBLHlCQUNBLHlCQUNBLHlCQUNBLHdCQUNBLHdIQ0FBLG1CQUNFLGtCQUFPaEMsQ0FBWW1GLEVBQWVsRixHQUNoQyxPQUFPQSxFQUFZekwsUUFBTzRRLEdBQWNBLEVBQVdELFFBQVVBLElBQU8zTCxLQUFJNEwsR0FBY0EsRUFBVzVQLE9BQ25HLENBRUEsV0FBQWtDLENBQW1CeU4sRUFBc0IzUCxHQUF0QixLQUFBMlAsTUFBQUEsRUFBc0IsS0FBQTNQLE1BQUFBLENBQWEsZ0hDcUJ4RCw0QkFDWSxLQUFBNlAsWUFBeUIsSUFBSUMsSUFDN0IsS0FBQUMsWUFBeUIsSUFBSUQsSUFPaEMsUUFBb0Q5VyxLQUFLNlcsWUFBWTFSLE9BQU9DLFVBRTVFLEtBQUEyRixRQUFVLElBQWdDL0ssS0FBSzZXLFlBQVk5TCxVQUMzRCxLQUFBbEYsS0FBTyxJQUEyQjdGLEtBQUs2VyxZQUFZaFIsT0FDbkQsS0FBQW1SLE9BQVMsSUFBMkJoWCxLQUFLNlcsWUFBWUcsU0FFckQsS0FBQS9DLElBQU9uVCxHQUF3QmQsS0FBSzZXLFlBQVk1QyxJQUFJblQsR0FDcEQsS0FBQThTLE9BQVVoUixHQUF3QjVDLEtBQUsrVyxZQUFZOUMsSUFBSXJSLEdBQ3ZELEtBQUFxVSxTQUFZblcsR0FBd0JkLEtBQUtpVSxJQUFJblQsR0FDN0MsS0FBQXdTLElBQU0sQ0FBQzVNLEVBQVFNLEtBRXBCaEgsS0FBS2tYLE9BQU94USxHQUNaMUcsS0FBS21YLFlBQVluUSxHQUVqQmhILEtBQUs2VyxZQUFZdkQsSUFBSTVNLEVBQUtNLEdBQzFCaEgsS0FBSytXLFlBQVl6RCxJQUFJdE0sRUFBT04sR0FFckIxRyxNQUVGLEtBQUFvWCxPQUFTLENBQUNwUSxFQUFVTixJQUFpQjFHLEtBQUtzVCxJQUFJNU0sRUFBS00sR0FDbkQsS0FBQXFRLFNBQVcsQ0FBQzNRLEVBQVFNLElBQW1CaEgsS0FBS3NULElBQUk1TSxFQUFLTSxHQUNyRCxLQUFBc1EsTUFBUSxLQUNidFgsS0FBSzZXLFlBQVlTLFFBQ2pCdFgsS0FBSytXLFlBQVlPLE9BQU8sRUFFbkIsS0FBQUosT0FBVXhRLElBQ2YsR0FBSTFHLEtBQUt1WCxJQUFJN1EsR0FBTSxDQUNqQixNQUFNTSxFQUFRaEgsS0FBSzZXLFlBQVk1QyxJQUFJdk4sR0FHbkMsT0FGQTFHLEtBQUs2VyxZQUFZSyxPQUFPeFEsR0FDeEIxRyxLQUFLK1csWUFBWUcsT0FBT2xRLElBQ2pCLEVBRVQsT0FBTyxDQUFLLEVBRVAsS0FBQXdRLFVBQWE5USxHQUFvQjFHLEtBQUtrWCxPQUFPeFEsR0FDN0MsS0FBQXlRLFlBQWVuUSxLQUNoQmhILEtBQUt5WCxTQUFTelEsSUFDVGhILEtBQUtrWCxPQUFPbFgsS0FBSytXLFlBQVk5QyxJQUFJak4sSUFJckMsS0FBQVAsUUFBVSxDQUNmaVIsRUFDQUMsS0FFQTNYLEtBQUs2VyxZQUFZcFEsU0FBUSxDQUFDTyxFQUFPTixLQUMvQmdSLEVBQVd0UixNQUFNdVIsRUFBUyxDQUFDM1EsRUFBT04sRUFBSzFHLE1BQU0sR0FDN0MsRUFFRyxLQUFBdVgsSUFBTzdRLEdBQW9CMUcsS0FBSzZXLFlBQVlVLElBQUk3USxHQUNoRCxLQUFBa1IsT0FBVWxSLEdBQW9CMUcsS0FBS3VYLElBQUk3USxHQUN2QyxLQUFBK1EsU0FBWXpRLEdBQXNCaEgsS0FBSytXLFlBQVlRLElBQUl2USxHQUN2RCxLQUFBNlEsUUFBVSxLQUNmLElBQUlwVSxFQUFNLFVBQ05xVSxFQUFRLEVBU1osT0FSQTlYLEtBQUt5RyxTQUFRLENBQUNPLEVBQU9OLEtBQ25Cb1IsSUFDQXJVLEdBQVlpRCxFQUFJc0MsV0FBYSxPQUFTaEMsRUFBTWdDLFdBQ3hDOE8sRUFBUTlYLEtBQUsrWCxPQUNmdFUsR0FBTyxTQUdYQSxHQUFPLElBQ0FBLENBQUcsQ0FFZCxDQXRFRSxRQUFJc1UsR0FDRixPQUFPL1gsS0FBSzZXLFlBQVlrQixJQUMxQixHQUVRNVMsT0FBTzZTLFlBQVcsRUFDbEI3UyxPQUFPQyxTQXNFakIsK0JBQ1ksS0FBQXlSLFlBQXlCLElBQUlDLElBQzdCLEtBQUFDLFlBQTJCLElBQUlELElBT2xDLFFBQW9EOVcsS0FBSzZXLFlBQVkxUixPQUFPQyxVQUU1RSxLQUFBMkYsUUFBVSxJQUFnQy9LLEtBQUs2VyxZQUFZOUwsVUFDM0QsS0FBQWxGLEtBQU8sSUFBMkI3RixLQUFLNlcsWUFBWWhSLE9BQ25ELEtBQUFtUixPQUFTLElBQTJCaFgsS0FBSzZXLFlBQVlHLFNBRXJELEtBQUEvQyxJQUFPblQsR0FBd0JkLEtBQUs2VyxZQUFZNUMsSUFBSW5ULEdBQ3BELEtBQUE4UyxPQUFVaFIsR0FBMEI1QyxLQUFLK1csWUFBWTlDLElBQUlyUixHQUN6RCxLQUFBcVUsU0FBWW5XLEdBQXdCZCxLQUFLaVUsSUFBSW5ULEdBQzdDLEtBQUF3UyxJQUFNLENBQUM1TSxFQUFRTSxLQUNwQmhILEtBQUtrWCxPQUFPeFEsR0FDWjFHLEtBQUs2VyxZQUFZdkQsSUFBSTVNLEVBQUtNLEdBRTFCLE1BQU1uQixFQUFPN0YsS0FBSytXLFlBQVk5QyxJQUFJak4sSUFBVSxHQUc1QyxPQUZBaEgsS0FBSytXLFlBQVl6RCxJQUFJdE0sRUFBTyxJQUFJbkIsRUFBTWEsSUFFL0IxRyxJQUFJLEVBRU4sS0FBQW9YLE9BQVMsQ0FBQ3BRLEVBQVVOLElBQWlCMUcsS0FBS3NULElBQUk1TSxFQUFLTSxHQUNuRCxLQUFBcVEsU0FBVyxDQUFDM1EsRUFBUU0sSUFBbUJoSCxLQUFLc1QsSUFBSTVNLEVBQUtNLEdBQ3JELEtBQUFzUSxNQUFRLEtBQ2J0WCxLQUFLNlcsWUFBWVMsUUFDakJ0WCxLQUFLK1csWUFBWU8sT0FBTyxFQUVuQixLQUFBSixPQUFVeFEsSUFDZixHQUFJMUcsS0FBS3VYLElBQUk3USxHQUFNLENBQ2pCLE1BQU1NLEVBQVFoSCxLQUFLNlcsWUFBWTVDLElBQUl2TixHQUNuQzFHLEtBQUs2VyxZQUFZSyxPQUFPeFEsR0FDeEIsTUFBTWIsRUFBTzdGLEtBQUsrVyxZQUFZOUMsSUFBSWpOLEdBQU9oQixRQUFPL0MsR0FBS0EsSUFBTXlELElBTTNELE9BTEliLEVBQUtuRCxPQUFTLEVBQ2hCMUMsS0FBSytXLFlBQVl6RCxJQUFJdE0sRUFBT25CLEdBRTVCN0YsS0FBSytXLFlBQVlHLE9BQU9sUSxJQUVuQixFQUVULE9BQU8sQ0FBSyxFQUVQLEtBQUF3USxVQUFhOVEsR0FBb0IxRyxLQUFLa1gsT0FBT3hRLEdBQzdDLEtBQUF5USxZQUFlblEsS0FDaEJoSCxLQUFLeVgsU0FBU3pRLEtBQ2hCaEgsS0FBSytXLFlBQVk5QyxJQUFJak4sR0FBT1AsU0FBUUMsSUFBUzFHLEtBQUtrWCxPQUFPeFEsRUFBSSxLQUN0RCxHQUlKLEtBQUFELFFBQVUsQ0FDZmlSLEVBQ0FDLEtBRUEzWCxLQUFLNlcsWUFBWXBRLFNBQVEsQ0FBQ08sRUFBT04sS0FDL0JnUixFQUFXdFIsTUFBTXVSLEVBQVMsQ0FBQzNRLEVBQU9OLEVBQUsxRyxNQUFNLEdBQzdDLEVBRUcsS0FBQXVYLElBQU83USxHQUFvQjFHLEtBQUs2VyxZQUFZVSxJQUFJN1EsR0FDaEQsS0FBQWtSLE9BQVVsUixHQUFvQjFHLEtBQUt1WCxJQUFJN1EsR0FDdkMsS0FBQStRLFNBQVl6USxHQUFzQmhILEtBQUsrVyxZQUFZUSxJQUFJdlEsR0FDdkQsS0FBQTZRLFFBQVUsS0FDZixJQUFJcFUsRUFBTSxhQUNOcVUsRUFBUSxFQVNaLE9BUkE5WCxLQUFLeUcsU0FBUSxDQUFDTyxFQUFPTixLQUNuQm9SLElBQ0FyVSxHQUFZaUQsRUFBSXNDLFdBQWEsT0FBU2hDLEVBQU1nQyxXQUN4QzhPLEVBQVE5WCxLQUFLK1gsT0FDZnRVLEdBQU8sU0FHWEEsR0FBTyxJQUNBQSxDQUFHLENBRWQsQ0EzRUUsUUFBSXNVLEdBQ0YsT0FBTy9YLEtBQUs2VyxZQUFZa0IsSUFDMUIsR0FFUTVTLE9BQU82UyxZQUFXLEVBQ2xCN1MsT0FBT0MsK0xDOUdqQix3QkFBNkIzQixHQUMzQixPQUFPQSxFQUFJZ0gsUUFBUSxzQkFBdUIsT0FDNUMsRUFVQSxrQkFBdUJ3TixHQUNyQixNQUFNQyxFQUFtQixHQUFJQyxFQUFtQixHQUNoRCxJQUFLLElBQUloWCxFQUFJLEVBQUdBLEdBQUs4VyxJQUFPOVcsRUFDMUIsSUFBSytXLEVBQU0vVyxHQUFJLENBRWJnWCxFQUFPeFUsS0FBS3hDLEdBQ1osSUFBSyxJQUFJaVgsRUFBSWpYLEdBQUssRUFBR2lYLEdBQUtILEVBQUtHLEdBQUtqWCxFQUNsQytXLEVBQU1FLElBQUssRUFJakIsT0FBT0QsQ0FDVCxFQUtBLHdCQUE2QnpYLEVBQWEyWCxHQUFpQixHQUN6RCxPQUFPQSxFQUNKM1gsRUFBRWlDLE1BQU11TixRQUFRLEdBQUssRUFBSXhQLEVBQUU0WCxVQUFZNVgsRUFDdkNBLEVBQUVpQyxNQUFNdU4sUUFBUSxHQUFLLEVBQUl4UCxFQUFFNFgsVUFBWTVYLENBQzVDLEVBY0Esd0JBQWdDNlgsRUFBc0JDLEVBQU9DLEdBQzNELElBQUlwVSxFQUFJLEVBQ0psRSxFQUFJb1ksRUFBRzdWLE9BQVMsRUFDcEIsS0FBTzJCLEdBQUtsRSxHQUFHLENBQ2IsTUFBTThDLEVBQUs5QyxFQUFJa0UsR0FBTSxFQUNmcVUsRUFBTUQsRUFBS0QsRUFBSUQsRUFBR3RWLElBQ3hCLEdBQUl5VixFQUFNLEVBQ1JyVSxFQUFJcEIsRUFBSSxNQUNILE1BQUl5VixFQUFNLEdBR2YsT0FBT3pWLEVBRlA5QyxFQUFJOEMsRUFBSSxHQUtaLE9BQVFvQixDQUNWLEVBTUEsc0JBQThCc1UsRUFBdUJDLEVBQXVCSCxHQUMxRSxPQUNFRSxFQUFJalcsU0FBV2tXLEVBQUlsVyxRQUNuQmlXLEVBQUloTCxPQUFNLENBQUMzRyxFQUFPNEgsSUFBc0MsSUFBNUI2SixFQUFLelIsRUFBTzRSLEVBQUloSyxLQUVoRCxFQU1BLHVCQUErQjJKLEdBQzdCLE1BQU8sSUFBSSxJQUFJTSxJQUFJTixHQUNyQixFQU9BLGVBQW9CcFksRUFBV2tFLEdBQzdCLE9BQVNsRSxFQUFJa0UsRUFBS0EsR0FBS0EsQ0FDekIsRUFNQSxzQkFBMkIwVCxFQUFjZSxFQUFVLEdBQ2pELE1BQU8sSUFBSWhVLE1BQU1pVCxHQUFNbFMsUUFBUW1GLEtBQUk3SixHQUFLQSxFQUFJMlgsR0FDOUMsbWVDM0ZBLElBQUlDLEVBQWdCLFNBQVN0WSxFQUFHbUMsR0FJNUIsT0FIQW1XLEVBQWdCcFksT0FBT3FZLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCblUsT0FBUyxTQUFVckUsRUFBR21DLEdBQUtuQyxFQUFFd1ksVUFBWXJXLENBQUcsR0FDMUUsU0FBVW5DLEVBQUdtQyxHQUFLLElBQUssSUFBSXNXLEtBQUt0VyxFQUFPQSxFQUFFdVcsZUFBZUQsS0FBSXpZLEVBQUV5WSxHQUFLdFcsRUFBRXNXLEdBQUksRUFDdEVILEVBQWN0WSxFQUFHbUMsRUFDNUIsRUFFTyxTQUFTd1csRUFBVTNZLEVBQUdtQyxHQUV6QixTQUFTeVcsSUFBT3JaLEtBQUtrSixZQUFjekksQ0FBRyxDQUR0Q3NZLEVBQWN0WSxFQUFHbUMsR0FFakJuQyxFQUFFSSxVQUFrQixPQUFOK0IsRUFBYWpDLE9BQU9DLE9BQU9nQyxJQUFNeVcsRUFBR3hZLFVBQVkrQixFQUFFL0IsVUFBVyxJQUFJd1ksRUFDbkYsQ0FFTyxJQUFJQyxFQUFXLFdBUWxCLE9BUEFBLEVBQVczWSxPQUFPVCxRQUFVLFNBQWtCZ0QsR0FDMUMsSUFBSyxJQUFJOUMsRUFBR2UsRUFBSSxFQUFHaEIsRUFBSW9HLFVBQVU3RCxPQUFRdkIsRUFBSWhCLEVBQUdnQixJQUU1QyxJQUFLLElBQUkrWCxLQURUOVksRUFBSW1HLFVBQVVwRixHQUNPUixPQUFPRSxVQUFVc1ksZUFBZTVSLEtBQUtuSCxFQUFHOFksS0FBSWhXLEVBQUVnVyxHQUFLOVksRUFBRThZLElBRTlFLE9BQU9oVyxDQUNYLEVBQ09vVyxFQUFTbFQsTUFBTXBHLEtBQU11RyxVQUNoQyxFQUVPLFNBQVNnVCxFQUFPblosRUFBR2dFLEdBQ3RCLElBQUlsQixFQUFJLENBQUMsRUFDVCxJQUFLLElBQUlnVyxLQUFLOVksRUFBT08sT0FBT0UsVUFBVXNZLGVBQWU1UixLQUFLbkgsRUFBRzhZLElBQU05VSxFQUFFb1YsUUFBUU4sR0FBSyxJQUM5RWhXLEVBQUVnVyxHQUFLOVksRUFBRThZLElBQ2IsR0FBUyxNQUFMOVksR0FBcUQsbUJBQWpDTyxPQUFPbUYsc0JBQ3RCLEtBQUkzRSxFQUFJLEVBQWIsSUFBZ0IrWCxFQUFJdlksT0FBT21GLHNCQUFzQjFGLEdBQUllLEVBQUkrWCxFQUFFeFcsT0FBUXZCLElBQzNEaUQsRUFBRW9WLFFBQVFOLEVBQUUvWCxJQUFNLEdBQUtSLE9BQU9FLFVBQVU0WSxxQkFBcUJsUyxLQUFLbkgsRUFBRzhZLEVBQUUvWCxNQUN2RStCLEVBQUVnVyxFQUFFL1gsSUFBTWYsRUFBRThZLEVBQUUvWCxJQUY0QixDQUl0RCxPQUFPK0IsQ0FDWCxDQUVPLFNBQVN3VyxFQUFXQyxFQUFZclQsRUFBUUksRUFBS2tULEdBQ2hELElBQTJIblosRUFBdkhvVSxFQUFJdE8sVUFBVTdELE9BQVE0QixFQUFJdVEsRUFBSSxFQUFJdk8sRUFBa0IsT0FBVHNULEVBQWdCQSxFQUFPalosT0FBT3VGLHlCQUF5QkksRUFBUUksR0FBT2tULEVBQ3JILEdBQXVCLGlCQUFaQyxTQUFvRCxtQkFBckJBLFFBQVFDLFNBQXlCeFYsRUFBSXVWLFFBQVFDLFNBQVNILEVBQVlyVCxFQUFRSSxFQUFLa1QsUUFDcEgsSUFBSyxJQUFJelksRUFBSXdZLEVBQVdqWCxPQUFTLEVBQUd2QixHQUFLLEVBQUdBLEtBQVNWLEVBQUlrWixFQUFXeFksTUFBSW1ELEdBQUt1USxFQUFJLEVBQUlwVSxFQUFFNkQsR0FBS3VRLEVBQUksRUFBSXBVLEVBQUU2RixFQUFRSSxFQUFLcEMsR0FBSzdELEVBQUU2RixFQUFRSSxLQUFTcEMsR0FDaEosT0FBT3VRLEVBQUksR0FBS3ZRLEdBQUszRCxPQUFPbUcsZUFBZVIsRUFBUUksRUFBS3BDLEdBQUlBLENBQ2hFLENBRU8sU0FBU3lWLEVBQVFDLEVBQVlDLEdBQ2hDLE9BQU8sU0FBVTNULEVBQVFJLEdBQU91VCxFQUFVM1QsRUFBUUksRUFBS3NULEVBQWEsQ0FDeEUsQ0FFTyxTQUFTRSxFQUFXQyxFQUFhQyxHQUNwQyxHQUF1QixpQkFBWlAsU0FBb0QsbUJBQXJCQSxRQUFRUSxTQUF5QixPQUFPUixRQUFRUSxTQUFTRixFQUFhQyxFQUNwSCxDQUVPLFNBQVNFLEVBQVUzQyxFQUFTNEMsRUFBWXRhLEVBQUd1YSxHQUU5QyxPQUFPLElBQUt2YSxJQUFNQSxFQUFJd2EsV0FBVSxTQUFVQyxFQUFTQyxHQUMvQyxTQUFTQyxFQUFVNVQsR0FBUyxJQUFNcUwsRUFBS21JLEVBQVVoUyxLQUFLeEIsR0FBUyxDQUFFLE1BQU81QyxHQUFLdVcsRUFBT3ZXLEVBQUksQ0FBRSxDQUMxRixTQUFTeVcsRUFBUzdULEdBQVMsSUFBTXFMLEVBQUttSSxFQUFpQixNQUFFeFQsR0FBUyxDQUFFLE1BQU81QyxHQUFLdVcsRUFBT3ZXLEVBQUksQ0FBRSxDQUM3RixTQUFTaU8sRUFBS3lJLEdBSmxCLElBQWU5VCxFQUlhOFQsRUFBT3JTLEtBQU9pUyxFQUFRSSxFQUFPOVQsUUFKMUNBLEVBSXlEOFQsRUFBTzlULE1BSmhEQSxhQUFpQi9HLEVBQUkrRyxFQUFRLElBQUkvRyxHQUFFLFNBQVV5YSxHQUFXQSxFQUFRMVQsRUFBUSxLQUlqQitULEtBQUtILEVBQVdDLEVBQVcsQ0FDN0d4SSxHQUFNbUksRUFBWUEsRUFBVXBVLE1BQU11UixFQUFTNEMsR0FBYyxLQUFLL1IsT0FDbEUsR0FDSixDQUVPLFNBQVN3UyxFQUFZckQsRUFBU3NELEdBQ2pDLElBQXNHdmEsRUFBR2lCLEVBQUd1QixFQUFHZ1ksRUFBM0d4RSxFQUFJLENBQUVDLE1BQU8sRUFBR3dFLEtBQU0sV0FBYSxHQUFXLEVBQVBqWSxFQUFFLEdBQVEsTUFBTUEsRUFBRSxHQUFJLE9BQU9BLEVBQUUsRUFBSSxFQUFHa1ksS0FBTSxHQUFJQyxJQUFLLElBQ2hHLE9BQU9ILEVBQUksQ0FBRTFTLEtBQU04UyxFQUFLLEdBQUksTUFBU0EsRUFBSyxHQUFJLE9BQVVBLEVBQUssSUFBd0IsbUJBQVhuVyxTQUEwQitWLEVBQUUvVixPQUFPQyxVQUFZLFdBQWEsT0FBT3BGLElBQU0sR0FBSWtiLEVBQ3ZKLFNBQVNJLEVBQUtuYixHQUFLLE9BQU8sU0FBVXFCLEdBQUssT0FDekMsU0FBYytaLEdBQ1YsR0FBSTdhLEVBQUcsTUFBTSxJQUFJOEUsVUFBVSxtQ0FDM0IsS0FBT2tSLE9BQ0gsR0FBSWhXLEVBQUksRUFBR2lCLElBQU11QixFQUFZLEVBQVJxWSxFQUFHLEdBQVM1WixFQUFVLE9BQUk0WixFQUFHLEdBQUs1WixFQUFTLFNBQU91QixFQUFJdkIsRUFBVSxTQUFNdUIsRUFBRXFFLEtBQUs1RixHQUFJLEdBQUtBLEVBQUU2RyxTQUFXdEYsRUFBSUEsRUFBRXFFLEtBQUs1RixFQUFHNFosRUFBRyxLQUFLOVMsS0FBTSxPQUFPdkYsRUFFM0osT0FESXZCLEVBQUksRUFBR3VCLElBQUdxWSxFQUFLLENBQVMsRUFBUkEsRUFBRyxHQUFRclksRUFBRThELFFBQ3pCdVUsRUFBRyxJQUNQLEtBQUssRUFBRyxLQUFLLEVBQUdyWSxFQUFJcVksRUFBSSxNQUN4QixLQUFLLEVBQWMsT0FBWDdFLEVBQUVDLFFBQWdCLENBQUUzUCxNQUFPdVUsRUFBRyxHQUFJOVMsTUFBTSxHQUNoRCxLQUFLLEVBQUdpTyxFQUFFQyxRQUFTaFYsRUFBSTRaLEVBQUcsR0FBSUEsRUFBSyxDQUFDLEdBQUksU0FDeEMsS0FBSyxFQUFHQSxFQUFLN0UsRUFBRTJFLElBQUlHLE1BQU85RSxFQUFFMEUsS0FBS0ksTUFBTyxTQUN4QyxRQUNJLE1BQWtCdFksR0FBWkEsRUFBSXdULEVBQUUwRSxNQUFZMVksT0FBUyxHQUFLUSxFQUFFQSxFQUFFUixPQUFTLEtBQWtCLElBQVY2WSxFQUFHLElBQXNCLElBQVZBLEVBQUcsSUFBVyxDQUFFN0UsRUFBSSxFQUFHLFFBQVUsQ0FDM0csR0FBYyxJQUFWNkUsRUFBRyxNQUFjclksR0FBTXFZLEVBQUcsR0FBS3JZLEVBQUUsSUFBTXFZLEVBQUcsR0FBS3JZLEVBQUUsSUFBTSxDQUFFd1QsRUFBRUMsTUFBUTRFLEVBQUcsR0FBSSxLQUFPLENBQ3JGLEdBQWMsSUFBVkEsRUFBRyxJQUFZN0UsRUFBRUMsTUFBUXpULEVBQUUsR0FBSSxDQUFFd1QsRUFBRUMsTUFBUXpULEVBQUUsR0FBSUEsRUFBSXFZLEVBQUksS0FBTyxDQUNwRSxHQUFJclksR0FBS3dULEVBQUVDLE1BQVF6VCxFQUFFLEdBQUksQ0FBRXdULEVBQUVDLE1BQVF6VCxFQUFFLEdBQUl3VCxFQUFFMkUsSUFBSTFYLEtBQUs0WCxHQUFLLEtBQU8sQ0FDOURyWSxFQUFFLElBQUl3VCxFQUFFMkUsSUFBSUcsTUFDaEI5RSxFQUFFMEUsS0FBS0ksTUFBTyxTQUV0QkQsRUFBS04sRUFBSzFULEtBQUtvUSxFQUFTakIsRUFDNUIsQ0FBRSxNQUFPdFMsR0FBS21YLEVBQUssQ0FBQyxFQUFHblgsR0FBSXpDLEVBQUksQ0FBRyxDQUFFLFFBQVVqQixFQUFJd0MsRUFBSSxDQUFHLENBQ3pELEdBQVksRUFBUnFZLEVBQUcsR0FBUSxNQUFNQSxFQUFHLEdBQUksTUFBTyxDQUFFdlUsTUFBT3VVLEVBQUcsR0FBS0EsRUFBRyxRQUFLLEVBQVE5UyxNQUFNLEVBQzlFLENBdEJnRDRKLENBQUssQ0FBQ2xTLEVBQUdxQixHQUFLLENBQUcsQ0F1QnJFLENBRU8sU0FBU2lhLEVBQWdCM1MsRUFBR3pFLEVBQUdwQixFQUFHeVksUUFDMUJ4WixJQUFQd1osSUFBa0JBLEVBQUt6WSxHQUMzQjZGLEVBQUU0UyxHQUFNclgsRUFBRXBCLEVBQ2QsQ0FFTyxTQUFTMFksRUFBYXRYLEVBQUd6RSxHQUM1QixJQUFLLElBQUlzWixLQUFLN1UsRUFBYSxZQUFONlUsR0FBb0J0WixFQUFRdVosZUFBZUQsS0FBSXRaLEVBQVFzWixHQUFLN1UsRUFBRTZVLEdBQ3ZGLENBRU8sU0FBUzBDLEVBQVM5UyxHQUNyQixJQUFJMUksRUFBc0IsbUJBQVgrRSxRQUF5QkEsT0FBT0MsU0FBVWYsRUFBSWpFLEdBQUswSSxFQUFFMUksR0FBSWUsRUFBSSxFQUM1RSxHQUFJa0QsRUFBRyxPQUFPQSxFQUFFa0QsS0FBS3VCLEdBQ3JCLEdBQUlBLEdBQXlCLGlCQUFiQSxFQUFFcEcsT0FBcUIsTUFBTyxDQUMxQzhGLEtBQU0sV0FFRixPQURJTSxHQUFLM0gsR0FBSzJILEVBQUVwRyxTQUFRb0csT0FBSSxHQUNyQixDQUFFOUIsTUFBTzhCLEdBQUtBLEVBQUUzSCxLQUFNc0gsTUFBT0ssRUFDeEMsR0FFSixNQUFNLElBQUl0RCxVQUFVcEYsRUFBSSwwQkFBNEIsa0NBQ3hELENBRU8sU0FBU3liLEVBQU8vUyxFQUFHM0ksR0FDdEIsSUFBSWtFLEVBQXNCLG1CQUFYYyxRQUF5QjJELEVBQUUzRCxPQUFPQyxVQUNqRCxJQUFLZixFQUFHLE9BQU95RSxFQUNmLElBQW1CeEUsRUFBWUYsRUFBM0JqRCxFQUFJa0QsRUFBRWtELEtBQUt1QixHQUFPeVAsRUFBSyxHQUMzQixJQUNJLFdBQWMsSUFBTnBZLEdBQWdCQSxLQUFNLE1BQVFtRSxFQUFJbkQsRUFBRXFILFFBQVFDLE1BQU04UCxFQUFHNVUsS0FBS1csRUFBRTBDLE1BQ3hFLENBQ0EsTUFBTzhVLEdBQVMxWCxFQUFJLENBQUUwWCxNQUFPQSxFQUFTLENBQ3RDLFFBQ0ksSUFDUXhYLElBQU1BLEVBQUVtRSxPQUFTcEUsRUFBSWxELEVBQVUsU0FBSWtELEVBQUVrRCxLQUFLcEcsRUFDbEQsQ0FDQSxRQUFVLEdBQUlpRCxFQUFHLE1BQU1BLEVBQUUwWCxLQUFPLENBQ3BDLENBQ0EsT0FBT3ZELENBQ1gsQ0FFTyxTQUFTd0QsSUFDWixJQUFLLElBQUl4RCxFQUFLLEdBQUlwWCxFQUFJLEVBQUdBLEVBQUlvRixVQUFVN0QsT0FBUXZCLElBQzNDb1gsRUFBS0EsRUFBR2hPLE9BQU9zUixFQUFPdFYsVUFBVXBGLEtBQ3BDLE9BQU9vWCxDQUNYLENBRU8sU0FBU3lELElBQ1osSUFBSyxJQUFJNWIsRUFBSSxFQUFHZSxFQUFJLEVBQUc4YSxFQUFLMVYsVUFBVTdELE9BQVF2QixFQUFJOGEsRUFBSTlhLElBQUtmLEdBQUttRyxVQUFVcEYsR0FBR3VCLE9BQ3hFLElBQUk0QixFQUFJUSxNQUFNMUUsR0FBSTZDLEVBQUksRUFBM0IsSUFBOEI5QixFQUFJLEVBQUdBLEVBQUk4YSxFQUFJOWEsSUFDekMsSUFBSyxJQUFJTCxFQUFJeUYsVUFBVXBGLEdBQUlpWCxFQUFJLEVBQUc4RCxFQUFLcGIsRUFBRTRCLE9BQVEwVixFQUFJOEQsRUFBSTlELElBQUtuVixJQUMxRHFCLEVBQUVyQixHQUFLbkMsRUFBRXNYLEdBQ2pCLE9BQU85VCxDQUNYLENBRU8sU0FBUzZYLEVBQVEzYSxHQUNwQixPQUFPeEIsZ0JBQWdCbWMsR0FBV25jLEtBQUt3QixFQUFJQSxFQUFHeEIsTUFBUSxJQUFJbWMsRUFBUTNhLEVBQ3RFLENBRU8sU0FBUzRhLEVBQWlCekUsRUFBUzRDLEVBQVlDLEdBQ2xELElBQUtyVixPQUFPa1gsY0FBZSxNQUFNLElBQUk3VyxVQUFVLHdDQUMvQyxJQUFvRHJFLEVBQWhEK1osRUFBSVYsRUFBVXBVLE1BQU11UixFQUFTNEMsR0FBYyxJQUFRK0IsRUFBSSxHQUMzRCxPQUFPbmIsRUFBSSxDQUFDLEVBQUdtYSxFQUFLLFFBQVNBLEVBQUssU0FBVUEsRUFBSyxVQUFXbmEsRUFBRWdFLE9BQU9rWCxlQUFpQixXQUFjLE9BQU9yYyxJQUFNLEVBQUdtQixFQUNwSCxTQUFTbWEsRUFBS25iLEdBQVMrYSxFQUFFL2EsS0FBSWdCLEVBQUVoQixHQUFLLFNBQVVxQixHQUFLLE9BQU8sSUFBSWlaLFNBQVEsU0FBVTNaLEVBQUc4QixHQUFLMFosRUFBRTNZLEtBQUssQ0FBQ3hELEVBQUdxQixFQUFHVixFQUFHOEIsSUFBTSxHQUFLMlosRUFBT3BjLEVBQUdxQixFQUFJLEdBQUksRUFBRyxDQUN6SSxTQUFTK2EsRUFBT3BjLEVBQUdxQixHQUFLLEtBQ1Y4QyxFQURxQjRXLEVBQUUvYSxHQUFHcUIsSUFDbkJ3RixpQkFBaUJtVixFQUFVMUIsUUFBUUMsUUFBUXBXLEVBQUUwQyxNQUFNeEYsR0FBR3VaLEtBQUt5QixFQUFTN0IsR0FBVThCLEVBQU9ILEVBQUUsR0FBRyxHQUFJaFksRUFEdEUsQ0FBRSxNQUFPRixHQUFLcVksRUFBT0gsRUFBRSxHQUFHLEdBQUlsWSxFQUFJLENBQy9FLElBQWNFLENBRG1FLENBRWpGLFNBQVNrWSxFQUFReFYsR0FBU3VWLEVBQU8sT0FBUXZWLEVBQVEsQ0FDakQsU0FBUzJULEVBQU8zVCxHQUFTdVYsRUFBTyxRQUFTdlYsRUFBUSxDQUNqRCxTQUFTeVYsRUFBTy9iLEVBQUdjLEdBQVNkLEVBQUVjLEdBQUk4YSxFQUFFSSxRQUFTSixFQUFFNVosUUFBUTZaLEVBQU9ELEVBQUUsR0FBRyxHQUFJQSxFQUFFLEdBQUcsR0FBSyxDQUNyRixDQUVPLFNBQVNLLEVBQWlCN1QsR0FDN0IsSUFBSTNILEVBQUcrWCxFQUNQLE9BQU8vWCxFQUFJLENBQUMsRUFBR21hLEVBQUssUUFBU0EsRUFBSyxTQUFTLFNBQVVsWCxHQUFLLE1BQU1BLENBQUcsSUFBSWtYLEVBQUssVUFBV25hLEVBQUVnRSxPQUFPQyxVQUFZLFdBQWMsT0FBT3BGLElBQU0sRUFBR21CLEVBQzFJLFNBQVNtYSxFQUFLbmIsRUFBR08sR0FBS1MsRUFBRWhCLEdBQUsySSxFQUFFM0ksR0FBSyxTQUFVcUIsR0FBSyxPQUFRMFgsR0FBS0EsR0FBSyxDQUFFbFMsTUFBT21WLEVBQVFyVCxFQUFFM0ksR0FBR3FCLElBQUtpSCxLQUFZLFdBQU50SSxHQUFtQk8sRUFBSUEsRUFBRWMsR0FBS0EsQ0FBRyxFQUFJZCxDQUFHLENBQ2xKLENBRU8sU0FBU2tjLEVBQWM5VCxHQUMxQixJQUFLM0QsT0FBT2tYLGNBQWUsTUFBTSxJQUFJN1csVUFBVSx3Q0FDL0MsSUFBaUNyRSxFQUE3QmtELEVBQUl5RSxFQUFFM0QsT0FBT2tYLGVBQ2pCLE9BQU9oWSxFQUFJQSxFQUFFa0QsS0FBS3VCLElBQU1BLEVBQXFDOFMsRUFBUzlTLEdBQTJCM0gsRUFBSSxDQUFDLEVBQUdtYSxFQUFLLFFBQVNBLEVBQUssU0FBVUEsRUFBSyxVQUFXbmEsRUFBRWdFLE9BQU9rWCxlQUFpQixXQUFjLE9BQU9yYyxJQUFNLEVBQUdtQixHQUM5TSxTQUFTbWEsRUFBS25iLEdBQUtnQixFQUFFaEIsR0FBSzJJLEVBQUUzSSxJQUFNLFNBQVVxQixHQUFLLE9BQU8sSUFBSWlaLFNBQVEsU0FBVUMsRUFBU0MsSUFDdkYsU0FBZ0JELEVBQVNDLEVBQVFsYSxFQUFHZSxHQUFLaVosUUFBUUMsUUFBUWxaLEdBQUd1WixNQUFLLFNBQVN2WixHQUFLa1osRUFBUSxDQUFFMVQsTUFBT3hGLEVBQUdpSCxLQUFNaEksR0FBTSxHQUFHa2EsRUFBUyxDQURiOEIsQ0FBTy9CLEVBQVNDLEdBQTdCblosRUFBSXNILEVBQUUzSSxHQUFHcUIsSUFBOEJpSCxLQUFNakgsRUFBRXdGLE1BQVEsR0FBSSxDQUFHLENBRW5LLENBRU8sU0FBUzZWLEVBQXFCQyxFQUFRQyxHQUV6QyxPQURJcGMsT0FBT21HLGVBQWtCbkcsT0FBT21HLGVBQWVnVyxFQUFRLE1BQU8sQ0FBRTlWLE1BQU8rVixJQUFpQkQsRUFBT0MsSUFBTUEsRUFDbEdELENBQ1gsQ0FFTyxTQUFTRSxFQUFhekosR0FDekIsR0FBSUEsR0FBT0EsRUFBSTBKLFdBQVksT0FBTzFKLEVBQ2xDLElBQUl1SCxFQUFTLENBQUMsRUFDZCxHQUFXLE1BQVB2SCxFQUFhLElBQUssSUFBSXRRLEtBQUtzUSxFQUFTNVMsT0FBT3dZLGVBQWU1UixLQUFLZ00sRUFBS3RRLEtBQUk2WCxFQUFPN1gsR0FBS3NRLEVBQUl0USxJQUU1RixPQURBNlgsRUFBT3ZSLFFBQVVnSyxFQUNWdUgsQ0FDWCxDQUVPLFNBQVNvQyxFQUFnQjNKLEdBQzVCLE9BQVFBLEdBQU9BLEVBQUkwSixXQUFjMUosRUFBTSxDQUFFaEssUUFBU2dLLEVBQ3RELENBRU8sU0FBUzRKLEVBQXVCQyxFQUFVQyxHQUM3QyxJQUFLQSxFQUFXOUYsSUFBSTZGLEdBQ2hCLE1BQU0sSUFBSTVYLFVBQVUsa0RBRXhCLE9BQU82WCxFQUFXcEosSUFBSW1KLEVBQzFCLENBRU8sU0FBU0UsRUFBdUJGLEVBQVVDLEVBQVlyVyxHQUN6RCxJQUFLcVcsRUFBVzlGLElBQUk2RixHQUNoQixNQUFNLElBQUk1WCxVQUFVLGtEQUd4QixPQURBNlgsRUFBVy9KLElBQUk4SixFQUFVcFcsR0FDbEJBLENBQ1gsOGdEQ3hOSXVXLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQnZiLElBQWpCd2IsRUFDSCxPQUFPQSxFQUFhOWQsUUFHckIsSUFBSUMsRUFBUzBkLEVBQXlCRSxHQUFZLENBR2pEN2QsUUFBUyxDQUFDLEdBT1gsT0FIQStkLEVBQW9CRixHQUFVbFcsS0FBSzFILEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVM0ZCxHQUdwRTNkLEVBQU9ELE9BQ2YsUUNyQkE0ZCxFQUFvQi9jLEVBQUksQ0FBQ2IsRUFBU2dlLEtBQ2pDLElBQUksSUFBSWxYLEtBQU9rWCxFQUNYSixFQUFvQjFVLEVBQUU4VSxFQUFZbFgsS0FBUzhXLEVBQW9CMVUsRUFBRWxKLEVBQVM4RyxJQUM1RS9GLE9BQU9tRyxlQUFlbEgsRUFBUzhHLEVBQUssQ0FBRVAsWUFBWSxFQUFNOE4sSUFBSzJKLEVBQVdsWCxJQUUxRSxFQ05EOFcsRUFBb0IxVSxFQUFJLENBQUMvQixFQUFLOFcsSUFBVWxkLE9BQU9FLFVBQVVzWSxlQUFlNVIsS0FBS1IsRUFBSzhXLEdDQ2xGTCxFQUFvQmxaLEVBQUsxRSxJQUNILG9CQUFYdUYsUUFBMEJBLE9BQU82UyxhQUMxQ3JYLE9BQU9tRyxlQUFlbEgsRUFBU3VGLE9BQU82UyxZQUFhLENBQUVoUixNQUFPLFdBRTdEckcsT0FBT21HLGVBQWVsSCxFQUFTLGFBQWMsQ0FBRW9ILE9BQU8sR0FBTyxFQ0ZwQ3dXLEVBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy8uL25vZGVfbW9kdWxlcy9mcmFjdGlvbi5qcy9mcmFjdGlvbi5qcyIsIndlYnBhY2s6Ly9TY2FsZXh0cmljLy4vbm9kZV9tb2R1bGVzL2pzdG94bWwvZGlzdC9qc3RveG1sLmpzIiwid2VicGFjazovL1NjYWxleHRyaWMvLi9zcmMvSW50ZXJ2YWwudHMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy8uL3NyYy9NdXNpY1hNTC50cyIsIndlYnBhY2s6Ly9TY2FsZXh0cmljLy4vc3JjL1NvbG1pemF0aW9uLnRzIiwid2VicGFjazovL1NjYWxleHRyaWMvLi9zcmMvVG9uZVJvdy50cyIsIndlYnBhY2s6Ly9TY2FsZXh0cmljLy4vc3JjL1R1bmluZy50cyIsIndlYnBhY2s6Ly9TY2FsZXh0cmljLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL1NjYWxleHRyaWMvLi9zcmMvdXRpbHMvQW5ub3RhdGlvbi50cyIsIndlYnBhY2s6Ly9TY2FsZXh0cmljLy4vc3JjL3V0aWxzL0JpbWFwLnRzIiwid2VicGFjazovL1NjYWxleHRyaWMvLi9zcmMvdXRpbHMvaGVscGVycy50cyIsIndlYnBhY2s6Ly9TY2FsZXh0cmljLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly9TY2FsZXh0cmljL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1NjYWxleHRyaWMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL1NjYWxleHRyaWMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9TY2FsZXh0cmljL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiU2NhbGV4dHJpY1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJTY2FsZXh0cmljXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgKCkgPT4ge1xucmV0dXJuICIsIi8qKlxuICogQGxpY2Vuc2UgRnJhY3Rpb24uanMgdjQuMi4wIDA1LzAzLzIwMjJcbiAqIGh0dHBzOi8vd3d3Lnhhcmcub3JnLzIwMTQvMDMvcmF0aW9uYWwtbnVtYmVycy1pbi1qYXZhc2NyaXB0L1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMSwgUm9iZXJ0IEVpc2VsZSAocm9iZXJ0QHhhcmcub3JnKVxuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuXG4gKiovXG5cblxuLyoqXG4gKlxuICogVGhpcyBjbGFzcyBvZmZlcnMgdGhlIHBvc3NpYmlsaXR5IHRvIGNhbGN1bGF0ZSBmcmFjdGlvbnMuXG4gKiBZb3UgY2FuIHBhc3MgYSBmcmFjdGlvbiBpbiBkaWZmZXJlbnQgZm9ybWF0cy4gRWl0aGVyIGFzIGFycmF5LCBhcyBkb3VibGUsIGFzIHN0cmluZyBvciBhcyBhbiBpbnRlZ2VyLlxuICpcbiAqIEFycmF5L09iamVjdCBmb3JtXG4gKiBbIDAgPT4gPG5vbWluYXRvcj4sIDEgPT4gPGRlbm9taW5hdG9yPiBdXG4gKiBbIG4gPT4gPG5vbWluYXRvcj4sIGQgPT4gPGRlbm9taW5hdG9yPiBdXG4gKlxuICogSW50ZWdlciBmb3JtXG4gKiAtIFNpbmdsZSBpbnRlZ2VyIHZhbHVlXG4gKlxuICogRG91YmxlIGZvcm1cbiAqIC0gU2luZ2xlIGRvdWJsZSB2YWx1ZVxuICpcbiAqIFN0cmluZyBmb3JtXG4gKiAxMjMuNDU2IC0gYSBzaW1wbGUgZG91YmxlXG4gKiAxMjMvNDU2IC0gYSBzdHJpbmcgZnJhY3Rpb25cbiAqIDEyMy4nNDU2JyAtIGEgZG91YmxlIHdpdGggcmVwZWF0aW5nIGRlY2ltYWwgcGxhY2VzXG4gKiAxMjMuKDQ1NikgLSBzeW5vbnltXG4gKiAxMjMuNDUnNicgLSBhIGRvdWJsZSB3aXRoIHJlcGVhdGluZyBsYXN0IHBsYWNlXG4gKiAxMjMuNDUoNikgLSBzeW5vbnltXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiB2YXIgZiA9IG5ldyBGcmFjdGlvbihcIjkuNCczMSdcIik7XG4gKiBmLm11bChbLTQsIDNdKS5kaXYoNC45KTtcbiAqXG4gKi9cblxuKGZ1bmN0aW9uKHJvb3QpIHtcblxuICBcInVzZSBzdHJpY3RcIjtcblxuICAvLyBNYXhpbXVtIHNlYXJjaCBkZXB0aCBmb3IgY3ljbGljIHJhdGlvbmFsIG51bWJlcnMuIDIwMDAgc2hvdWxkIGJlIG1vcmUgdGhhbiBlbm91Z2guXG4gIC8vIEV4YW1wbGU6IDEvNyA9IDAuKDE0Mjg1NykgaGFzIDYgcmVwZWF0aW5nIGRlY2ltYWwgcGxhY2VzLlxuICAvLyBJZiBNQVhfQ1lDTEVfTEVOIGdldHMgcmVkdWNlZCwgbG9uZyBjeWNsZXMgd2lsbCBub3QgYmUgZGV0ZWN0ZWQgYW5kIHRvU3RyaW5nKCkgb25seSBnZXRzIHRoZSBmaXJzdCAxMCBkaWdpdHNcbiAgdmFyIE1BWF9DWUNMRV9MRU4gPSAyMDAwO1xuXG4gIC8vIFBhcnNlZCBkYXRhIHRvIGF2b2lkIGNhbGxpbmcgXCJuZXdcIiBhbGwgdGhlIHRpbWVcbiAgdmFyIFAgPSB7XG4gICAgXCJzXCI6IDEsXG4gICAgXCJuXCI6IDAsXG4gICAgXCJkXCI6IDFcbiAgfTtcblxuICBmdW5jdGlvbiBhc3NpZ24obiwgcykge1xuXG4gICAgaWYgKGlzTmFOKG4gPSBwYXJzZUludChuLCAxMCkpKSB7XG4gICAgICB0aHJvdyBGcmFjdGlvblsnSW52YWxpZFBhcmFtZXRlciddO1xuICAgIH1cbiAgICByZXR1cm4gbiAqIHM7XG4gIH1cblxuICAvLyBDcmVhdGVzIGEgbmV3IEZyYWN0aW9uIGludGVybmFsbHkgd2l0aG91dCB0aGUgbmVlZCBvZiB0aGUgYnVsa3kgY29uc3RydWN0b3JcbiAgZnVuY3Rpb24gbmV3RnJhY3Rpb24obiwgZCkge1xuXG4gICAgaWYgKGQgPT09IDApIHtcbiAgICAgIHRocm93IEZyYWN0aW9uWydEaXZpc2lvbkJ5WmVybyddO1xuICAgIH1cblxuICAgIHZhciBmID0gT2JqZWN0LmNyZWF0ZShGcmFjdGlvbi5wcm90b3R5cGUpO1xuICAgIGZbXCJzXCJdID0gbiA8IDAgPyAtMSA6IDE7XG5cbiAgICBuID0gbiA8IDAgPyAtbiA6IG47XG5cbiAgICB2YXIgYSA9IGdjZChuLCBkKTtcblxuICAgIGZbXCJuXCJdID0gbiAvIGE7XG4gICAgZltcImRcIl0gPSBkIC8gYTtcbiAgICByZXR1cm4gZjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZhY3Rvcml6ZShudW0pIHtcblxuICAgIHZhciBmYWN0b3JzID0ge307XG5cbiAgICB2YXIgbiA9IG51bTtcbiAgICB2YXIgaSA9IDI7XG4gICAgdmFyIHMgPSA0O1xuXG4gICAgd2hpbGUgKHMgPD0gbikge1xuXG4gICAgICB3aGlsZSAobiAlIGkgPT09IDApIHtcbiAgICAgICAgbi89IGk7XG4gICAgICAgIGZhY3RvcnNbaV0gPSAoZmFjdG9yc1tpXSB8fCAwKSArIDE7XG4gICAgICB9XG4gICAgICBzKz0gMSArIDIgKiBpKys7XG4gICAgfVxuXG4gICAgaWYgKG4gIT09IG51bSkge1xuICAgICAgaWYgKG4gPiAxKVxuICAgICAgICBmYWN0b3JzW25dID0gKGZhY3RvcnNbbl0gfHwgMCkgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBmYWN0b3JzW251bV0gPSAoZmFjdG9yc1tudW1dIHx8IDApICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIGZhY3RvcnM7XG4gIH1cblxuICB2YXIgcGFyc2UgPSBmdW5jdGlvbihwMSwgcDIpIHtcblxuICAgIHZhciBuID0gMCwgZCA9IDEsIHMgPSAxO1xuICAgIHZhciB2ID0gMCwgdyA9IDAsIHggPSAwLCB5ID0gMSwgeiA9IDE7XG5cbiAgICB2YXIgQSA9IDAsIEIgPSAxO1xuICAgIHZhciBDID0gMSwgRCA9IDE7XG5cbiAgICB2YXIgTiA9IDEwMDAwMDAwO1xuICAgIHZhciBNO1xuXG4gICAgaWYgKHAxID09PSB1bmRlZmluZWQgfHwgcDEgPT09IG51bGwpIHtcbiAgICAgIC8qIHZvaWQgKi9cbiAgICB9IGVsc2UgaWYgKHAyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG4gPSBwMTtcbiAgICAgIGQgPSBwMjtcbiAgICAgIHMgPSBuICogZDtcblxuICAgICAgaWYgKG4gJSAxICE9PSAwIHx8IGQgJSAxICE9PSAwKSB7XG4gICAgICAgIHRocm93IEZyYWN0aW9uWydOb25JbnRlZ2VyUGFyYW1ldGVyJ107XG4gICAgICB9XG5cbiAgICB9IGVsc2VcbiAgICAgIHN3aXRjaCAodHlwZW9mIHAxKSB7XG5cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChcImRcIiBpbiBwMSAmJiBcIm5cIiBpbiBwMSkge1xuICAgICAgICAgICAgICBuID0gcDFbXCJuXCJdO1xuICAgICAgICAgICAgICBkID0gcDFbXCJkXCJdO1xuICAgICAgICAgICAgICBpZiAoXCJzXCIgaW4gcDEpXG4gICAgICAgICAgICAgICAgbio9IHAxW1wic1wiXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoMCBpbiBwMSkge1xuICAgICAgICAgICAgICBuID0gcDFbMF07XG4gICAgICAgICAgICAgIGlmICgxIGluIHAxKVxuICAgICAgICAgICAgICAgIGQgPSBwMVsxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IEZyYWN0aW9uWydJbnZhbGlkUGFyYW1ldGVyJ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzID0gbiAqIGQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAocDEgPCAwKSB7XG4gICAgICAgICAgICAgIHMgPSBwMTtcbiAgICAgICAgICAgICAgcDEgPSAtcDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwMSAlIDEgPT09IDApIHtcbiAgICAgICAgICAgICAgbiA9IHAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwMSA+IDApIHsgLy8gY2hlY2sgZm9yICE9IDAsIHNjYWxlIHdvdWxkIGJlY29tZSBOYU4gKGxvZygwKSksIHdoaWNoIGNvbnZlcmdlcyByZWFsbHkgc2xvd1xuXG4gICAgICAgICAgICAgIGlmIChwMSA+PSAxKSB7XG4gICAgICAgICAgICAgICAgeiA9IE1hdGgucG93KDEwLCBNYXRoLmZsb29yKDEgKyBNYXRoLmxvZyhwMSkgLyBNYXRoLkxOMTApKTtcbiAgICAgICAgICAgICAgICBwMS89IHo7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBVc2luZyBGYXJleSBTZXF1ZW5jZXNcbiAgICAgICAgICAgICAgLy8gaHR0cDovL3d3dy5qb2huZGNvb2suY29tL2Jsb2cvMjAxMC8xMC8yMC9iZXN0LXJhdGlvbmFsLWFwcHJveGltYXRpb24vXG5cbiAgICAgICAgICAgICAgd2hpbGUgKEIgPD0gTiAmJiBEIDw9IE4pIHtcbiAgICAgICAgICAgICAgICBNID0gKEEgKyBDKSAvIChCICsgRCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocDEgPT09IE0pIHtcbiAgICAgICAgICAgICAgICAgIGlmIChCICsgRCA8PSBOKSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSBBICsgQztcbiAgICAgICAgICAgICAgICAgICAgZCA9IEIgKyBEO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChEID4gQikge1xuICAgICAgICAgICAgICAgICAgICBuID0gQztcbiAgICAgICAgICAgICAgICAgICAgZCA9IEQ7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuID0gQTtcbiAgICAgICAgICAgICAgICAgICAgZCA9IEI7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChwMSA+IE0pIHtcbiAgICAgICAgICAgICAgICAgICAgQSs9IEM7XG4gICAgICAgICAgICAgICAgICAgIEIrPSBEO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgQys9IEE7XG4gICAgICAgICAgICAgICAgICAgIEQrPSBCO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBpZiAoQiA+IE4pIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IEM7XG4gICAgICAgICAgICAgICAgICAgIGQgPSBEO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IEE7XG4gICAgICAgICAgICAgICAgICAgIGQgPSBCO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBuKj0gejtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNOYU4ocDEpIHx8IGlzTmFOKHAyKSkge1xuICAgICAgICAgICAgICBkID0gbiA9IE5hTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIEIgPSBwMS5tYXRjaCgvXFxkK3wuL2cpO1xuXG4gICAgICAgICAgICBpZiAoQiA9PT0gbnVsbClcbiAgICAgICAgICAgICAgdGhyb3cgRnJhY3Rpb25bJ0ludmFsaWRQYXJhbWV0ZXInXTtcblxuICAgICAgICAgICAgaWYgKEJbQV0gPT09ICctJykgey8vIENoZWNrIGZvciBtaW51cyBzaWduIGF0IHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICAgICAgcyA9IC0xO1xuICAgICAgICAgICAgICBBKys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEJbQV0gPT09ICcrJykgey8vIENoZWNrIGZvciBwbHVzIHNpZ24gYXQgdGhlIGJlZ2lubmluZ1xuICAgICAgICAgICAgICBBKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChCLmxlbmd0aCA9PT0gQSArIDEpIHsgLy8gQ2hlY2sgaWYgaXQncyBqdXN0IGEgc2ltcGxlIG51bWJlciBcIjEyMzRcIlxuICAgICAgICAgICAgICB3ID0gYXNzaWduKEJbQSsrXSwgcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEJbQSArIDFdID09PSAnLicgfHwgQltBXSA9PT0gJy4nKSB7IC8vIENoZWNrIGlmIGl0J3MgYSBkZWNpbWFsIG51bWJlclxuXG4gICAgICAgICAgICAgIGlmIChCW0FdICE9PSAnLicpIHsgLy8gSGFuZGxlIDAuNSBhbmQgLjVcbiAgICAgICAgICAgICAgICB2ID0gYXNzaWduKEJbQSsrXSwgcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgQSsrO1xuXG4gICAgICAgICAgICAgIC8vIENoZWNrIGZvciBkZWNpbWFsIHBsYWNlc1xuICAgICAgICAgICAgICBpZiAoQSArIDEgPT09IEIubGVuZ3RoIHx8IEJbQSArIDFdID09PSAnKCcgJiYgQltBICsgM10gPT09ICcpJyB8fCBCW0EgKyAxXSA9PT0gXCInXCIgJiYgQltBICsgM10gPT09IFwiJ1wiKSB7XG4gICAgICAgICAgICAgICAgdyA9IGFzc2lnbihCW0FdLCBzKTtcbiAgICAgICAgICAgICAgICB5ID0gTWF0aC5wb3coMTAsIEJbQV0ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBBKys7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgcmVwZWF0aW5nIHBsYWNlc1xuICAgICAgICAgICAgICBpZiAoQltBXSA9PT0gJygnICYmIEJbQSArIDJdID09PSAnKScgfHwgQltBXSA9PT0gXCInXCIgJiYgQltBICsgMl0gPT09IFwiJ1wiKSB7XG4gICAgICAgICAgICAgICAgeCA9IGFzc2lnbihCW0EgKyAxXSwgcyk7XG4gICAgICAgICAgICAgICAgeiA9IE1hdGgucG93KDEwLCBCW0EgKyAxXS5sZW5ndGgpIC0gMTtcbiAgICAgICAgICAgICAgICBBKz0gMztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKEJbQSArIDFdID09PSAnLycgfHwgQltBICsgMV0gPT09ICc6JykgeyAvLyBDaGVjayBmb3IgYSBzaW1wbGUgZnJhY3Rpb24gXCIxMjMvNDU2XCIgb3IgXCIxMjM6NDU2XCJcbiAgICAgICAgICAgICAgdyA9IGFzc2lnbihCW0FdLCBzKTtcbiAgICAgICAgICAgICAgeSA9IGFzc2lnbihCW0EgKyAyXSwgMSk7XG4gICAgICAgICAgICAgIEErPSAzO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChCW0EgKyAzXSA9PT0gJy8nICYmIEJbQSArIDFdID09PSAnICcpIHsgLy8gQ2hlY2sgZm9yIGEgY29tcGxleCBmcmFjdGlvbiBcIjEyMyAxLzJcIlxuICAgICAgICAgICAgICB2ID0gYXNzaWduKEJbQV0sIHMpO1xuICAgICAgICAgICAgICB3ID0gYXNzaWduKEJbQSArIDJdLCBzKTtcbiAgICAgICAgICAgICAgeSA9IGFzc2lnbihCW0EgKyA0XSwgMSk7XG4gICAgICAgICAgICAgIEErPSA1O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoQi5sZW5ndGggPD0gQSkgeyAvLyBDaGVjayBmb3IgbW9yZSB0b2tlbnMgb24gdGhlIHN0YWNrXG4gICAgICAgICAgICAgIGQgPSB5ICogejtcbiAgICAgICAgICAgICAgcyA9IC8qIHZvaWQgKi9cbiAgICAgICAgICAgICAgbiA9IHggKyBkICogdiArIHogKiB3O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyogRmFsbCB0aHJvdWdoIG9uIGVycm9yICovXG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IEZyYWN0aW9uWydJbnZhbGlkUGFyYW1ldGVyJ107XG4gICAgICB9XG5cbiAgICBpZiAoZCA9PT0gMCkge1xuICAgICAgdGhyb3cgRnJhY3Rpb25bJ0RpdmlzaW9uQnlaZXJvJ107XG4gICAgfVxuXG4gICAgUFtcInNcIl0gPSBzIDwgMCA/IC0xIDogMTtcbiAgICBQW1wiblwiXSA9IE1hdGguYWJzKG4pO1xuICAgIFBbXCJkXCJdID0gTWF0aC5hYnMoZCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbW9kcG93KGIsIGUsIG0pIHtcblxuICAgIHZhciByID0gMTtcbiAgICBmb3IgKDsgZSA+IDA7IGIgPSAoYiAqIGIpICUgbSwgZSA+Pj0gMSkge1xuXG4gICAgICBpZiAoZSAmIDEpIHtcbiAgICAgICAgciA9IChyICogYikgJSBtO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gY3ljbGVMZW4obiwgZCkge1xuXG4gICAgZm9yICg7IGQgJSAyID09PSAwO1xuICAgICAgZC89IDIpIHtcbiAgICB9XG5cbiAgICBmb3IgKDsgZCAlIDUgPT09IDA7XG4gICAgICBkLz0gNSkge1xuICAgIH1cblxuICAgIGlmIChkID09PSAxKSAvLyBDYXRjaCBub24tY3ljbGljIG51bWJlcnNcbiAgICAgIHJldHVybiAwO1xuXG4gICAgLy8gSWYgd2Ugd291bGQgbGlrZSB0byBjb21wdXRlIHJlYWxseSBsYXJnZSBudW1iZXJzIHF1aWNrZXIsIHdlIGNvdWxkIG1ha2UgdXNlIG9mIEZlcm1hdCdzIGxpdHRsZSB0aGVvcmVtOlxuICAgIC8vIDEwXihkLTEpICUgZCA9PSAxXG4gICAgLy8gSG93ZXZlciwgd2UgZG9uJ3QgbmVlZCBzdWNoIGxhcmdlIG51bWJlcnMgYW5kIE1BWF9DWUNMRV9MRU4gc2hvdWxkIGJlIHRoZSBjYXBzdG9uZSxcbiAgICAvLyBhcyB3ZSB3YW50IHRvIHRyYW5zbGF0ZSB0aGUgbnVtYmVycyB0byBzdHJpbmdzLlxuXG4gICAgdmFyIHJlbSA9IDEwICUgZDtcbiAgICB2YXIgdCA9IDE7XG5cbiAgICBmb3IgKDsgcmVtICE9PSAxOyB0KyspIHtcbiAgICAgIHJlbSA9IHJlbSAqIDEwICUgZDtcblxuICAgICAgaWYgKHQgPiBNQVhfQ1lDTEVfTEVOKVxuICAgICAgICByZXR1cm4gMDsgLy8gUmV0dXJuaW5nIDAgaGVyZSBtZWFucyB0aGF0IHdlIGRvbid0IHByaW50IGl0IGFzIGEgY3ljbGljIG51bWJlci4gSXQncyBsaWtlbHkgdGhhdCB0aGUgYW5zd2VyIGlzIGBkLTFgXG4gICAgfVxuICAgIHJldHVybiB0O1xuICB9XG5cblxuICBmdW5jdGlvbiBjeWNsZVN0YXJ0KG4sIGQsIGxlbikge1xuXG4gICAgdmFyIHJlbTEgPSAxO1xuICAgIHZhciByZW0yID0gbW9kcG93KDEwLCBsZW4sIGQpO1xuXG4gICAgZm9yICh2YXIgdCA9IDA7IHQgPCAzMDA7IHQrKykgeyAvLyBzIDwgfmxvZzEwKE51bWJlci5NQVhfVkFMVUUpXG4gICAgICAvLyBTb2x2ZSAxMF5zID09IDEwXihzK3QpIChtb2QgZClcblxuICAgICAgaWYgKHJlbTEgPT09IHJlbTIpXG4gICAgICAgIHJldHVybiB0O1xuXG4gICAgICByZW0xID0gcmVtMSAqIDEwICUgZDtcbiAgICAgIHJlbTIgPSByZW0yICogMTAgJSBkO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdjZChhLCBiKSB7XG5cbiAgICBpZiAoIWEpXG4gICAgICByZXR1cm4gYjtcbiAgICBpZiAoIWIpXG4gICAgICByZXR1cm4gYTtcblxuICAgIHdoaWxlICgxKSB7XG4gICAgICBhJT0gYjtcbiAgICAgIGlmICghYSlcbiAgICAgICAgcmV0dXJuIGI7XG4gICAgICBiJT0gYTtcbiAgICAgIGlmICghYilcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBNb2R1bGUgY29uc3RydWN0b3JcbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7bnVtYmVyfEZyYWN0aW9uPX0gYVxuICAgKiBAcGFyYW0ge251bWJlcj19IGJcbiAgICovXG4gIGZ1bmN0aW9uIEZyYWN0aW9uKGEsIGIpIHtcblxuICAgIHBhcnNlKGEsIGIpO1xuXG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBGcmFjdGlvbikge1xuICAgICAgYSA9IGdjZChQW1wiZFwiXSwgUFtcIm5cIl0pOyAvLyBBYnVzZSB2YXJpYWJsZSBhXG4gICAgICB0aGlzW1wic1wiXSA9IFBbXCJzXCJdO1xuICAgICAgdGhpc1tcIm5cIl0gPSBQW1wiblwiXSAvIGE7XG4gICAgICB0aGlzW1wiZFwiXSA9IFBbXCJkXCJdIC8gYTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKFBbJ3MnXSAqIFBbJ24nXSwgUFsnZCddKTtcbiAgICB9XG4gIH1cblxuICBGcmFjdGlvblsnRGl2aXNpb25CeVplcm8nXSA9IG5ldyBFcnJvcihcIkRpdmlzaW9uIGJ5IFplcm9cIik7XG4gIEZyYWN0aW9uWydJbnZhbGlkUGFyYW1ldGVyJ10gPSBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50XCIpO1xuICBGcmFjdGlvblsnTm9uSW50ZWdlclBhcmFtZXRlciddID0gbmV3IEVycm9yKFwiUGFyYW1ldGVycyBtdXN0IGJlIGludGVnZXJcIik7XG5cbiAgRnJhY3Rpb24ucHJvdG90eXBlID0ge1xuXG4gICAgXCJzXCI6IDEsXG4gICAgXCJuXCI6IDAsXG4gICAgXCJkXCI6IDEsXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhYnNvbHV0ZSB2YWx1ZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigtNCkuYWJzKCkgPT4gNFxuICAgICAqKi9cbiAgICBcImFic1wiOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKHRoaXNbXCJuXCJdLCB0aGlzW1wiZFwiXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEludmVydHMgdGhlIHNpZ24gb2YgdGhlIGN1cnJlbnQgZnJhY3Rpb25cbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oLTQpLm5lZygpID0+IDRcbiAgICAgKiovXG4gICAgXCJuZWdcIjogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBuZXdGcmFjdGlvbigtdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSwgdGhpc1tcImRcIl0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKHtuOiAyLCBkOiAzfSkuYWRkKFwiMTQuOVwiKSA9PiA0NjcgLyAzMFxuICAgICAqKi9cbiAgICBcImFkZFwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKFxuICAgICAgICB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdICogUFtcImRcIl0gKyBQW1wic1wiXSAqIHRoaXNbXCJkXCJdICogUFtcIm5cIl0sXG4gICAgICAgIHRoaXNbXCJkXCJdICogUFtcImRcIl1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0cyB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbih7bjogMiwgZDogM30pLmFkZChcIjE0LjlcIikgPT4gLTQyNyAvIDMwXG4gICAgICoqL1xuICAgIFwic3ViXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3RnJhY3Rpb24oXG4gICAgICAgIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSAtIFBbXCJzXCJdICogdGhpc1tcImRcIl0gKiBQW1wiblwiXSxcbiAgICAgICAgdGhpc1tcImRcIl0gKiBQW1wiZFwiXVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIi0xNy4oMzQ1KVwiKS5tdWwoMykgPT4gNTc3NiAvIDExMVxuICAgICAqKi9cbiAgICBcIm11bFwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKFxuICAgICAgICB0aGlzW1wic1wiXSAqIFBbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiblwiXSxcbiAgICAgICAgdGhpc1tcImRcIl0gKiBQW1wiZFwiXVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGl2aWRlcyB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIi0xNy4oMzQ1KVwiKS5pbnZlcnNlKCkuZGl2KDMpXG4gICAgICoqL1xuICAgIFwiZGl2XCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3RnJhY3Rpb24oXG4gICAgICAgIHRoaXNbXCJzXCJdICogUFtcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdLFxuICAgICAgICB0aGlzW1wiZFwiXSAqIFBbXCJuXCJdXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIGFjdHVhbCBvYmplY3RcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCItMTcuKDM0NSlcIikuY2xvbmUoKVxuICAgICAqKi9cbiAgICBcImNsb25lXCI6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKHRoaXNbJ3MnXSAqIHRoaXNbJ24nXSwgdGhpc1snZCddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbW9kdWxvIG9mIHR3byByYXRpb25hbCBudW1iZXJzIC0gYSBtb3JlIHByZWNpc2UgZm1vZFxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbignNC4oMyknKS5tb2QoWzcsIDhdKSA9PiAoMTMvMykgJSAoNy84KSA9ICg1LzYpXG4gICAgICoqL1xuICAgIFwibW9kXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbJ24nXSkgfHwgaXNOYU4odGhpc1snZCddKSkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE5hTik7XG4gICAgICB9XG5cbiAgICAgIGlmIChhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gJSB0aGlzW1wiZFwiXSwgMSk7XG4gICAgICB9XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgaWYgKDAgPT09IFBbXCJuXCJdICYmIDAgPT09IHRoaXNbXCJkXCJdKSB7XG4gICAgICAgIHRocm93IEZyYWN0aW9uWydEaXZpc2lvbkJ5WmVybyddO1xuICAgICAgfVxuXG4gICAgICAvKlxuICAgICAgICogRmlyc3Qgc2lsbHkgYXR0ZW1wdCwga2luZGEgc2xvd1xuICAgICAgICpcbiAgICAgICByZXR1cm4gdGhhdFtcInN1YlwiXSh7XG4gICAgICAgXCJuXCI6IG51bVtcIm5cIl0gKiBNYXRoLmZsb29yKCh0aGlzLm4gLyB0aGlzLmQpIC8gKG51bS5uIC8gbnVtLmQpKSxcbiAgICAgICBcImRcIjogbnVtW1wiZFwiXSxcbiAgICAgICBcInNcIjogdGhpc1tcInNcIl1cbiAgICAgICB9KTsqL1xuXG4gICAgICAvKlxuICAgICAgICogTmV3IGF0dGVtcHQ6IGExIC8gYjEgPSBhMiAvIGIyICogcSArIHJcbiAgICAgICAqID0+IGIyICogYTEgPSBhMiAqIGIxICogcSArIGIxICogYjIgKiByXG4gICAgICAgKiA9PiAoYjIgKiBhMSAlIGEyICogYjEpIC8gKGIxICogYjIpXG4gICAgICAgKi9cbiAgICAgIHJldHVybiBuZXdGcmFjdGlvbihcbiAgICAgICAgdGhpc1tcInNcIl0gKiAoUFtcImRcIl0gKiB0aGlzW1wiblwiXSkgJSAoUFtcIm5cIl0gKiB0aGlzW1wiZFwiXSksXG4gICAgICAgIFBbXCJkXCJdICogdGhpc1tcImRcIl1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGZyYWN0aW9uYWwgZ2NkIG9mIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDUsOCkuZ2NkKDMsNykgPT4gMS81NlxuICAgICAqL1xuICAgIFwiZ2NkXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG5cbiAgICAgIC8vIGdjZChhIC8gYiwgYyAvIGQpID0gZ2NkKGEsIGMpIC8gbGNtKGIsIGQpXG5cbiAgICAgIHJldHVybiBuZXdGcmFjdGlvbihnY2QoUFtcIm5cIl0sIHRoaXNbXCJuXCJdKSAqIGdjZChQW1wiZFwiXSwgdGhpc1tcImRcIl0pLCBQW1wiZFwiXSAqIHRoaXNbXCJkXCJdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZnJhY3Rpb25hbCBsY20gb2YgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oNSw4KS5sY20oMyw3KSA9PiAxNVxuICAgICAqL1xuICAgIFwibGNtXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG5cbiAgICAgIC8vIGxjbShhIC8gYiwgYyAvIGQpID0gbGNtKGEsIGMpIC8gZ2NkKGIsIGQpXG5cbiAgICAgIGlmIChQW1wiblwiXSA9PT0gMCAmJiB0aGlzW1wiblwiXSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3RnJhY3Rpb24oMCwgMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3RnJhY3Rpb24oUFtcIm5cIl0gKiB0aGlzW1wiblwiXSwgZ2NkKFBbXCJuXCJdLCB0aGlzW1wiblwiXSkgKiBnY2QoUFtcImRcIl0sIHRoaXNbXCJkXCJdKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGNlaWwgb2YgYSByYXRpb25hbCBudW1iZXJcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oJzQuKDMpJykuY2VpbCgpID0+ICg1IC8gMSlcbiAgICAgKiovXG4gICAgXCJjZWlsXCI6IGZ1bmN0aW9uKHBsYWNlcykge1xuXG4gICAgICBwbGFjZXMgPSBNYXRoLnBvdygxMCwgcGxhY2VzIHx8IDApO1xuXG4gICAgICBpZiAoaXNOYU4odGhpc1tcIm5cIl0pIHx8IGlzTmFOKHRoaXNbXCJkXCJdKSkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE5hTik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3RnJhY3Rpb24oTWF0aC5jZWlsKHBsYWNlcyAqIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gLyB0aGlzW1wiZFwiXSksIHBsYWNlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGZsb29yIG9mIGEgcmF0aW9uYWwgbnVtYmVyXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKCc0LigzKScpLmZsb29yKCkgPT4gKDQgLyAxKVxuICAgICAqKi9cbiAgICBcImZsb29yXCI6IGZ1bmN0aW9uKHBsYWNlcykge1xuXG4gICAgICBwbGFjZXMgPSBNYXRoLnBvdygxMCwgcGxhY2VzIHx8IDApO1xuXG4gICAgICBpZiAoaXNOYU4odGhpc1tcIm5cIl0pIHx8IGlzTmFOKHRoaXNbXCJkXCJdKSkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE5hTik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3RnJhY3Rpb24oTWF0aC5mbG9vcihwbGFjZXMgKiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl0pLCBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3VuZHMgYSByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKCc0LigzKScpLnJvdW5kKCkgPT4gKDQgLyAxKVxuICAgICAqKi9cbiAgICBcInJvdW5kXCI6IGZ1bmN0aW9uKHBsYWNlcykge1xuXG4gICAgICBwbGFjZXMgPSBNYXRoLnBvdygxMCwgcGxhY2VzIHx8IDApO1xuXG4gICAgICBpZiAoaXNOYU4odGhpc1tcIm5cIl0pIHx8IGlzTmFOKHRoaXNbXCJkXCJdKSkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE5hTik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3RnJhY3Rpb24oTWF0aC5yb3VuZChwbGFjZXMgKiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl0pLCBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnZlcnNlIG9mIHRoZSBmcmFjdGlvbiwgbWVhbnMgbnVtZXJhdG9yIGFuZCBkZW5vbWluYXRvciBhcmUgZXhjaGFuZ2VkXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFstMywgNF0pLmludmVyc2UoKSA9PiAtNCAvIDNcbiAgICAgKiovXG4gICAgXCJpbnZlcnNlXCI6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3RnJhY3Rpb24odGhpc1tcInNcIl0gKiB0aGlzW1wiZFwiXSwgdGhpc1tcIm5cIl0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBmcmFjdGlvbiB0byBzb21lIHJhdGlvbmFsIGV4cG9uZW50LCBpZiBwb3NzaWJsZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigtMSwyKS5wb3coLTMpID0+IC04XG4gICAgICovXG4gICAgXCJwb3dcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcblxuICAgICAgLy8gVHJpdmlhbCBjYXNlIHdoZW4gZXhwIGlzIGFuIGludGVnZXJcblxuICAgICAgaWYgKFBbJ2QnXSA9PT0gMSkge1xuXG4gICAgICAgIGlmIChQWydzJ10gPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKE1hdGgucG93KHRoaXNbJ3MnXSAqIHRoaXNbXCJkXCJdLCBQWyduJ10pLCBNYXRoLnBvdyh0aGlzW1wiblwiXSwgUFsnbiddKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG5ld0ZyYWN0aW9uKE1hdGgucG93KHRoaXNbJ3MnXSAqIHRoaXNbXCJuXCJdLCBQWyduJ10pLCBNYXRoLnBvdyh0aGlzW1wiZFwiXSwgUFsnbiddKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gTmVnYXRpdmUgcm9vdHMgYmVjb21lIGNvbXBsZXhcbiAgICAgIC8vICAgICAoLWEvYileKGMvZCkgPSB4XG4gICAgICAvLyA8PT4gKC0xKV4oYy9kKSAqIChhL2IpXihjL2QpID0geFxuICAgICAgLy8gPD0+IChjb3MocGkpICsgaSpzaW4ocGkpKV4oYy9kKSAqIChhL2IpXihjL2QpID0geCAgICAgICAgICMgcm90YXRlIDEgYnkgMTgwwrBcbiAgICAgIC8vIDw9PiAoY29zKGMqcGkvZCkgKyBpKnNpbihjKnBpL2QpKSAqIChhL2IpXihjL2QpID0geCAgICAgICAjIERlTW9pdnJlJ3MgZm9ybXVsYSBpbiBRICggaHR0cHM6Ly9wcm9vZndpa2kub3JnL3dpa2kvRGVfTW9pdnJlJTI3c19Gb3JtdWxhL1JhdGlvbmFsX0luZGV4IClcbiAgICAgIC8vIEZyb20gd2hpY2ggZm9sbG93cyB0aGF0IG9ubHkgZm9yIGM9MCB0aGUgcm9vdCBpcyBub24tY29tcGxleC4gYy9kIGlzIGEgcmVkdWNlZCBmcmFjdGlvbiwgc28gdGhhdCBzaW4oYy9kcGkpPTAgb2NjdXJzIGZvciBkPTEsIHdoaWNoIGlzIGhhbmRsZWQgYnkgb3VyIHRyaXZpYWwgY2FzZS5cbiAgICAgIGlmICh0aGlzWydzJ10gPCAwKSByZXR1cm4gbnVsbDtcblxuICAgICAgLy8gTm93IHByaW1lIGZhY3RvciBuIGFuZCBkXG4gICAgICB2YXIgTiA9IGZhY3Rvcml6ZSh0aGlzWyduJ10pO1xuICAgICAgdmFyIEQgPSBmYWN0b3JpemUodGhpc1snZCddKTtcblxuICAgICAgLy8gRXhwb25lbnRpYXRlIGFuZCB0YWtlIHJvb3QgZm9yIG4gYW5kIGQgaW5kaXZpZHVhbGx5XG4gICAgICB2YXIgbiA9IDE7XG4gICAgICB2YXIgZCA9IDE7XG4gICAgICBmb3IgKHZhciBrIGluIE4pIHtcbiAgICAgICAgaWYgKGsgPT09ICcxJykgY29udGludWU7XG4gICAgICAgIGlmIChrID09PSAnMCcpIHtcbiAgICAgICAgICBuID0gMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBOW2tdKj0gUFsnbiddO1xuXG4gICAgICAgIGlmIChOW2tdICUgUFsnZCddID09PSAwKSB7XG4gICAgICAgICAgTltrXS89IFBbJ2QnXTtcbiAgICAgICAgfSBlbHNlIHJldHVybiBudWxsO1xuICAgICAgICBuKj0gTWF0aC5wb3coaywgTltrXSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGsgaW4gRCkge1xuICAgICAgICBpZiAoayA9PT0gJzEnKSBjb250aW51ZTtcbiAgICAgICAgRFtrXSo9IFBbJ24nXTtcblxuICAgICAgICBpZiAoRFtrXSAlIFBbJ2QnXSA9PT0gMCkge1xuICAgICAgICAgIERba10vPSBQWydkJ107XG4gICAgICAgIH0gZWxzZSByZXR1cm4gbnVsbDtcbiAgICAgICAgZCo9IE1hdGgucG93KGssIERba10pO1xuICAgICAgfVxuXG4gICAgICBpZiAoUFsncyddIDwgMCkge1xuICAgICAgICByZXR1cm4gbmV3RnJhY3Rpb24oZCwgbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3RnJhY3Rpb24obiwgZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHR3byByYXRpb25hbCBudW1iZXJzIGFyZSB0aGUgc2FtZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigxOS42KS5lcXVhbHMoWzk4LCA1XSk7XG4gICAgICoqL1xuICAgIFwiZXF1YWxzXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdID09PSBQW1wic1wiXSAqIFBbXCJuXCJdICogdGhpc1tcImRcIl07IC8vIFNhbWUgYXMgY29tcGFyZSgpID09PSAwXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHR3byByYXRpb25hbCBudW1iZXJzIGFyZSB0aGUgc2FtZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigxOS42KS5lcXVhbHMoWzk4LCA1XSk7XG4gICAgICoqL1xuICAgIFwiY29tcGFyZVwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgdmFyIHQgPSAodGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdIC0gUFtcInNcIl0gKiBQW1wiblwiXSAqIHRoaXNbXCJkXCJdKTtcbiAgICAgIHJldHVybiAoMCA8IHQpIC0gKHQgPCAwKTtcbiAgICB9LFxuXG4gICAgXCJzaW1wbGlmeVwiOiBmdW5jdGlvbihlcHMpIHtcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbJ24nXSkgfHwgaXNOYU4odGhpc1snZCddKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgZXBzID0gZXBzIHx8IDAuMDAxO1xuXG4gICAgICB2YXIgdGhpc0FCUyA9IHRoaXNbJ2FicyddKCk7XG4gICAgICB2YXIgY29udCA9IHRoaXNBQlNbJ3RvQ29udGludWVkJ10oKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBjb250Lmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgdmFyIHMgPSBuZXdGcmFjdGlvbihjb250W2kgLSAxXSwgMSk7XG4gICAgICAgIGZvciAodmFyIGsgPSBpIC0gMjsgayA+PSAwOyBrLS0pIHtcbiAgICAgICAgICBzID0gc1snaW52ZXJzZSddKClbJ2FkZCddKGNvbnRba10pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNbJ3N1YiddKHRoaXNBQlMpWydhYnMnXSgpLnZhbHVlT2YoKSA8IGVwcykge1xuICAgICAgICAgIHJldHVybiBzWydtdWwnXSh0aGlzWydzJ10pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdHdvIHJhdGlvbmFsIG51bWJlcnMgYXJlIGRpdmlzaWJsZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigxOS42KS5kaXZpc2libGUoMS41KTtcbiAgICAgKi9cbiAgICBcImRpdmlzaWJsZVwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuICEoIShQW1wiblwiXSAqIHRoaXNbXCJkXCJdKSB8fCAoKHRoaXNbXCJuXCJdICogUFtcImRcIl0pICUgKFBbXCJuXCJdICogdGhpc1tcImRcIl0pKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBkZWNpbWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBmcmFjdGlvblxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIjEwMC4nOTE4MjMnXCIpLnZhbHVlT2YoKSA9PiAxMDAuOTE4MjM5MTgyMzkxODNcbiAgICAgKiovXG4gICAgJ3ZhbHVlT2YnOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gLyB0aGlzW1wiZFwiXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZy1mcmFjdGlvbiByZXByZXNlbnRhdGlvbiBvZiBhIEZyYWN0aW9uIG9iamVjdFxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIjEuJzMnXCIpLnRvRnJhY3Rpb24odHJ1ZSkgPT4gXCI0IDEvM1wiXG4gICAgICoqL1xuICAgICd0b0ZyYWN0aW9uJzogZnVuY3Rpb24oZXhjbHVkZVdob2xlKSB7XG5cbiAgICAgIHZhciB3aG9sZSwgc3RyID0gXCJcIjtcbiAgICAgIHZhciBuID0gdGhpc1tcIm5cIl07XG4gICAgICB2YXIgZCA9IHRoaXNbXCJkXCJdO1xuICAgICAgaWYgKHRoaXNbXCJzXCJdIDwgMCkge1xuICAgICAgICBzdHIrPSAnLSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChkID09PSAxKSB7XG4gICAgICAgIHN0cis9IG47XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIGlmIChleGNsdWRlV2hvbGUgJiYgKHdob2xlID0gTWF0aC5mbG9vcihuIC8gZCkpID4gMCkge1xuICAgICAgICAgIHN0cis9IHdob2xlO1xuICAgICAgICAgIHN0cis9IFwiIFwiO1xuICAgICAgICAgIG4lPSBkO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RyKz0gbjtcbiAgICAgICAgc3RyKz0gJy8nO1xuICAgICAgICBzdHIrPSBkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxhdGV4IHJlcHJlc2VudGF0aW9uIG9mIGEgRnJhY3Rpb24gb2JqZWN0XG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiMS4nMydcIikudG9MYXRleCgpID0+IFwiXFxmcmFjezR9ezN9XCJcbiAgICAgKiovXG4gICAgJ3RvTGF0ZXgnOiBmdW5jdGlvbihleGNsdWRlV2hvbGUpIHtcblxuICAgICAgdmFyIHdob2xlLCBzdHIgPSBcIlwiO1xuICAgICAgdmFyIG4gPSB0aGlzW1wiblwiXTtcbiAgICAgIHZhciBkID0gdGhpc1tcImRcIl07XG4gICAgICBpZiAodGhpc1tcInNcIl0gPCAwKSB7XG4gICAgICAgIHN0cis9ICctJztcbiAgICAgIH1cblxuICAgICAgaWYgKGQgPT09IDEpIHtcbiAgICAgICAgc3RyKz0gbjtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgaWYgKGV4Y2x1ZGVXaG9sZSAmJiAod2hvbGUgPSBNYXRoLmZsb29yKG4gLyBkKSkgPiAwKSB7XG4gICAgICAgICAgc3RyKz0gd2hvbGU7XG4gICAgICAgICAgbiU9IGQ7XG4gICAgICAgIH1cblxuICAgICAgICBzdHIrPSBcIlxcXFxmcmFje1wiO1xuICAgICAgICBzdHIrPSBuO1xuICAgICAgICBzdHIrPSAnfXsnO1xuICAgICAgICBzdHIrPSBkO1xuICAgICAgICBzdHIrPSAnfSc7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGNvbnRpbnVlZCBmcmFjdGlvbiBlbGVtZW50c1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIjcvOFwiKS50b0NvbnRpbnVlZCgpID0+IFswLDEsN11cbiAgICAgKi9cbiAgICAndG9Db250aW51ZWQnOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHQ7XG4gICAgICB2YXIgYSA9IHRoaXNbJ24nXTtcbiAgICAgIHZhciBiID0gdGhpc1snZCddO1xuICAgICAgdmFyIHJlcyA9IFtdO1xuXG4gICAgICBpZiAoaXNOYU4oYSkgfHwgaXNOYU4oYikpIHtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH1cblxuICAgICAgZG8ge1xuICAgICAgICByZXMucHVzaChNYXRoLmZsb29yKGEgLyBiKSk7XG4gICAgICAgIHQgPSBhICUgYjtcbiAgICAgICAgYSA9IGI7XG4gICAgICAgIGIgPSB0O1xuICAgICAgfSB3aGlsZSAoYSAhPT0gMSk7XG5cbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBmcmFjdGlvbiB3aXRoIGFsbCBkaWdpdHNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxMDAuJzkxODIzJ1wiKS50b1N0cmluZygpID0+IFwiMTAwLig5MTgyMylcIlxuICAgICAqKi9cbiAgICAndG9TdHJpbmcnOiBmdW5jdGlvbihkZWMpIHtcblxuICAgICAgdmFyIE4gPSB0aGlzW1wiblwiXTtcbiAgICAgIHZhciBEID0gdGhpc1tcImRcIl07XG5cbiAgICAgIGlmIChpc05hTihOKSB8fCBpc05hTihEKSkge1xuICAgICAgICByZXR1cm4gXCJOYU5cIjtcbiAgICAgIH1cblxuICAgICAgZGVjID0gZGVjIHx8IDE1OyAvLyAxNSA9IGRlY2ltYWwgcGxhY2VzIHdoZW4gbm8gcmVwZXRhdGlvblxuXG4gICAgICB2YXIgY3ljTGVuID0gY3ljbGVMZW4oTiwgRCk7IC8vIEN5Y2xlIGxlbmd0aFxuICAgICAgdmFyIGN5Y09mZiA9IGN5Y2xlU3RhcnQoTiwgRCwgY3ljTGVuKTsgLy8gQ3ljbGUgc3RhcnRcblxuICAgICAgdmFyIHN0ciA9IHRoaXNbJ3MnXSA8IDAgPyBcIi1cIiA6IFwiXCI7XG5cbiAgICAgIHN0cis9IE4gLyBEIHwgMDtcblxuICAgICAgTiU9IEQ7XG4gICAgICBOKj0gMTA7XG5cbiAgICAgIGlmIChOKVxuICAgICAgICBzdHIrPSBcIi5cIjtcblxuICAgICAgaWYgKGN5Y0xlbikge1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBjeWNPZmY7IGktLTspIHtcbiAgICAgICAgICBzdHIrPSBOIC8gRCB8IDA7XG4gICAgICAgICAgTiU9IEQ7XG4gICAgICAgICAgTio9IDEwO1xuICAgICAgICB9XG4gICAgICAgIHN0cis9IFwiKFwiO1xuICAgICAgICBmb3IgKHZhciBpID0gY3ljTGVuOyBpLS07KSB7XG4gICAgICAgICAgc3RyKz0gTiAvIEQgfCAwO1xuICAgICAgICAgIE4lPSBEO1xuICAgICAgICAgIE4qPSAxMDtcbiAgICAgICAgfVxuICAgICAgICBzdHIrPSBcIilcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSBkZWM7IE4gJiYgaS0tOykge1xuICAgICAgICAgIHN0cis9IE4gLyBEIHwgMDtcbiAgICAgICAgICBOJT0gRDtcbiAgICAgICAgICBOKj0gMTA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICB9O1xuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lW1wiYW1kXCJdKSB7XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBGcmFjdGlvbjtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcmFjdGlvbiwgXCJfX2VzTW9kdWxlXCIsIHsgJ3ZhbHVlJzogdHJ1ZSB9KTtcbiAgICBGcmFjdGlvblsnZGVmYXVsdCddID0gRnJhY3Rpb247XG4gICAgRnJhY3Rpb25bJ0ZyYWN0aW9uJ10gPSBGcmFjdGlvbjtcbiAgICBtb2R1bGVbJ2V4cG9ydHMnXSA9IEZyYWN0aW9uO1xuICB9IGVsc2Uge1xuICAgIHJvb3RbJ0ZyYWN0aW9uJ10gPSBGcmFjdGlvbjtcbiAgfVxuXG59KSh0aGlzKTtcbiIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXCJleHBvcnRzXCJdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGZhY3RvcnkoZXhwb3J0cyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIG1vZCA9IHtcbiAgICAgIGV4cG9ydHM6IHt9XG4gICAgfTtcbiAgICBmYWN0b3J5KG1vZC5leHBvcnRzKTtcbiAgICBnbG9iYWwuanN0b3htbCA9IG1vZC5leHBvcnRzO1xuICB9XG59KSh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbiAoX2V4cG9ydHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9leHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG4gIH0pO1xuICBfZXhwb3J0cy50b1hNTCA9IF9leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG4gIGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuICBmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG4gIGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyW1wiQEBpdGVyYXRvclwiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuICBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9XG4gIGZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG4gIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG4gIGZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7IHJldHVybiBfdHlwZW9mKGtleSkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfVxuICBmdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTsgaWYgKF90eXBlb2YocmVzKSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9XG4gIGZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG4gIGZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbiAgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG4gIGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07IHJldHVybiBhcnIyOyB9XG4gIGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgdmFyIF9pID0gbnVsbCA9PSBhcnIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07IGlmIChudWxsICE9IF9pKSB7IHZhciBfcywgX2UsIF94LCBfciwgX2FyciA9IFtdLCBfbiA9ICEwLCBfZCA9ICExOyB0cnkgeyBpZiAoX3ggPSAoX2kgPSBfaS5jYWxsKGFycikpLm5leHQsIDAgPT09IGkpIHsgaWYgKE9iamVjdChfaSkgIT09IF9pKSByZXR1cm47IF9uID0gITE7IH0gZWxzZSBmb3IgKDsgIShfbiA9IChfcyA9IF94LmNhbGwoX2kpKS5kb25lKSAmJiAoX2Fyci5wdXNoKF9zLnZhbHVlKSwgX2Fyci5sZW5ndGggIT09IGkpOyBfbiA9ICEwKTsgfSBjYXRjaCAoZXJyKSB7IF9kID0gITAsIF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIG51bGwgIT0gX2kucmV0dXJuICYmIChfciA9IF9pLnJldHVybigpLCBPYmplY3QoX3IpICE9PSBfcikpIHJldHVybjsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IH1cbiAgZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG4gIGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9LCBfdHlwZW9mKG9iaik7IH1cbiAgdmFyIERBVEFfVFlQRVMgPSB7XG4gICAgQVJSQVk6ICdhcnJheScsXG4gICAgQk9PTEVBTjogJ2Jvb2xlYW4nLFxuICAgIERBVEU6ICdkYXRlJyxcbiAgICBGVU5DVElPTjogJ2Z1bmN0aW9uJyxcbiAgICBKU1RPWE1MX09CSkVDVDogJ2pzdG94bWwtb2JqZWN0JyxcbiAgICBOVUxMOiAnbnVsbCcsXG4gICAgTlVNQkVSOiAnbnVtYmVyJyxcbiAgICBPQkpFQ1Q6ICdvYmplY3QnLFxuICAgIFNUUklORzogJ3N0cmluZydcbiAgfTtcbiAgdmFyIFBSSU1JVElWRV9UWVBFUyA9IFtEQVRBX1RZUEVTLlNUUklORywgREFUQV9UWVBFUy5OVU1CRVIsIERBVEFfVFlQRVMuQk9PTEVBTl07XG4gIHZhciBERUZBVUxUX1hNTF9IRUFERVIgPSAnPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+JztcbiAgdmFyIFBSSVZBVEVfVkFSUyA9IFsnX3NlbGZDbG9zZVRhZycsICdfYXR0cnMnXTtcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgaW5kZW50IHN0cmluZyBiYXNlZCBvbiBjdXJyZW50IHRyZWUgZGVwdGguXG4gICAqL1xuICB2YXIgZ2V0SW5kZW50U3RyID0gZnVuY3Rpb24gZ2V0SW5kZW50U3RyKCkge1xuICAgIHZhciBpbmRlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgIHZhciBkZXB0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICByZXR1cm4gaW5kZW50LnJlcGVhdChkZXB0aCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN1Z2FyIGZ1bmN0aW9uIHN1cHBsZW1lbnRpbmcgSlMncyBxdWlya3kgdHlwZW9mIG9wZXJhdG9yLCBwbHVzIHNvbWUgZXh0cmEgaGVscCB0byBkZXRlY3RcbiAgICogXCJzcGVjaWFsIG9iamVjdHNcIiBleHBlY3RlZCBieSBqc3RveG1sLlxuICAgKiBAZXhhbXBsZVxuICAgKiBnZXRUeXBlKG5ldyBEYXRlKCkpO1xuICAgKiAvLyAtPiAnZGF0ZSdcbiAgICovXG4gIHZhciBnZXRUeXBlID0gZnVuY3Rpb24gZ2V0VHlwZSh2YWwpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWwpICYmIERBVEFfVFlQRVMuQVJSQVkgfHwgX3R5cGVvZih2YWwpID09PSBEQVRBX1RZUEVTLk9CSkVDVCAmJiB2YWwgIT09IG51bGwgJiYgdmFsLl9uYW1lICYmIERBVEFfVFlQRVMuSlNUT1hNTF9PQkpFQ1QgfHwgdmFsIGluc3RhbmNlb2YgRGF0ZSAmJiBEQVRBX1RZUEVTLkRBVEUgfHwgdmFsID09PSBudWxsICYmIERBVEFfVFlQRVMuTlVMTCB8fCBfdHlwZW9mKHZhbCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgYSBzdHJpbmcgaXMgQ0RBVEEgYW5kIHNob3VsZG4ndCBiZSB0b3VjaGVkLlxuICAgKiBAZXhhbXBsZVxuICAgKiBpc0NEQVRBKCc8IVtDREFUQVs8Yj50ZXN0PC9iPl1dPicpO1xuICAgKiAvLyAtPiB0cnVlXG4gICAqL1xuICB2YXIgaXNDREFUQSA9IGZ1bmN0aW9uIGlzQ0RBVEEoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5zdGFydHNXaXRoKCc8IVtDREFUQVsnKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVwbGFjZXMgbWF0Y2hpbmcgdmFsdWVzIGluIGEgc3RyaW5nIHdpdGggYSBuZXcgdmFsdWUuXG4gICAqIEBleGFtcGxlXG4gICAqIG1hcFN0cignZm9vJmJhcicsIHsgJyYnOiAnJmFtcDsnIH0pO1xuICAgKiAvLyAtPiAnZm9vJmFtcDtiYXInXG4gICAqL1xuICB2YXIgbWFwU3RyID0gZnVuY3Rpb24gbWFwU3RyKCkge1xuICAgIHZhciBpbnB1dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgdmFyIHJlcGxhY2VtZW50cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdmFyIGNvbnRlbnRNYXAgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgb3V0cHV0ID0gaW5wdXQ7XG4gICAgaWYgKF90eXBlb2YoaW5wdXQpID09PSBEQVRBX1RZUEVTLlNUUklORykge1xuICAgICAgaWYgKGlzQ0RBVEEoaW5wdXQpKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgIH1cbiAgICAgIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKFwiKFwiLmNvbmNhdChPYmplY3Qua2V5cyhyZXBsYWNlbWVudHMpLmpvaW4oJ3wnKSwgXCIpKD8hKFxcXFx3fCMpKjspXCIpLCAnZycpO1xuICAgICAgb3V0cHV0ID0gU3RyaW5nKGlucHV0KS5yZXBsYWNlKHJlZ2V4cCwgZnVuY3Rpb24gKHN0ciwgZW50aXR5KSB7XG4gICAgICAgIHJldHVybiByZXBsYWNlbWVudHNbZW50aXR5XSB8fCAnJztcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZW9mIGNvbnRlbnRNYXAgPT09ICdmdW5jdGlvbicgPyBjb250ZW50TWFwKG91dHB1dCkgOiBvdXRwdXQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hcHMgYW4gb2JqZWN0IG9yIGFycmF5IG9mIGFycmlidXRlIGtleXZhbCBwYWlycyB0byBhIHN0cmluZy5cbiAgICogQGV4YW1wbGVcbiAgICogZ2V0QXR0cmlidXRlS2V5VmFscyh7IGZvbzogJ2JhcicsIGJhejogJ2cnIH0pO1xuICAgKiAvLyAtPiAnZm9vPVwiYmFyXCIgYmF6PVwiZ1wiJ1xuICAgKiBnZXRBdHRyaWJ1dGVLZXlWYWxzKFsgeyDimqE6IHRydWUgfSwgeyBmb286ICdiYXInIH0gXSk7XG4gICAqIC8vIC0+ICfimqEgZm9vPVwiYmFyXCInXG4gICAqL1xuICB2YXIgZ2V0QXR0cmlidXRlS2V5VmFscyA9IGZ1bmN0aW9uIGdldEF0dHJpYnV0ZUtleVZhbHMoKSB7XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHZhciByZXBsYWNlbWVudHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgZmlsdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIG91dHB1dEV4cGxpY2l0VHJ1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkO1xuICAgIC8vIE5vcm1hbGl6ZXMgYmV0d2VlbiBhdHRyaWJ1dGVzIGFzIG9iamVjdCBhbmQgYXMgYXJyYXkuXG4gICAgdmFyIGF0dHJpYnV0ZXNBcnIgPSBBcnJheS5pc0FycmF5KGF0dHJpYnV0ZXMpID8gYXR0cmlidXRlcyA6IE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpLm1hcChmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG4gICAgICAgIGtleSA9IF9yZWYyWzBdLFxuICAgICAgICB2YWwgPSBfcmVmMlsxXTtcbiAgICAgIHJldHVybiBfZGVmaW5lUHJvcGVydHkoe30sIGtleSwgdmFsKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYXR0cmlidXRlc0Fyci5yZWR1Y2UoZnVuY3Rpb24gKGFsbEF0dHJpYnV0ZXMsIGF0dHIpIHtcbiAgICAgIHZhciBrZXkgPSBPYmplY3Qua2V5cyhhdHRyKVswXTtcbiAgICAgIHZhciB2YWwgPSBhdHRyW2tleV07XG4gICAgICBpZiAoX3R5cGVvZihmaWx0ZXIpID09PSBEQVRBX1RZUEVTLkZVTkNUSU9OKSB7XG4gICAgICAgIHZhciBzaG91bGRGaWx0ZXJPdXQgPSBmaWx0ZXIoa2V5LCB2YWwpO1xuICAgICAgICBpZiAoc2hvdWxkRmlsdGVyT3V0KSB7XG4gICAgICAgICAgcmV0dXJuIGFsbEF0dHJpYnV0ZXM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciByZXBsYWNlZFZhbCA9IHJlcGxhY2VtZW50cyA/IG1hcFN0cih2YWwsIHJlcGxhY2VtZW50cykgOiB2YWw7XG4gICAgICB2YXIgdmFsU3RyID0gIW91dHB1dEV4cGxpY2l0VHJ1ZSAmJiByZXBsYWNlZFZhbCA9PT0gdHJ1ZSA/ICcnIDogXCI9XFxcIlwiLmNvbmNhdChyZXBsYWNlZFZhbCwgXCJcXFwiXCIpO1xuICAgICAgYWxsQXR0cmlidXRlcy5wdXNoKFwiXCIuY29uY2F0KGtleSkuY29uY2F0KHZhbFN0cikpO1xuICAgICAgcmV0dXJuIGFsbEF0dHJpYnV0ZXM7XG4gICAgfSwgW10pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhbiBhdHRyaWJ1dGVzIG9iamVjdC9hcnJheSB0byBhIHN0cmluZyBvZiBrZXl2YWwgcGFpcnMuXG4gICAqIEBleGFtcGxlXG4gICAqIGZvcm1hdEF0dHJpYnV0ZXMoeyBhOiAxLCBiOiAyIH0pXG4gICAqIC8vIC0+ICdhPVwiMVwiIGI9XCIyXCInXG4gICAqL1xuICB2YXIgZm9ybWF0QXR0cmlidXRlcyA9IGZ1bmN0aW9uIGZvcm1hdEF0dHJpYnV0ZXMoKSB7XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHZhciByZXBsYWNlbWVudHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgZmlsdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIG91dHB1dEV4cGxpY2l0VHJ1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkO1xuICAgIHZhciBrZXlWYWxzID0gZ2V0QXR0cmlidXRlS2V5VmFscyhhdHRyaWJ1dGVzLCByZXBsYWNlbWVudHMsIGZpbHRlciwgb3V0cHV0RXhwbGljaXRUcnVlKTtcbiAgICBpZiAoa2V5VmFscy5sZW5ndGggPT09IDApIHJldHVybiAnJztcbiAgICB2YXIga2V5c1ZhbHNKb2luZWQgPSBrZXlWYWxzLmpvaW4oJyAnKTtcbiAgICByZXR1cm4gXCIgXCIuY29uY2F0KGtleXNWYWxzSm9pbmVkKTtcbiAgfTtcblxuICAvKipcbiAgICogQ29udmVydHMgYW4gb2JqZWN0IGludG8gYW4gYXJyYXkgb2YganN0b3htbC1vYmplY3QuXG4gICAqIEBleGFtcGxlXG4gICAqIG9ialRvQXJyYXkoeyBmb286ICdiYXInLCBiYXo6IDIgfSk7XG4gICAqIC0+XG4gICAqIFtcbiAgICogICB7XG4gICAqICAgICBfbmFtZTogJ2ZvbycsXG4gICAqICAgICBfY29udGVudDogJ2JhcidcbiAgICogICB9LFxuICAgKiAgIHtcbiAgICogICAgIF9uYW1lOiAnYmF6JyxcbiAgICogICAgIF9jb250ZW50OiAyXG4gICAqICAgfVxuICAgKiBdXG4gICAqL1xuICB2YXIgb2JqVG9BcnJheSA9IGZ1bmN0aW9uIG9ialRvQXJyYXkoKSB7XG4gICAgdmFyIG9iaiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIF9uYW1lOiBrZXksXG4gICAgICAgIF9jb250ZW50OiBvYmpba2V5XVxuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiBhIHZhbHVlIGlzIGEgcHJpbWl0aXZlIEphdmFTY3JpcHQgdmFsdWUgKG5vdCBpbmNsdWRpbmcgU3ltYm9sKS5cbiAgICogQGV4YW1wbGVcbiAgICogaXNQcmltaXRpdmUoNCk7XG4gICAqIC8vIC0+IHRydWVcbiAgICovXG4gIHZhciBpc1ByaW1pdGl2ZSA9IGZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbCkge1xuICAgIHJldHVybiBQUklNSVRJVkVfVFlQRVMuaW5jbHVkZXMoZ2V0VHlwZSh2YWwpKTtcbiAgfTtcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiBhbiBYTUwgc3RyaW5nIGlzIHNpbXBsZSAoZG9lc24ndCBjb250YWluIG5lc3RlZCBYTUwgZGF0YSkuXG4gICAqIEBleGFtcGxlXG4gICAqIGlzU2ltcGxlWE1MKCc8Zm9vIC8+Jyk7XG4gICAqIC8vIC0+IGZhbHNlXG4gICAqL1xuICB2YXIgaXNTaW1wbGVYTUwgPSBmdW5jdGlvbiBpc1NpbXBsZVhNTCh4bWxTdHIpIHtcbiAgICByZXR1cm4gIXhtbFN0ci5tYXRjaCgnPCcpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBc3NlbWJsZXMgYW4gWE1MIGhlYWRlciBhcyBkZWZpbmVkIGJ5IHRoZSBjb25maWcuXG4gICAqL1xuICB2YXIgZ2V0SGVhZGVyU3RyaW5nID0gZnVuY3Rpb24gZ2V0SGVhZGVyU3RyaW5nKF9yZWY0KSB7XG4gICAgdmFyIGhlYWRlciA9IF9yZWY0LmhlYWRlcixcbiAgICAgIGlzT3V0cHV0U3RhcnQgPSBfcmVmNC5pc091dHB1dFN0YXJ0O1xuICAgIHZhciBzaG91bGRPdXRwdXRIZWFkZXIgPSBoZWFkZXIgJiYgaXNPdXRwdXRTdGFydDtcbiAgICBpZiAoIXNob3VsZE91dHB1dEhlYWRlcikgcmV0dXJuICcnO1xuICAgIHZhciBzaG91bGRVc2VEZWZhdWx0SGVhZGVyID0gX3R5cGVvZihoZWFkZXIpID09PSBEQVRBX1RZUEVTLkJPT0xFQU47XG4gICAgcmV0dXJuIHNob3VsZFVzZURlZmF1bHRIZWFkZXIgPyBERUZBVUxUX1hNTF9IRUFERVIgOiBoZWFkZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlY3Vyc2l2ZWx5IHRyYXZlcnNlcyBhbiBvYmplY3QgdHJlZSBhbmQgY29udmVydHMgdGhlIG91dHB1dCB0byBhbiBYTUwgc3RyaW5nLlxuICAgKiBAZXhhbXBsZVxuICAgKiB0b1hNTCh7IGZvbzogJ2JhcicgfSk7XG4gICAqIC8vIC0+IDxmb28+YmFyPC9mb28+XG4gICAqL1xuICB2YXIgZGVmYXVsdEVudGl0eVJlcGxhY2VtZW50cyA9IHtcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJ1wiJzogJyZxdW90OydcbiAgfTtcbiAgdmFyIHRvWE1MID0gZnVuY3Rpb24gdG9YTUwoKSB7XG4gICAgdmFyIG9iaiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgdmFyIGNvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdmFyIF9jb25maWckZGVwdGggPSBjb25maWcuZGVwdGgsXG4gICAgICBkZXB0aCA9IF9jb25maWckZGVwdGggPT09IHZvaWQgMCA/IDAgOiBfY29uZmlnJGRlcHRoLFxuICAgICAgaW5kZW50ID0gY29uZmlnLmluZGVudCxcbiAgICAgIF9pc0ZpcnN0SXRlbSA9IGNvbmZpZy5faXNGaXJzdEl0ZW0sXG4gICAgICBfY29uZmlnJF9pc091dHB1dFN0YXIgPSBjb25maWcuX2lzT3V0cHV0U3RhcnQsXG4gICAgICBfaXNPdXRwdXRTdGFydCA9IF9jb25maWckX2lzT3V0cHV0U3RhciA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9jb25maWckX2lzT3V0cHV0U3RhcixcbiAgICAgIGhlYWRlciA9IGNvbmZpZy5oZWFkZXIsXG4gICAgICBfY29uZmlnJGF0dHJpYnV0ZVJlcGwgPSBjb25maWcuYXR0cmlidXRlUmVwbGFjZW1lbnRzLFxuICAgICAgcmF3QXR0cmlidXRlUmVwbGFjZW1lbnRzID0gX2NvbmZpZyRhdHRyaWJ1dGVSZXBsID09PSB2b2lkIDAgPyB7fSA6IF9jb25maWckYXR0cmlidXRlUmVwbCxcbiAgICAgIGF0dHJpYnV0ZUZpbHRlciA9IGNvbmZpZy5hdHRyaWJ1dGVGaWx0ZXIsXG4gICAgICBfY29uZmlnJGF0dHJpYnV0ZUV4cGwgPSBjb25maWcuYXR0cmlidXRlRXhwbGljaXRUcnVlLFxuICAgICAgYXR0cmlidXRlRXhwbGljaXRUcnVlID0gX2NvbmZpZyRhdHRyaWJ1dGVFeHBsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9jb25maWckYXR0cmlidXRlRXhwbCxcbiAgICAgIF9jb25maWckY29udGVudFJlcGxhYyA9IGNvbmZpZy5jb250ZW50UmVwbGFjZW1lbnRzLFxuICAgICAgcmF3Q29udGVudFJlcGxhY2VtZW50cyA9IF9jb25maWckY29udGVudFJlcGxhYyA9PT0gdm9pZCAwID8ge30gOiBfY29uZmlnJGNvbnRlbnRSZXBsYWMsXG4gICAgICBjb250ZW50TWFwID0gY29uZmlnLmNvbnRlbnRNYXAsXG4gICAgICBfY29uZmlnJHNlbGZDbG9zZVRhZ3MgPSBjb25maWcuc2VsZkNsb3NlVGFncyxcbiAgICAgIHNlbGZDbG9zZVRhZ3MgPSBfY29uZmlnJHNlbGZDbG9zZVRhZ3MgPT09IHZvaWQgMCA/IHRydWUgOiBfY29uZmlnJHNlbGZDbG9zZVRhZ3M7XG4gICAgdmFyIHNob3VsZFR1cm5PZmZBdHRyaWJ1dGVSZXBsYWNlbWVudHMgPSB0eXBlb2YgcmF3QXR0cmlidXRlUmVwbGFjZW1lbnRzID09PSAnYm9vbGVhbicgJiYgIXJhd0F0dHJpYnV0ZVJlcGxhY2VtZW50cztcbiAgICB2YXIgYXR0cmlidXRlUmVwbGFjZW1lbnRzID0gc2hvdWxkVHVybk9mZkF0dHJpYnV0ZVJlcGxhY2VtZW50cyA/IHt9IDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0RW50aXR5UmVwbGFjZW1lbnRzKSwgcmF3QXR0cmlidXRlUmVwbGFjZW1lbnRzKTtcbiAgICB2YXIgc2hvdWxkVHVybk9mZkNvbnRlbnRSZXBsYWNlbWVudHMgPSB0eXBlb2YgcmF3Q29udGVudFJlcGxhY2VtZW50cyA9PT0gJ2Jvb2xlYW4nICYmICFyYXdDb250ZW50UmVwbGFjZW1lbnRzO1xuICAgIHZhciBjb250ZW50UmVwbGFjZW1lbnRzID0gc2hvdWxkVHVybk9mZkNvbnRlbnRSZXBsYWNlbWVudHMgPyB7fSA6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdEVudGl0eVJlcGxhY2VtZW50cyksIHJhd0NvbnRlbnRSZXBsYWNlbWVudHMpO1xuXG4gICAgLy8gRGV0ZXJtaW5lcyBpbmRlbnQgYmFzZWQgb24gZGVwdGguXG4gICAgdmFyIGluZGVudFN0ciA9IGdldEluZGVudFN0cihpbmRlbnQsIGRlcHRoKTtcblxuICAgIC8vIEZvciBicmFuY2hpbmcgYmFzZWQgb24gdmFsdWUgdHlwZS5cbiAgICB2YXIgdmFsVHlwZSA9IGdldFR5cGUob2JqKTtcbiAgICB2YXIgaGVhZGVyU3RyID0gZ2V0SGVhZGVyU3RyaW5nKHtcbiAgICAgIGhlYWRlcjogaGVhZGVyLFxuICAgICAgaW5kZW50OiBpbmRlbnQsXG4gICAgICBkZXB0aDogZGVwdGgsXG4gICAgICBpc091dHB1dFN0YXJ0OiBfaXNPdXRwdXRTdGFydFxuICAgIH0pO1xuICAgIHZhciBpc091dHB1dFN0YXJ0ID0gX2lzT3V0cHV0U3RhcnQgJiYgIWhlYWRlclN0ciAmJiBfaXNGaXJzdEl0ZW0gJiYgZGVwdGggPT09IDA7XG4gICAgdmFyIHByZUluZGVudFN0ciA9IGluZGVudCAmJiAhaXNPdXRwdXRTdGFydCA/ICdcXG4nIDogJyc7XG4gICAgdmFyIG91dHB1dFN0ciA9ICcnO1xuICAgIHN3aXRjaCAodmFsVHlwZSkge1xuICAgICAgY2FzZSBEQVRBX1RZUEVTLkpTVE9YTUxfT0JKRUNUOlxuICAgICAgICB7XG4gICAgICAgICAgLy8gUHJvY2Vzc2VzIGEgc3BlY2lhbGx5LWZvcm1hdHRlZCBvYmplY3QgdXNlZCBieSBqc3RveG1sLlxuXG4gICAgICAgICAgdmFyIF9uYW1lID0gb2JqLl9uYW1lLFxuICAgICAgICAgICAgX2NvbnRlbnQgPSBvYmouX2NvbnRlbnQ7XG5cbiAgICAgICAgICAvLyBPdXRwdXQgdGV4dCBjb250ZW50IHdpdGhvdXQgYSB0YWcgd3JhcHBlci5cbiAgICAgICAgICBpZiAoX2NvbnRlbnQgPT09IG51bGwgJiYgdHlwZW9mIGNvbnRlbnRNYXAgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG91dHB1dFN0ciA9IFwiXCIuY29uY2F0KHByZUluZGVudFN0cikuY29uY2F0KGluZGVudFN0cikuY29uY2F0KF9uYW1lKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEhhbmRsZXMgYXJyYXlzIG9mIHByaW1pdGl2ZSB2YWx1ZXMuICgjMzMpXG4gICAgICAgICAgdmFyIGlzQXJyYXlPZlByaW1pdGl2ZXMgPSBBcnJheS5pc0FycmF5KF9jb250ZW50KSAmJiBfY29udGVudC5ldmVyeShpc1ByaW1pdGl2ZSk7XG4gICAgICAgICAgaWYgKGlzQXJyYXlPZlByaW1pdGl2ZXMpIHtcbiAgICAgICAgICAgIHZhciBwcmltaXRpdmVzID0gX2NvbnRlbnQubWFwKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0b1hNTCh7XG4gICAgICAgICAgICAgICAgX25hbWU6IF9uYW1lLFxuICAgICAgICAgICAgICAgIF9jb250ZW50OiBhXG4gICAgICAgICAgICAgIH0sIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY29uZmlnKSwge30sIHtcbiAgICAgICAgICAgICAgICBkZXB0aDogZGVwdGgsXG4gICAgICAgICAgICAgICAgX2lzT3V0cHV0U3RhcnQ6IGZhbHNlXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHByaW1pdGl2ZXMuam9pbignJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRG9uJ3Qgb3V0cHV0IHByaXZhdGUgdmFycyAoc3VjaCBhcyBfYXR0cnMpLlxuICAgICAgICAgIGlmIChQUklWQVRFX1ZBUlMuaW5jbHVkZXMoX25hbWUpKSBicmVhaztcblxuICAgICAgICAgIC8vIFByb2Nlc3MgdGhlIG5lc3RlZCBuZXcgdmFsdWUgYW5kIGNyZWF0ZSBuZXcgY29uZmlnLlxuICAgICAgICAgIHZhciBuZXdWYWwgPSB0b1hNTChfY29udGVudCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjb25maWcpLCB7fSwge1xuICAgICAgICAgICAgZGVwdGg6IGRlcHRoICsgMSxcbiAgICAgICAgICAgIF9pc091dHB1dFN0YXJ0OiBpc091dHB1dFN0YXJ0XG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIHZhciBuZXdWYWxUeXBlID0gZ2V0VHlwZShuZXdWYWwpO1xuICAgICAgICAgIHZhciBpc05ld1ZhbFNpbXBsZSA9IGlzU2ltcGxlWE1MKG5ld1ZhbCk7XG4gICAgICAgICAgdmFyIGlzTmV3VmFsQ0RBVEEgPSBpc0NEQVRBKG5ld1ZhbCk7XG5cbiAgICAgICAgICAvLyBQcmUtdGFnIG91dHB1dCAoaW5kZW50IGFuZCBsaW5lIGJyZWFrcykuXG4gICAgICAgICAgdmFyIHByZVRhZyA9IFwiXCIuY29uY2F0KHByZUluZGVudFN0cikuY29uY2F0KGluZGVudFN0cik7XG5cbiAgICAgICAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciBjb21tZW50cywgcHJlc2VydmluZyBwcmVjZWRpbmcgbGluZSBicmVha3MvaW5kZW50cy5cbiAgICAgICAgICBpZiAoX25hbWUgPT09ICdfY29tbWVudCcpIHtcbiAgICAgICAgICAgIG91dHB1dFN0ciArPSBcIlwiLmNvbmNhdChwcmVUYWcsIFwiPCEtLSBcIikuY29uY2F0KF9jb250ZW50LCBcIiAtLT5cIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBUYWcgb3V0cHV0LlxuICAgICAgICAgIHZhciB2YWxJc0VtcHR5ID0gbmV3VmFsVHlwZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmV3VmFsID09PSAnJztcbiAgICAgICAgICB2YXIgZ2xvYmFsU2VsZkNsb3NlID0gc2VsZkNsb3NlVGFncztcbiAgICAgICAgICB2YXIgbG9jYWxTZWxmQ2xvc2UgPSBvYmouX3NlbGZDbG9zZVRhZztcbiAgICAgICAgICB2YXIgc2hvdWxkU2VsZkNsb3NlID0gX3R5cGVvZihsb2NhbFNlbGZDbG9zZSkgPT09IERBVEFfVFlQRVMuQk9PTEVBTiA/IHZhbElzRW1wdHkgJiYgbG9jYWxTZWxmQ2xvc2UgOiB2YWxJc0VtcHR5ICYmIGdsb2JhbFNlbGZDbG9zZTtcbiAgICAgICAgICB2YXIgc2VsZkNsb3NlU3RyID0gc2hvdWxkU2VsZkNsb3NlID8gJy8nIDogJyc7XG4gICAgICAgICAgdmFyIGF0dHJpYnV0ZXNTdHJpbmcgPSBmb3JtYXRBdHRyaWJ1dGVzKG9iai5fYXR0cnMsIGF0dHJpYnV0ZVJlcGxhY2VtZW50cywgYXR0cmlidXRlRmlsdGVyLCBhdHRyaWJ1dGVFeHBsaWNpdFRydWUpO1xuICAgICAgICAgIHZhciB0YWcgPSBcIjxcIi5jb25jYXQoX25hbWUpLmNvbmNhdChhdHRyaWJ1dGVzU3RyaW5nKS5jb25jYXQoc2VsZkNsb3NlU3RyLCBcIj5cIik7XG5cbiAgICAgICAgICAvLyBQb3N0LXRhZyBvdXRwdXQgKGNsb3NpbmcgdGFnLCBpbmRlbnQsIGxpbmUgYnJlYWtzKS5cbiAgICAgICAgICB2YXIgcHJlVGFnQ2xvc2VTdHIgPSBpbmRlbnQgJiYgIWlzTmV3VmFsU2ltcGxlICYmICFpc05ld1ZhbENEQVRBID8gXCJcXG5cIi5jb25jYXQoaW5kZW50U3RyKSA6ICcnO1xuICAgICAgICAgIHZhciBwb3N0VGFnID0gIXNob3VsZFNlbGZDbG9zZSA/IFwiXCIuY29uY2F0KG5ld1ZhbCkuY29uY2F0KHByZVRhZ0Nsb3NlU3RyLCBcIjwvXCIpLmNvbmNhdChfbmFtZSwgXCI+XCIpIDogJyc7XG4gICAgICAgICAgb3V0cHV0U3RyICs9IFwiXCIuY29uY2F0KHByZVRhZykuY29uY2F0KHRhZykuY29uY2F0KHBvc3RUYWcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlIERBVEFfVFlQRVMuT0JKRUNUOlxuICAgICAgICB7XG4gICAgICAgICAgLy8gSXRlcmF0ZXMgb3ZlciBrZXl2YWwgcGFpcnMgaW4gYW4gb2JqZWN0LCBjb252ZXJ0aW5nIGVhY2ggaXRlbSB0byBhIHNwZWNpYWwtb2JqZWN0LlxuXG4gICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICAgIHZhciBvdXRwdXRBcnIgPSBrZXlzLm1hcChmdW5jdGlvbiAoa2V5LCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIG5ld0NvbmZpZyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY29uZmlnKSwge30sIHtcbiAgICAgICAgICAgICAgX2lzRmlyc3RJdGVtOiBpbmRleCA9PT0gMCxcbiAgICAgICAgICAgICAgX2lzTGFzdEl0ZW06IGluZGV4ICsgMSA9PT0ga2V5cy5sZW5ndGgsXG4gICAgICAgICAgICAgIF9pc091dHB1dFN0YXJ0OiBpc091dHB1dFN0YXJ0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBvdXRwdXRPYmogPSB7XG4gICAgICAgICAgICAgIF9uYW1lOiBrZXlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZ2V0VHlwZShvYmpba2V5XSkgPT09IERBVEFfVFlQRVMuT0JKRUNUKSB7XG4gICAgICAgICAgICAgIC8vIFN1Yi1vYmplY3QgY29udGFpbnMgYW4gb2JqZWN0LlxuXG4gICAgICAgICAgICAgIC8vIE1vdmUgcHJpdmF0ZSB2YXJzIHVwIGFzIG5lZWRlZC4gIE5lZWRlZCB0byBzdXBwb3J0IGNlcnRhaW4gdHlwZXMgb2Ygb2JqZWN0c1xuICAgICAgICAgICAgICAvLyBFLmcuIHsgZm9vOiB7IF9hdHRyczogeyBhOiAxIH0gfSB9IC0+IDxmb28gYT1cIjFcIi8+XG4gICAgICAgICAgICAgIFBSSVZBVEVfVkFSUy5mb3JFYWNoKGZ1bmN0aW9uIChwcml2YXRlVmFyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IG9ialtrZXldW3ByaXZhdGVWYXJdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgb3V0cHV0T2JqW3ByaXZhdGVWYXJdID0gdmFsO1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIG9ialtrZXldW3ByaXZhdGVWYXJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHZhciBoYXNDb250ZW50ID0gdHlwZW9mIG9ialtrZXldLl9jb250ZW50ICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgICAgICAgaWYgKGhhc0NvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBfY29udGVudCBoYXMgc2libGluZyBrZXlzLCBzbyBwYXNzIGFzIGFuIGFycmF5IChlZGdlIGNhc2UpLlxuICAgICAgICAgICAgICAgIC8vIEUuZy4geyBmb286ICdiYXInLCBfY29udGVudDogeyBiYXo6IDIgfSB9IC0+IDxmb28+YmFyPC9mb28+PGJhej4yPC9iYXo+XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKG9ialtrZXldKS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgbmV3Q29udGVudE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIG9ialtrZXldKTtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdDb250ZW50T2JqLl9jb250ZW50O1xuICAgICAgICAgICAgICAgICAgb3V0cHV0T2JqLl9jb250ZW50ID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShvYmpUb0FycmF5KG5ld0NvbnRlbnRPYmopKSwgW29ialtrZXldLl9jb250ZW50XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZhbGx0aHJvdWdoOiBqdXN0IHBhc3MgdGhlIGtleSBhcyB0aGUgY29udGVudCBmb3IgdGhlIG5ldyBzcGVjaWFsLW9iamVjdC5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3V0cHV0T2JqLl9jb250ZW50ID09PSAndW5kZWZpbmVkJykgb3V0cHV0T2JqLl9jb250ZW50ID0gb2JqW2tleV07XG4gICAgICAgICAgICB2YXIgeG1sID0gdG9YTUwob3V0cHV0T2JqLCBuZXdDb25maWcpO1xuICAgICAgICAgICAgcmV0dXJuIHhtbDtcbiAgICAgICAgICB9LCBjb25maWcpO1xuICAgICAgICAgIG91dHB1dFN0ciA9IG91dHB1dEFyci5qb2luKCcnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBEQVRBX1RZUEVTLkZVTkNUSU9OOlxuICAgICAgICB7XG4gICAgICAgICAgLy8gRXhlY3V0ZXMgYSB1c2VyLWRlZmluZWQgZnVuY3Rpb24gYW5kIHJldHVybnMgb3V0cHV0LlxuXG4gICAgICAgICAgdmFyIGZuUmVzdWx0ID0gb2JqKGNvbmZpZyk7XG4gICAgICAgICAgb3V0cHV0U3RyID0gdG9YTUwoZm5SZXN1bHQsIGNvbmZpZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgREFUQV9UWVBFUy5BUlJBWTpcbiAgICAgICAge1xuICAgICAgICAgIC8vIEl0ZXJhdGVzIGFuZCBjb252ZXJ0cyBlYWNoIHZhbHVlIGluIGFuIGFycmF5LlxuICAgICAgICAgIHZhciBfb3V0cHV0QXJyID0gb2JqLm1hcChmdW5jdGlvbiAoc2luZ2xlVmFsLCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIG5ld0NvbmZpZyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY29uZmlnKSwge30sIHtcbiAgICAgICAgICAgICAgX2lzRmlyc3RJdGVtOiBpbmRleCA9PT0gMCxcbiAgICAgICAgICAgICAgX2lzTGFzdEl0ZW06IGluZGV4ICsgMSA9PT0gb2JqLmxlbmd0aCxcbiAgICAgICAgICAgICAgX2lzT3V0cHV0U3RhcnQ6IGlzT3V0cHV0U3RhcnRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRvWE1MKHNpbmdsZVZhbCwgbmV3Q29uZmlnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvdXRwdXRTdHIgPSBfb3V0cHV0QXJyLmpvaW4oJycpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIC8vIGZhbGx0aHJvdWdoIHR5cGVzIChudW1iZXIsIHN0cmluZywgYm9vbGVhbiwgZGF0ZSwgbnVsbCwgZXRjKVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAge1xuICAgICAgICAgIG91dHB1dFN0ciA9IG1hcFN0cihvYmosIGNvbnRlbnRSZXBsYWNlbWVudHMsIGNvbnRlbnRNYXApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBcIlwiLmNvbmNhdChoZWFkZXJTdHIpLmNvbmNhdChvdXRwdXRTdHIpO1xuICB9O1xuICBfZXhwb3J0cy50b1hNTCA9IHRvWE1MO1xuICB2YXIgX2RlZmF1bHQgPSB7XG4gICAgdG9YTUw6IHRvWE1MXG4gIH07XG4gIF9leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbn0pO1xuIiwiaW1wb3J0IEZyYWN0aW9uIGZyb20gJ2ZyYWN0aW9uLmpzJztcblxuLyoqXG4gKiBJTlRFUlZBTFNcbiAqXG4gKiBUaGUgaW50ZXJ2YWwgaXMgdGhlIGJhc2ljIGJ1aWxkaW5nIGJsb2NrIG9mIG11c2ljLlxuICogSXQgaXMgdGhlIGRpZmZlcmVuY2UgaW4gcGl0Y2ggYmV0d2VlbiB0d28gc291bmRzLlxuICpcbiAqIEl0IGNhbiBiZSByZXByZXNlbnRlZCBhczpcbiAqIC0gYSBmcmVxdWVuY3kgcmF0aW9cbiAqIC0gYSBudW1iZXIgb2YgY2VudHMgKDEvMTAwIG9mIGFuIGVxdWFsbHkgdGVtcGVyZWQgc2VtaXRvbmUpXG4gKiAtIGEgbnVtYmVyIG9mIHNhdmFydHMgKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NhdmFydClcbiAqIC0gLi4uYW5kIG1vcmVcbiAqXG4gKiBJdCBjYW4gYWxzbyBiZSBuYW1lZCwgZGVwZW5kaW5nIG9uIHRoZSBub21lbmNsYXR1cmUgYmVpbmcgdXNlZC5cbiAqXG4gKi9cblxuZXhwb3J0IGNsYXNzIEludGVydmFsIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJhdGlvOiBGcmFjdGlvbikge31cbiAgZ2V0IGNlbnRzKCk6IG51bWJlciB7IHJldHVybiAxMjAwICogTWF0aC5sb2cyKHRoaXMucmF0aW8udmFsdWVPZigpKTsgfVxuICBnZXQgc2F2YXJ0cygpOiBudW1iZXIgeyByZXR1cm4gMTAwMCAqIE1hdGgubG9nMTAodGhpcy5yYXRpby52YWx1ZU9mKCkpOyB9XG4gIGRpZmZlcmVuY2UocmVmZXJlbmNlOiBJbnRlcnZhbCk6IEludGVydmFsIHsgcmV0dXJuIG5ldyBJbnRlcnZhbCh0aGlzLnJhdGlvLmRpdihyZWZlcmVuY2UucmF0aW8pKTsgfVxuICBzdGF0aWMgZnJvbVJhdGlvKHJhdGlvOiBzdHJpbmcpOiBJbnRlcnZhbCB7IHJldHVybiBuZXcgSW50ZXJ2YWwobmV3IEZyYWN0aW9uKHJhdGlvKSk7IH1cbiAgc3RhdGljIGZyb21DZW50cyhjZW50czogbnVtYmVyKTogSW50ZXJ2YWwgeyByZXR1cm4gbmV3IEludGVydmFsKG5ldyBGcmFjdGlvbihNYXRoLnBvdygyLCBjZW50cyAvIDEyMDApKSk7IH1cbiAgc3RhdGljIGZyb21TYXZhcnRzKHNhdmFydHM6IG51bWJlcik6IEludGVydmFsIHsgcmV0dXJuIG5ldyBJbnRlcnZhbChuZXcgRnJhY3Rpb24oTWF0aC5wb3coMTAsIHNhdmFydHMgLyAxMDAwKSkpOyB9XG4gIHN0YXRpYyBjb21wYXJlKGE6IEludGVydmFsLCBiOiBJbnRlcnZhbCk6IG51bWJlciB7IHJldHVybiBhLnJhdGlvLmNvbXBhcmUoYi5yYXRpbyk7IH1cbiAgc3RhdGljIEpORDogSW50ZXJ2YWwgPSBJbnRlcnZhbC5mcm9tQ2VudHMoNSk7IC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0p1c3Qtbm90aWNlYWJsZV9kaWZmZXJlbmNlXG59XG4iLCJpbXBvcnQgeyB0b1hNTCB9IGZyb20gJ2pzdG94bWwnO1xuaW1wb3J0IHsgVG9uZVJvd1NvbG1pemVkIH0gZnJvbSAnLi9Ub25lUm93JztcbmltcG9ydCB7IFR1bmluZywgVG9uZSB9IGZyb20gJy4vVHVuaW5nJztcbmltcG9ydCB7IFNvbG1pemF0aW9uIH0gZnJvbSAnLi9Tb2xtaXphdGlvbic7XG5pbXBvcnQgeyBBbm5vdGF0aW9uIH0gZnJvbSAnLi91dGlscy9Bbm5vdGF0aW9uJztcbmltcG9ydCBwa2cgZnJvbSAnLi4vcGFja2FnZS5qc29uJztcblxuY29uc3QgTVVTSUNYTUxfVkVSU0lPTiA9ICc0LjAnO1xuXG4vKipcbiAqIEV4cG9ydCB2YXJpb3VzIFNjYWxleHRyaWMgb2JqZWN0cyB0byBhcyBhIE11c2ljWE1MIGRvY3VtZW50LlxuICovXG5leHBvcnQgY2xhc3MgTXVzaWNYTUwge1xuICBzdGF0aWMgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgJ2RpdmlzaW9ucyc6IDc2OCxcbiAgICAndGltZSc6IHtcbiAgICAgICdiZWF0cyc6IDQsXG4gICAgICAnYmVhdFR5cGUnOiA0XG4gICAgfSxcbiAgfVxuXG4gIHN0YXRpYyBhY2NpZGVudGFscyA9IHtcbiAgICAnIyc6ICdzaGFycCcsXG4gICAgJ+KZryc6ICdzaGFycCcsXG4gICAgJ1xcdUUyNjInOiAnc2hhcnAnLFxuXG4gICAgJ24nOiAnbmF0dXJhbCcsXG4gICAgJ+KZric6ICduYXR1cmFsJyxcbiAgICAnXFx1RTI2MSc6ICduYXR1cmFsJyxcblxuICAgICdiJzogJ2ZsYXQnLFxuICAgICfima0nOiAnZmxhdCcsXG4gICAgJ1xcdUUyNjAnOiAnZmxhdCcsXG5cbiAgICAneCc6ICdkb3VibGUtc2hhcnAnLFxuICAgICfwnYSqJzogJ2RvdWJsZS1zaGFycCcsXG4gICAgJ1xcdUUyNjMnOiAnZG91YmxlLXNoYXJwJyxcblxuICAgICcjIyc6ICdzaGFycC1zaGFycCcsXG4gICAgJ+KZr+KZryc6ICdzaGFycC1zaGFycCcsXG4gICAgJ1xcdUUyNjknOiAnc2hhcnAtc2hhcnAnLFxuXG4gICAgJ2JiJzogJ2ZsYXQtZmxhdCcsXG4gICAgJ+KZreKZrSc6ICdmbGF0LWZsYXQnLFxuICAgICfwnYSrJzogJ2ZsYXQtZmxhdCcsXG4gICAgJ1xcdUUyNjQnOiAnZmxhdC1mbGF0JyxcblxuICAgICduIyc6ICduYXR1cmFsLXNoYXJwJyxcbiAgICAn4pmu4pmvJzogJ25hdHVyYWwtc2hhcnAnLFxuICAgICdcXHVFMjY4JzogJ25hdHVyYWwtc2hhcnAnLFxuXG4gICAgJ25iJzogJ25hdHVyYWwtZmxhdCcsXG4gICAgJ+KZruKZrSc6ICduYXR1cmFsLWZsYXQnLFxuICAgICdcXHVFMjY3JzogJ25hdHVyYWwtZmxhdCcsXG5cbiAgICAnI3gnOiAndHJpcGxlLXNoYXJwJyxcbiAgICAn4pmv8J2Eqic6ICd0cmlwbGUtc2hhcnAnLFxuICAgICdcXHVFMjY1JzogJ3RyaXBsZS1zaGFycCcsXG5cbiAgICAnYmJiJzogJ3RyaXBsZS1mbGF0JyxcbiAgICAn4pmt4pmt4pmtJzogJ3RyaXBsZS1mbGF0JyxcbiAgICAnXFx1RTI2Nic6ICd0cmlwbGUtZmxhdCcsXG5cbiAgICAvLyBTdGVpbi1aaW1tZXJtYW5uIGFjY2lkZW50YWxzICgyNC1FRE8pXG4gICAgJ1xcdUUyODAnOiAncXVhcnRlci1mbGF0JyxcbiAgICAnXFx1RTI4Mic6ICdxdWFydGVyLXNoYXJwJyxcbiAgICAnXFx1RTI4MSc6ICd0aHJlZS1xdWFydGVycy1mbGF0JyxcbiAgICAnXFx1RTI4Myc6ICd0aHJlZS1xdWFydGVycy1zaGFycCcsXG5cbiAgICAvLyBHb3VsZCBhcnJvdyBxdWFydGVydG9uZSBhY2NpZGVudGFscyAoMjQtRURPKVxuICAgICdcXHVFMjc1JzogJ3NoYXJwLWRvd24nLFxuICAgICdcXHVFMjc0JzogJ3NoYXJwLXVwJyxcbiAgICAnXFx1RTI3Myc6ICduYXR1cmFsLWRvd24nLFxuICAgICdcXHVFMjcyJzogJ25hdHVyYWwtdXAnLFxuICAgICdcXHVFMjcxJzogJ2ZsYXQtZG93bicsXG4gICAgJ1xcdUUyNzAnOiAnZmxhdC11cCcsXG4gICAgJ1xcdUUyNzcnOiAnZG91YmxlLXNoYXJwLWRvd24nLFxuICAgICdcXHVFMjc2JzogJ2RvdWJsZS1zaGFycC11cCcsXG4gICAgJ1xcdUUyNzknOiAnZmxhdC1mbGF0LWRvd24nLFxuICAgICdcXHVFMjc4JzogJ2ZsYXQtZmxhdC11cCcsXG4gICAgJ1xcdUUyN0EnOiAnYXJyb3ctZG93bicsXG4gICAgJ1xcdUUyN0InOiAnYXJyb3ctdXAnLFxuXG4gICAgLy8gQXJlbC1FemdpLVV6ZGlsZWsgKEFFVSkgYWNjaWRlbnRhbHNcbiAgICAnXFx1RTQ0Nic6ICdzbGFzaC1xdWFydGVyLXNoYXJwJyxcbiAgICAnXFx1RTQ0Nyc6ICdzbGFzaC1zaGFycCcsXG4gICAgJ1xcdUU0NDInOiAnc2xhc2gtZmxhdCcsXG4gICAgJ1xcdUU0NDAnOiAnZG91YmxlLXNsYXNoLWZsYXQnLFxuICAgICdcXHVFNDQzJzogJ3F1YXJ0ZXItZmxhdCcsXG4gICAgJ1xcdUU0NDQnOiAncXVhcnRlci1zaGFycCcsXG4gICAgJ1xcdUU0NDEnOiAnZmxhdCcsXG4gICAgJ1xcdUU0NDUnOiAnc2hhcnAnLFxuXG4gICAgLy8gVHVya2lzaCBmb2xrIG11c2ljIGFjY2lkZW50YWxzXG4gICAgJ1xcdUU0NTAnOiAnc2hhcnAtMScsXG4gICAgJ1xcdUU0NTEnOiAnc2hhcnAtMicsXG4gICAgJ1xcdUU0NTInOiAnc2hhcnAtMycsXG4gICAgJ1xcdUU0NTMnOiAnc2hhcnAtNScsXG4gICAgJ1xcdUU0NTQnOiAnZmxhdC0xJyxcbiAgICAnXFx1RTQ1NSc6ICdmbGF0LTInLFxuICAgICdcXHVFNDU2JzogJ2ZsYXQtMycsXG4gICAgJ1xcdUU0NTcnOiAnZmxhdC00JyxcblxuICAgIC8vIFBlcnNpYW4gYWNjaWRlbnRhbHNcbiAgICAnXFx1RTQ2MSc6ICdzb3JpJyxcbiAgICAnXFx1RTQ2MCc6ICdrb3JvbicsXG4gIH1cblxuICBzdGF0aWMgZHVyYXRpb25zID0ge1xuICAgIDg6ICdlaWdodGgnLFxuICAgIDQ6ICdxdWFydGVyJyxcbiAgICAyOiAnaGFsZicsXG4gICAgMTogJ3dob2xlJyxcbiAgfVxuXG4gIHByaXZhdGUgb3B0aW9uczogb2JqZWN0O1xuICBwcml2YXRlIHJlZmVyZW5jZTogU29sbWl6YXRpb247XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSB0aXRsZTogc3RyaW5nLFxuICAgIHByaXZhdGUgb2JqZWN0czogVG9uZVJvd1NvbG1pemVkW10sXG4gICAgb3B0aW9ucyA9IHt9XG4gICkge1xuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIE11c2ljWE1MLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICB0aGlzLnJlZmVyZW5jZSA9IG5ldyBTb2xtaXphdGlvbihUdW5pbmcuZnJvbUVkbygxMiksIHtcbiAgICAgICdDJzogMCxcbiAgICAgICdEJzogMixcbiAgICAgICdFJzogNCxcbiAgICAgICdGJzogNSxcbiAgICAgICdHJzogNyxcbiAgICAgICdBJzogOSxcbiAgICAgICdCJzogMTEsXG4gICAgfSwge30pO1xuICB9XG5cbiAgY29udmVydCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0b1hNTCh0aGlzLmNvbnZlcnREb2N1bWVudCgpLCB7XG4gICAgICBoZWFkZXI6IGBcbjw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PlxuPCFET0NUWVBFIHNjb3JlLXBhcnR3aXNlIFBVQkxJQyBcIi0vL1JlY29yZGFyZS8vRFREIE11c2ljWE1MICR7TVVTSUNYTUxfVkVSU0lPTn0gUGFydHdpc2UvL0VOXCIgXCJodHRwOi8vd3d3Lm11c2ljeG1sLm9yZy9kdGRzL3BhcnR3aXNlLmR0ZFwiPlxuICAgICAgYC50cmltKCksXG4gICAgICBpbmRlbnQ6ICcgICdcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY29udmVydERvY3VtZW50KCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9uYW1lOiAnc2NvcmUtcGFydHdpc2UnLFxuICAgICAgX2F0dHJzOiB7ICd2ZXJzaW9uJzogTVVTSUNYTUxfVkVSU0lPTiB9LFxuICAgICAgX2NvbnRlbnQ6IFt7XG4gICAgICAgICd3b3JrJzoge1xuICAgICAgICAgICd3b3JrLXRpdGxlJzogdGhpcy50aXRsZVxuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICdpZGVudGlmaWNhdGlvbic6IFt7XG4gICAgICAgICAgJ2VuY29kaW5nJzogW3tcbiAgICAgICAgICAgICdzb2Z0d2FyZSc6IGBAaW5mb2p1bmtpZS9zY2FsZXh0cmljICR7cGtnLnZlcnNpb259YFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICdlbmNvZGluZy1kYXRlJzogTXVzaWNYTUwuY29udmVydERhdGUobmV3IERhdGUoKSlcbiAgICAgICAgICB9XVxuICAgICAgICB9XVxuICAgICAgfSwge1xuICAgICAgICAncGFydC1saXN0Jzoge1xuICAgICAgICAgIF9uYW1lOiAnc2NvcmUtcGFydCcsXG4gICAgICAgICAgX2F0dHJzOiB7ICdpZCc6ICdQMScgfSxcbiAgICAgICAgICBfY29udGVudDoge1xuICAgICAgICAgICAgX25hbWU6ICdwYXJ0LW5hbWUnLFxuICAgICAgICAgICAgX2F0dHJzOiB7ICdwcmludC1vYmplY3QnOiAnbm8nIH0sXG4gICAgICAgICAgICBfY29udGVudDogdGhpcy50aXRsZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBfbmFtZTogJ3BhcnQnLFxuICAgICAgICBfYXR0cnM6IHsgJ2lkJzogJ1AxJyB9LFxuICAgICAgICBfY29udGVudDogdGhpcy5jb252ZXJ0T2JqZWN0cygpXG4gICAgICB9XVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IHRvbmUgcm93cyB0byBNdXNpY1hNTCBtZWFzdXJlcy5cbiAgICpcbiAgICogLSBFYWNoIHRvbmUgcm93IHN0YXJ0cyBhIG5ldyBtZWFzdXJlXG4gICAqIC0gQ29udmVydCBlYWNoIHRvbmUgaW4gdGhlIHRvbmUgcm93IHRvIGEgcXVhcnRlci10b25lXG4gICAqIC0gT3BlbiBhIG5ldyBtZWFzdXJlIGFzIG5lZWRlZFxuICAgKiAtIFdoZW4gdGhlIHRvbmUgcm93IGlzIGNvbXBsZXRlOlxuICAgKiAgIC0gRmlsbCB0aGUgY3VycmVudCBtZWFzdXJlIHdpdGggcmVzdHNcbiAgICogICAtIENsb3NlIHdpdGggYSBzZWN0aW9uIGJhcmxpbmVcbiAgICogICAtIFN0YXJ0IGEgbmV3IHN5c3RlbVxuICAgKlxuICAgKiBAcmV0dXJucyBhcnJheSBvZiBtZWFzdXJlcy5cbiAgICovXG4gIHByaXZhdGUgY29udmVydE9iamVjdHMoKTogb2JqZWN0W10ge1xuICAgIHJldHVybiB0aGlzLm9iamVjdHMucmVkdWNlKChtZWFzdXJlcywgb2JqZWN0LCBpbmRlc3gpID0+IHtcbiAgICAgIC8vIFN0YXJ0IG5ldyBtZWFzdXJlLlxuICAgICAgbGV0IG1lYXN1cmUgPSB0aGlzLmNvbnZlcnRNZWFzdXJlKG1lYXN1cmVzLmxlbmd0aCArIDEpO1xuICAgICAgbWVhc3VyZXMucHVzaChtZWFzdXJlKTtcblxuICAgICAgLy8gTmV3IHN5c3RlbSBpZiBuZWVkZWQuXG4gICAgICBpZiAoaW5kZXN4ID4gMCkge1xuICAgICAgICBtZWFzdXJlWydfY29udGVudCddLnB1c2goe1xuICAgICAgICAgIF9uYW1lOiAncHJpbnQnLFxuICAgICAgICAgIF9hdHRyczogeyAnbmV3LXN5c3RlbSc6ICd5ZXMnIH1cbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8gRmlyc3QgbWVhc3VyZSBhdHRyaWJ1dGVzLlxuICAgICAgaWYgKGluZGVzeCA9PT0gMCkge1xuICAgICAgICBtZWFzdXJlWydfY29udGVudCddLnB1c2goe1xuICAgICAgICAgICdhdHRyaWJ1dGVzJzogW3tcbiAgICAgICAgICAgICdkaXZpc2lvbnMnOiB0aGlzLm9wdGlvbnNbJ2RpdmlzaW9ucyddXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJ2tleSc6IFt7XG4gICAgICAgICAgICAgICdmaWZ0aHMnOiAwXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICdtb2RlJzogJ21ham9yJ1xuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAndGltZSc6IFt7XG4gICAgICAgICAgICAgICdiZWF0cyc6IHRoaXMub3B0aW9uc1sndGltZSddWydiZWF0cyddXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICdiZWF0LXR5cGUnOiB0aGlzLm9wdGlvbnNbJ3RpbWUnXVsnYmVhdFR5cGUnXVxuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAnY2xlZic6IFt7XG4gICAgICAgICAgICAgICdzaWduJzogJ0cnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICdsaW5lJzogMlxuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9XVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIG9iamVjdCBsYWJlbCBpZiBhbnkuXG4gICAgICBjb25zdCBsYWJlbHMgPSBBbm5vdGF0aW9uLmZpbmRCeUxhYmVsKCdsYWJlbCcsIG9iamVjdC5hbm5vdGF0aW9ucyk7XG4gICAgICBjb25zb2xlLmxvZyhsYWJlbHMpO1xuICAgICAgaWYgKGxhYmVscykge1xuICAgICAgICBtZWFzdXJlWydfY29udGVudCddLnB1c2goe1xuICAgICAgICAgIF9uYW1lOiAnZGlyZWN0aW9uJyxcbiAgICAgICAgICBfYXR0cnM6IHsgJ3BsYWNlbWVudCc6ICdhYm92ZScgfSxcbiAgICAgICAgICBfY29udGVudDogW3tcbiAgICAgICAgICAgICdkaXJlY3Rpb24tdHlwZSc6IFt7XG4gICAgICAgICAgICAgICd3b3Jkcyc6IGxhYmVsc1swXVxuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9XSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIExvb3Agb24gdG9uZXMuXG4gICAgICBsZXQgYmVhdCA9IDA7XG4gICAgICBvYmplY3QudG9uZXMuZm9yRWFjaCgodG9uZSwgdG9uZUluZGV4KSA9PiB7XG4gICAgICAgIG1lYXN1cmVbJ19jb250ZW50J10ucHVzaCh0aGlzLmNvbnZlcnROb3RlKHRvbmUsIG9iamVjdCkpO1xuXG4gICAgICAgIC8vIEFkZCBuZXcgbWVhc3VyZSBpZiBuZWVkZWQuXG4gICAgICAgIGJlYXQgPSAoYmVhdCArIDEpICUgdGhpcy5vcHRpb25zWyd0aW1lJ11bJ2JlYXRzJ107XG4gICAgICAgIGlmIChiZWF0ID09PSAwICYmIHRvbmVJbmRleCA8IG9iamVjdC50b25lcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgbWVhc3VyZSA9IHRoaXMuY29udmVydE1lYXN1cmUobWVhc3VyZXMubGVuZ3RoICsgMSk7XG4gICAgICAgICAgbWVhc3VyZXMucHVzaChtZWFzdXJlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIC8vIEFkZCByZW1haW5pbmcgcmVzdHMgdG8gdGhlIGxhc3QgbWVhc3VyZS5cbiAgICAgIC8vIGlmIChiZWF0ID4gMCkgd2hpbGUgKGJlYXQrKyA8IHRoaXMub3B0aW9uc1sndGltZSddWydiZWF0cyddKSB7XG4gICAgICAvLyAgIG1lYXN1cmVbJ19jb250ZW50J10ucHVzaCh7XG4gICAgICAvLyAgICAgX25hbWU6ICdub3RlJyxcbiAgICAgIC8vICAgICBfY29udGVudDogW3tcbiAgICAgIC8vICAgICAgIF9uYW1lOiAncmVzdCcsXG4gICAgICAvLyAgICAgfSwge1xuICAgICAgLy8gICAgICAgJ2R1cmF0aW9uJzogdGhpcy5vcHRpb25zWydkaXZpc2lvbnMnXSxcbiAgICAgIC8vICAgICB9LCB7XG4gICAgICAvLyAgICAgICAndHlwZSc6IE11c2ljWE1MLm5vdGVUeXBlc1t0aGlzLm9wdGlvbnNbJ3RpbWUnXVsnYmVhdFR5cGUnXV0sXG4gICAgICAvLyAgICAgfV1cbiAgICAgIC8vICAgfSlcbiAgICAgIC8vIH1cblxuICAgICAgLy8gQ2xvc2UgdGhlIGJhciB3aXRoIGEgc2VjdGlvbiBiYXJsaW5lLlxuICAgICAgbWVhc3VyZVsnX2NvbnRlbnQnXS5wdXNoKHRoaXMuY29udmVydEJhcigncmlnaHQnLCAnbGlnaHQtbGlnaHQnKSk7XG5cbiAgICAgIHJldHVybiBtZWFzdXJlcztcbiAgICB9LCBbXSk7XG4gIH1cblxuICBwcml2YXRlIGNvbnZlcnRCYXIobG9jYXRpb246IHN0cmluZywgc3R5bGU6IHN0cmluZyk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9uYW1lOiAnYmFybGluZScsXG4gICAgICBfYXR0cnM6IHsgJ2xvY2F0aW9uJzogbG9jYXRpb24gfSxcbiAgICAgIF9jb250ZW50OiBbe1xuICAgICAgICAnYmFyLXN0eWxlJzogc3R5bGVcbiAgICAgIH1dXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjb252ZXJ0TWVhc3VyZShudW1iZXI6IG51bWJlcik6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9uYW1lOiAnbWVhc3VyZScsXG4gICAgICBfYXR0cnM6IHsgJ251bWJlcic6IG51bWJlciB9LFxuICAgICAgX2NvbnRlbnQ6IFtdLFxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY29udmVydE5vdGUodG9uZTogVG9uZSwgb2JqZWN0OiBUb25lUm93U29sbWl6ZWQpOiBvYmplY3Qge1xuICAgIGNvbnN0IG5hbWUgPSBvYmplY3Quc29sbWl6YXRpb24ubmFtZSh0b25lKVswXTtcbiAgICBjb25zdCBzdGVwID0gbmFtZVswXTtcbiAgICBjb25zdCBhY2NpZGVudGFsID0gdGhpcy5jb252ZXJ0QWNjaWRlbnRhbChuYW1lLnNsaWNlKDEsIC0xKSk7XG4gICAgY29uc3Qgb2N0YXZlID0gbmFtZVtuYW1lLmxlbmd0aC0xXTtcblxuICAgIC8vIEdlbmVyYXRlIGEgcGl0Y2ggYWx0ZXJhdGlvbiBhcyBjb21wYXJlZCB0byB0aGUgcmVmZXJlbmNlIHR1bmluZy5cbiAgICBjb25zdCByZWZlcmVuY2UgPSB0aGlzLnJlZmVyZW5jZS5wYXJzZShgJHtzdGVwfSR7b2N0YXZlfWApO1xuICAgIGNvbnN0IGNlbnRzID0gdG9uZS50dW5lLmRpZmZlcmVuY2UocmVmZXJlbmNlLnR1bmUpLmNlbnRzO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIF9uYW1lOiAnbm90ZScsXG4gICAgICBfY29udGVudDogW3tcbiAgICAgICAgX25hbWU6ICdwaXRjaCcsXG4gICAgICAgIF9jb250ZW50OiBbe1xuICAgICAgICAgICdzdGVwJzogc3RlcFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJ2FsdGVyJzogTWF0aC5yb3VuZChjZW50cyAqIDEwMCkgLyAxMDAwMFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJ29jdGF2ZSc6IG9jdGF2ZVxuICAgICAgICB9XVxuICAgICAgfSwge1xuICAgICAgICAnZHVyYXRpb24nOiB0aGlzLm9wdGlvbnNbJ2RpdmlzaW9ucyddLFxuICAgICAgfSwge1xuICAgICAgICAndHlwZSc6IE11c2ljWE1MLmR1cmF0aW9uc1t0aGlzLm9wdGlvbnNbJ3RpbWUnXVsnYmVhdFR5cGUnXV0sXG4gICAgICB9LCB7XG4gICAgICAgIC4uLihhY2NpZGVudGFsICYmIGFjY2lkZW50YWwgIT09ICdvdGhlcicgJiYgeyAnYWNjaWRlbnRhbCc6IGFjY2lkZW50YWwgfSlcbiAgICAgIH0sIHtcbiAgICAgICAgLi4uKGFjY2lkZW50YWwgJiYgYWNjaWRlbnRhbCA9PT0gJ290aGVyJyAmJiB7XG4gICAgICAgICAgX25hbWU6ICdhY2NpZGVudGFsJyxcbiAgICAgICAgICBfY29udGVudDogYWNjaWRlbnRhbCxcbiAgICAgICAgICBfYXR0cnM6IHsgJ3NtdWZsJzogbmFtZS5zbGljZSgxLCAtMSkgfVxuICAgICAgIH0pXG4gICAgICB9XSxcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbnZlcnRBY2NpZGVudGFsKGFjY2lkZW50YWwpOiBzdHJpbmcge1xuICAgIGlmICghYWNjaWRlbnRhbC5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgIGlmIChhY2NpZGVudGFsIGluIE11c2ljWE1MLmFjY2lkZW50YWxzKSB7XG4gICAgICByZXR1cm4gTXVzaWNYTUwuYWNjaWRlbnRhbHNbYWNjaWRlbnRhbF07XG4gICAgfVxuICAgIHJldHVybiAnb3RoZXInO1xuICB9XG5cbiAgLy8gRGF0ZSBpbiB5eXl5LW1tLWRkXG4gIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81MDEzMDMzOC8yMDkxODRcbiAgcHJpdmF0ZSBzdGF0aWMgY29udmVydERhdGUoZGF0ZSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpIC0gKGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwKSlcbiAgICAgIC50b0lTT1N0cmluZygpXG4gICAgICAuc3BsaXQoJ1QnKVswXTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgVHVuaW5nLCBUb25lIH0gZnJvbSAnLi9UdW5pbmcnO1xuaW1wb3J0IHsgZXNjYXBlUmVnRXhwLCBtb2QgfSBmcm9tICcuL3V0aWxzL2hlbHBlcnMnO1xuaW1wb3J0IHsgTXVsdGltYXAgfSBmcm9tICcuL3V0aWxzL0JpbWFwJztcblxuLyoqXG4gKiBTT0xNSVpBVElPTiBTWVNURU1cbiAqXG4gKiBUbyBuYW1lIG5vdGVzLCB3ZSB1c2UgYSBjb21tb24gcmVwcmVzZW50YXRpb24gYmFzZWQgb24gU2NpZW50aWZpYyBQaXRjaCBOb3RhdGlvbiAoU1BOKTpcbiAqIC0gU3RhbmRhcmQgbm90ZSBsZXR0ZXJzIEMsIEQsIEUsIEYsIEcsIEEsIEJcbiAqIC0gQW4gZXh0ZW5zaWJsZSBzZXQgb2YgYWNjaWRlbnRhbHNcbiAqXG4gKiBXZSBkZWZpbmUgYSB0dW5pbmcgbm90YXRpb24gbWFwIHRoYXQgZGVmaW5lcyBob3cgbm90ZXMgYW5kIGFjY2lkZW50YWxzIG1hcCB0byB0dW5pbmcgdG9uZXMvcGl0Y2hlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFNvbG1pemF0aW9uIHtcbiAgcmVnZXg6IFJlZ0V4cDtcbiAgbmFtZU1hcDogTXVsdGltYXA8c3RyaW5nLCBudW1iZXI+O1xuICBwYXJzZU1hcDogTXVsdGltYXA8c3RyaW5nLCBudW1iZXI+O1xuXG4gIC8qKlxuICAgKiBDT05TVFJVQ1RPUlxuICAgKlxuICAgKiBAcGFyYW0gdHVuaW5nOiB0aGUgdHVuaW5nIGJlaW5nIG5hbWVkXG4gICAqIEBwYXJhbSBub3RlczogbWFwIG9mIG5vdGUgbGV0dGVycyB0byBwaXRjaCBjbGFzc2VzOlxuICAgKiBgYGBcbiAgICoge1xuICAgKiAgICdDJzogMCxcbiAgICogICAnRCc6IDIsXG4gICAqICAgJ0UnOiA0LFxuICAgKiAgICdGJzogNSxcbiAgICogICAnRyc6IDcsXG4gICAqICAgJ0EnOiA5LFxuICAgKiAgICdCJzogMTEsXG4gICAqIH1cbiAgICogQHBhcmFtIGFjY2lkZW50YWxzOiBtYXAgb2YgYWNjaWRlbnRhbHMgdG8gdG9uZSBzdGVwczpcbiAgICogYGBgXG4gICAqIHtcbiAgICogICAn4pmvJzogKzEsXG4gICAqICAgJyMnOiArMSxcbiAgICogICAn4pmtJzogLTEsXG4gICAqICAgJ2InOiAtMSxcbiAgICogICAn4pmuJzogIDAsXG4gICAqICAgJ/CdhKonOiArMixcbiAgICogICAn8J2Eqyc6IC0yLFxuICAgKiB9XG4gICAqIGBgYFxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHR1bmluZzogVHVuaW5nLFxuICAgIHB1YmxpYyBub3Rlczoge1tub3RlOiBzdHJpbmddOiBudW1iZXJ9LFxuICAgIHB1YmxpYyBhY2NpZGVudGFsczoge1thY2NpZGVudGFsOiBzdHJpbmddOiBudW1iZXJ9XG4gICkge1xuICAgIC8vIHBhcnNlTWFwIGFzc29jaWF0ZXMgcGl0Y2ggY2xhc3NlcyB3aXRoIGFsbCBwb3NzaWJsZSBjb21iaW5hdGlvbnMgb2Ygbm90ZSBsZXR0ZXJzIGFuZCBhY2NpZGVudGFscy5cbiAgICB0aGlzLnBhcnNlTWFwID0gbmV3IE11bHRpbWFwPHN0cmluZywgbnVtYmVyPigpO1xuICAgIE9iamVjdC5rZXlzKG5vdGVzKS5mb3JFYWNoKG5vdGUgPT4ge1xuICAgICAgdGhpcy5wYXJzZU1hcC5zZXQobm90ZSwgbm90ZXNbbm90ZV0pO1xuICAgICAgT2JqZWN0LmtleXMoYWNjaWRlbnRhbHMpLmZvckVhY2goYWNjaWRlbnRhbCA9PiB7XG4gICAgICAgIHRoaXMucGFyc2VNYXAuc2V0KGAke25vdGV9JHthY2NpZGVudGFsfWAsIG1vZChub3Rlc1tub3RlXSArIGFjY2lkZW50YWxzW2FjY2lkZW50YWxdLCB0dW5pbmcuc3RlcHMpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gbmFtZU1hcCBhc3NvY2lhdGVzIHBpdGNoIGNsYXNzZXMgd2l0aCBhIHN1YnNldCBvZiBjb21iaW5hdGlvbnMsIGJ5IHNlbGVjdGluZyB0aGUgRklSU1QgYWNjaWRlbnRhbCBzeW1ib2xcbiAgICAvLyBmb3IgZWFjaCB0b25lIHN0ZXAuXG4gICAgdGhpcy5uYW1lTWFwID0gbmV3IE11bHRpbWFwPHN0cmluZywgbnVtYmVyPigpO1xuICAgIE9iamVjdC5rZXlzKG5vdGVzKS5mb3JFYWNoKG5vdGUgPT4ge1xuICAgICAgY29uc3Qgc3RlcHMgPSBbMF07IC8vIFRoZSBlbnRyeSBiZWxvdyBzZXRzIHRoZSBuYXR1cmFsIG5vdGUsIGkuZS4gc3RlcCA9PSAwXG4gICAgICB0aGlzLm5hbWVNYXAuc2V0KG5vdGUsIG5vdGVzW25vdGVdKTtcbiAgICAgIE9iamVjdC5rZXlzKGFjY2lkZW50YWxzKS5mb3JFYWNoKGFjY2lkZW50YWwgPT4ge1xuICAgICAgICBpZiAoIXN0ZXBzLmluY2x1ZGVzKGFjY2lkZW50YWxzW2FjY2lkZW50YWxdKSkge1xuICAgICAgICAgIHRoaXMubmFtZU1hcC5zZXQoYCR7bm90ZX0ke2FjY2lkZW50YWx9YCwgbW9kKG5vdGVzW25vdGVdICsgYWNjaWRlbnRhbHNbYWNjaWRlbnRhbF0sIHR1bmluZy5zdGVwcykpO1xuICAgICAgICAgIHN0ZXBzLnB1c2goYWNjaWRlbnRhbHNbYWNjaWRlbnRhbF0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIENyZWF0ZSBhIHJlZ2V4IHRoYXQgcGFyc2VzIGFsbCBwb3NzaWJsZSBjb21iaW5hdGlvbnMuXG4gICAgdGhpcy5yZWdleCA9IG5ldyBSZWdFeHAoXG4gICAgICAnXignICsgQXJyYXkuZnJvbSh0aGlzLnBhcnNlTWFwLmtleXMoKSkubWFwKGVzY2FwZVJlZ0V4cCkuam9pbignfCcpICsgJyknICtcbiAgICAgICcoLT9cXFxcZCkkJyxcbiAgICAgICdpJ1xuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTkFNRSBBIFRPTkVcbiAgICpcbiAgICogQHBhcmFtIHRvbmU6IHRvbmUgdG8gYmUgbmFtZWRcbiAgICogQHJldHVybnMgYXJyYXkgb2Ygc3RyaW5ncyByZXByZXNlbnRpbmcgdGhlIGVuaGFybW9uaWMgbmFtaW5ncyBvZiB0aGUgdG9uZVxuICAgKi9cbiAgbmFtZSh0b25lOiBUb25lKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IG5hbWVzID0gWy4uLnRoaXMubmFtZU1hcC5nZXRLZXkodG9uZS5waXRjaENsYXNzKV07XG4gICAgcmV0dXJuIG5hbWVzLnNvcnQoKGEsIGIpID0+IGEubGVuZ3RoIC0gYi5sZW5ndGgpLm1hcChuYW1lID0+IGAke25hbWV9JHt0b25lLm9jdGF2ZX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQQVJTRSBBIE5PVEVcbiAgICpcbiAgICogQHBhcmFtIG5vdGU6IHRhcmdldCBub3RlIGluIHNjaWVudGlmaWMgcGl0Y2ggbm90YXRpb25cbiAgICogQHJldHVybnMgY29ycmVzcG9uZGluZyB0b25lIGluIHRoZSB0dW5pbmdcbiAgICovXG4gIHBhcnNlKG5vdGU6IHN0cmluZyk6IFRvbmUge1xuICAgIGNvbnN0IG1hdGNoID0gdGhpcy5yZWdleC5leGVjKG5vdGUpO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgW1NvbG1pemF0aW9uLnBhcnNlXSBDb3VsZCBub3QgbWF0Y2ggbm90ZSAke25vdGV9YCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVG9uZSh0aGlzLnR1bmluZywgdGhpcy5wYXJzZU1hcC5nZXQobWF0Y2hbMV0pLCBwYXJzZUludChtYXRjaFsyXSwgMTApKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgVHVuaW5nLCBUb25lIH0gZnJvbSAnLi9UdW5pbmcnO1xuaW1wb3J0IHsgQW5ub3RhdGlvbiB9IGZyb20gJy4vdXRpbHMvQW5ub3RhdGlvbic7XG5pbXBvcnQgeyBTb2xtaXphdGlvbiB9IGZyb20gJy4vU29sbWl6YXRpb24nO1xuXG4vKipcbiAqIFRPTkUgUk9XXG4gKlxuICogV2UgZGVmaW5lIGEgdG9uZSByb3cgYXMgYW4gbm9uLXJlcGV0aXRpdmUgb3JkZXJlZCBzZXF1ZW5jZSBvZiB0b25lcy4gSXQgaXMgdGhlIGJhc2ljIGNvbGxlY3Rpb24gb2YgdG9uZXNcbiAqIHRoYXQgbWFrZSB1cCBtYW55IG90aGVyIG11c2ljYWwgb2JqZWN0cyBzdWNoIGFzIHRyaWFkcywgc2NhbGVzLCBjaG9yZHMsIGV0Yy5cbiAqXG4gKiBUaGlzIGRlZmluaXRpb24gZXh0ZW5kcyB0aGUgdXN1YWwgZGVmaW5pdGlvbiBvZiBcInRvbmUgcm93XCIgdXNlZCBpbiBzZXJpYWwgY29tcG9zaXRpb25cbiAqIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1RvbmVfcm93XG4gKlxuICogSXQgYWxsb3dzIHVzIHRvIHJldXNlIHRoZSBzdGFuZGFyZCB0b25lIHJvdyBvcGVyYXRpb25zIChpbnZlcnQsIHJldmVyc2UsIHRyYW5zcG9zZSwgcm90YXRlKVxuICogb24gb3RoZXIgbXVzaWNhbCBvYmplY3RzLlxuICovXG5leHBvcnQgY2xhc3MgVG9uZVJvdyB7XG4gIC8qKlxuICAgKiBDT05TVFJVQ1RPUlxuICAgKlxuICAgKiBAcGFyYW0gdHVuaW5nOiB0aGUgcmVmZXJlbmNlIHR1bmluZ1xuICAgKiBAcGFyYW0gdG9uZXM6IHRoZSB0b25lcyBtYWtpbmcgdXAgdGhlIHJvd1xuICAgKiBAcGFyYW0gYW5ub3RhdGlvbnM6IG5vdGVzIGFib3V0IHRoZSByb3dcbiAgICovXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB0dW5pbmc6IFR1bmluZywgcHVibGljIHRvbmVzOiBUb25lW10sIHB1YmxpYyBhbm5vdGF0aW9uczogQW5ub3RhdGlvbltdID0gW10pIHtcbiAgICAvLyBWZXJpZnkgdGhhdCB0b25lcyBhcmUgdmFsaWQgYnkgZGV0ZWN0aW5nIHJlcGVhdGluZyBwaXRjaCBjbGFzc2VzLlxuICAgIGlmICh0b25lcy5zb21lKCh0b25lLCBpbmRleCkgPT4gISF0b25lcy5zbGljZShpbmRleCArIDEpLmZpbmQodCA9PiB0LnBpdGNoQ2xhc3MgPT09IHRvbmUucGl0Y2hDbGFzcykpKSB7XG4gICAgICB0aHJvdyBFcnJvcihgRm91bmQgcmVwZWF0aW5nIHBpdGNoIGNsYXNzIGluIHRvbmUgcm93LmApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc3Bvc2UgYSByb3cgdG8gYSB0YXJnZXQgdG9uZS5cbiAgICovXG4gIHRyYW5zcG9zZSh0YXJnZXQ6IFRvbmUpOiBUb25lUm93IHtcbiAgICByZXR1cm4gbmV3IFRvbmVSb3codGhpcy50dW5pbmcsIHRoaXMudG9uZXMubWFwKHRvbmUgPT5cbiAgICAgIFRvbmUuZnJvbVBpdGNoKHRoaXMudHVuaW5nLCB0YXJnZXQucGl0Y2ggKyB0b25lLnBpdGNoKVxuICAgICkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEludmVydCBhIHJvdyBhcm91bmQgYW4gYXhpcyB0b25lLlxuICAgKi9cbiAgaW52ZXJ0KGF4aXM6IFRvbmUpOiBUb25lUm93IHtcbiAgICByZXR1cm4gbmV3IFRvbmVSb3codGhpcy50dW5pbmcsIHRoaXMudG9uZXMubWFwKHRvbmUgPT5cbiAgICAgIFRvbmUuZnJvbVBpdGNoKHRoaXMudHVuaW5nLCBheGlzLnBpdGNoIC0gdG9uZS5waXRjaClcbiAgICApKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXZlcnNlIGEgcm93LlxuICAgKi9cbiAgcmV2ZXJzZSgpOiBUb25lUm93IHtcbiAgICByZXR1cm4gbmV3IFRvbmVSb3codGhpcy50dW5pbmcsIFsuLi50aGlzLnRvbmVzXS5yZXZlcnNlKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJvdGF0ZSBhIHJvdyBieSBjeWNsaW5nIGl0IGEgbnVtYmVyIG9mIHRpbWVzLlxuICAgKi9cbiAgcm90YXRlKGN5Y2xlczogbnVtYmVyKTogVG9uZVJvdyB7XG4gICAgY29uc3QgYyA9IGN5Y2xlcyAlIHRoaXMudG9uZXMubGVuZ3RoO1xuICAgIHJldHVybiBuZXcgVG9uZVJvdyh0aGlzLnR1bmluZywgWy4uLnRoaXMudG9uZXMuc2xpY2UoYyksIC4uLnRoaXMudG9uZXMuc2xpY2UoMCwgYyldKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb25vdG9uaXplIGEgcm93LCBlbnN1cmluZyBpdCBpcyBzdHJpY2x5IGFzY2VuZGluZyBvciBkZXNjZW5kaW5nLCBieSByYWlzaW5nIG9yIGRyb3BwaW5nIHBpdGNoIG9jdGF2ZXMuXG4gICAqXG4gICAqIHJvdGF0ZS5tb25vdG9uaXplID0+IGNob3JkIGludmVyc2lvblxuICAgKi9cbiAgbW9ub3Rvbml6ZShkZXNjZW5kaW5nID0gZmFsc2UpOiBUb25lUm93IHtcbiAgICByZXR1cm4gbmV3IFRvbmVSb3codGhpcy50dW5pbmcsIHRoaXMudG9uZXMucmVkdWNlKChjdXJyZW50LCBuZXh0KSA9PiB7XG4gICAgICBjb25zdCBsYXN0OiBUb25lID0gY3VycmVudC5sZW5ndGggPiAwID8gY3VycmVudFtjdXJyZW50Lmxlbmd0aC0xXSA6IG5leHQ7XG4gICAgICBpZiAoIWRlc2NlbmRpbmcgJiYgbmV4dC5waXRjaCA8IGxhc3QucGl0Y2gpIHtcbiAgICAgICAgY3VycmVudC5wdXNoKG5ldyBUb25lKHRoaXMudHVuaW5nLCBuZXh0LnBpdGNoQ2xhc3MsIGxhc3Qub2N0YXZlICsgKG5leHQucGl0Y2hDbGFzcyA8IGxhc3QucGl0Y2hDbGFzcyA/IDEgOiAwKSkpO1xuICAgICAgfSBlbHNlIGlmIChkZXNjZW5kaW5nICYmIG5leHQucGl0Y2ggPiBsYXN0LnBpdGNoKSB7XG4gICAgICAgIGN1cnJlbnQucHVzaChuZXcgVG9uZSh0aGlzLnR1bmluZywgbmV4dC5waXRjaENsYXNzLCBsYXN0Lm9jdGF2ZSArIChuZXh0LnBpdGNoQ2xhc3MgPiBsYXN0LnBpdGNoQ2xhc3MgPyAtMSA6IDApKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50LnB1c2gobmV4dCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9LCBbXSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcGl0Y2hlcyBvZiB0aGUgdG9uZSByb3cuXG4gICAqL1xuICBnZXQgcGl0Y2hlcygpOiBudW1iZXJbXSB7XG4gICAgcmV0dXJuIHRoaXMudG9uZXMubWFwKHRvbmUgPT4gdG9uZS5waXRjaCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgdG9uZSByb3cgZnJvbSBnaXZlbiBwaXRjaGVzLlxuICAgKi9cbiAgc3RhdGljIGZyb21QaXRjaGVzKHR1bmluZzogVHVuaW5nLCBwaXRjaGVzOiBudW1iZXJbXSwgYW5ub3RhdGlvbnM6IEFubm90YXRpb25bXSA9IFtdKTogVG9uZVJvdyB7XG4gICAgcmV0dXJuIG5ldyBUb25lUm93KHR1bmluZywgcGl0Y2hlcy5tYXAocGl0Y2ggPT5cbiAgICAgIFRvbmUuZnJvbVBpdGNoKHR1bmluZywgcGl0Y2gpXG4gICAgKSwgYW5ub3RhdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHRvbmUgcm93IGZyb20gZ2l2ZW4gcGl0Y2hlcy5cbiAgICovXG4gIHN0YXRpYyBmcm9tUGl0Y2hDbGFzc2VzKHR1bmluZzogVHVuaW5nLCBwaXRjaENsYXNzZXM6IG51bWJlcltdLCBvY3RhdmU6IG51bWJlciwgYW5ub3RhdGlvbnM6IEFubm90YXRpb25bXSA9IFtdKTogVG9uZVJvdyB7XG4gICAgcmV0dXJuIG5ldyBUb25lUm93KHR1bmluZywgcGl0Y2hDbGFzc2VzLm1hcChwaXRjaENsYXNzID0+XG4gICAgICBuZXcgVG9uZSh0dW5pbmcsIHBpdGNoQ2xhc3MsIG9jdGF2ZSlcbiAgICApLCBhbm5vdGF0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRvbmVSb3dTb2xtaXplZCBleHRlbmRzIFRvbmVSb3cge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgdHVuaW5nOiBUdW5pbmcsIHB1YmxpYyBzb2xtaXphdGlvbjogU29sbWl6YXRpb24sIHB1YmxpYyB0b25lczogVG9uZVtdLCBwdWJsaWMgYW5ub3RhdGlvbnM6IEFubm90YXRpb25bXSA9IFtdKSB7XG4gICAgc3VwZXIodHVuaW5nLCB0b25lcywgYW5ub3RhdGlvbnMpO1xuICB9XG5cbiAgc3RhdGljIGZyb21Ub25lUm93KHJvdzogVG9uZVJvdywgc29sbWl6YXRpb246IFNvbG1pemF0aW9uKTogVG9uZVJvd1NvbG1pemVkIHtcbiAgICByZXR1cm4gbmV3IFRvbmVSb3dTb2xtaXplZChyb3cudHVuaW5nLCBzb2xtaXphdGlvbiwgcm93LnRvbmVzLCByb3cuYW5ub3RhdGlvbnMpO1xuICB9XG59XG4iLCJpbXBvcnQgRnJhY3Rpb24gZnJvbSAnZnJhY3Rpb24uanMnO1xuaW1wb3J0IHsgYmluYXJ5U2VhcmNoLCBmbGlwRnJhY3Rpb24sIG1vZCB9IGZyb20gJy4vdXRpbHMvaGVscGVycyc7XG5pbXBvcnQgeyBBbm5vdGF0aW9uIH0gZnJvbSAnLi91dGlscy9Bbm5vdGF0aW9uJztcbmltcG9ydCB7IEludGVydmFsIH0gZnJvbSAnLi9JbnRlcnZhbCc7XG5cbi8qKlxuICogVFVOSU5HIFNZU1RFTVxuICpcbiAqIEdpdmVuIGEgcmVmZXJlbmNlIHRvbmUgYW5kIGEgdGFyZ2V0IHRvbmUsIGEgdHVuaW5nIHJldHVybnMgdGhlIHJhdGlvIGJldHdlZW4gdGhlbS5cbiAqXG4gKiBUaGUgZnVuZGFtZW50YWwgaW50ZXJ2YWwgaXMgMi8xIGJldHdlZW4gdGhlIGJhc2UgdG9uZSBhbmQgaXRzIG9jdGF2ZS5cbiAqIE90aGVyIHRvbmVzIHN1YmRpdmlkZSB0aGUgb2N0YXZlIGludGVydmFsLiBBIGZpbml0ZSBudW1iZXIgb2YgdG9uZXMgTiBtYWtlIHVwIHRoZSB0dW5pbmcuXG4gKiBUb25lcyBhcmUgaW5kZXhlZCBhY2NvcmRpbmcgdG8gdGhlaXIgcmFuayBpbiB0aGUgb3JkZXJlZCBzZXF1ZW5jZSBvZiByYXRpb3NcbiAqIHRvbmUgMCA9PiByYXRpbyAxICh1bmlzb24pXG4gKiB0b25lIDEgPT4gcmF0aW8gMS5hYmMgKGZpcnN0IGludGVydmFsKVxuICogdG9uZSAyID0+IHJhdGlvIDEuZGVmIChzZWNvbmQgaW50ZXJ2YWwpXG4gKiAuLi5cbiAqIHRvbmUgTi0yID0+IHJhdGlvIDEueHl6IChuZXh0LXRvLWxhc3QgaW50ZXJ2YWwpXG4gKiB0b25lIE4tMSA9PiByYXRpbyAyIChvY3RhdmUpXG4gKlxuICogVG9uZXMgY2FuIGV4dGVuZCBiZXlvbmQgdGhlIG9jdGF2ZVxuICogZS5nLiB0b25lIE4rMSBpcyBlcXVpdmFsZW50IHRvIHRvbmUgMSwgYnV0IG9uZSBvY3RhdmUgaGlnaGVyLlxuICogSW4gYWRkaXRpb24gdG8gcmVwcmVzZW50aW5nIGEgdG9uZSBhcyBhYm92ZSwgd2UgY2FuIHJlcHJlc2VudCBpdCBieSBpdHMgXCJnZW5lcmF0b3JcIjpcbiAqIC0gaXRzIHBpdGNoIGNsYXNzIHBjIOKIiCBbMCwgTi0xXVxuICogLSBpdHMgb2N0YXZlIG8g4oiIIOKEpFxuICogc3VjaCB0aGF0IHQgPSBwYyh0KSArIE4gKiBvKHQpXG4gKi9cbmV4cG9ydCBjbGFzcyBUdW5pbmcge1xuICAvKipcbiAgICogQ09OU1RSVUNUT1JcbiAgICpcbiAgICogQHBhcmFtIGludGVydmFsczogdHVuaW5nIGludGVydmFsc1xuICAgKiBUaGUgaW50ZXJ2YWxzIHdpbGwgYmUgX2d1YXJhbnRlZWRfIHRvIGJlIHNvcnRlZC5cbiAgICogVGhlIGZpcnN0IGludGVydmFsIHdpbGwgYmUgX2d1YXJhbnRlZWRfIHRvIGJlIHRoZSB1bmlzb24uXG4gICAqIFRoZSBsYXN0IGludGVydmFsIHdpbGwgYmUgX2Fzc3VtZWRfIHRvIGJlIHRoZSByZXBlYXRlciAoZS5nLiAyLzEgdGhlIG9jdGF2ZSkuXG4gICAqIEBwYXJhbSBhbm5vdGF0aW9uczogYW5ub3RhdGlvbnMgYWJvdXQgdGhlIHR1bmluZ1xuICAgKi9cbiAgY29uc3RydWN0b3IocHVibGljIGludGVydmFsczogSW50ZXJ2YWxbXSwgcHVibGljIGFubm90YXRpb25zOiBBbm5vdGF0aW9uW10gPSBbXSkge1xuICAgIHRoaXMuaW50ZXJ2YWxzLnNvcnQoSW50ZXJ2YWwuY29tcGFyZSk7XG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxzWzBdLnJhdGlvLnZhbHVlT2YoKSAhPSAxKSB7XG4gICAgICB0aGlzLmludGVydmFscyA9IFtuZXcgSW50ZXJ2YWwobmV3IEZyYWN0aW9uKDEpKSwgLi4udGhpcy5pbnRlcnZhbHNdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB0dW5pbmcgZnJvbSByYXRpb3Mgb3IgY2VudHMuXG4gICAqXG4gICAqIEBwYXJhbSBpbnRlcnZhbHM6IGFuIGFycmF5IG9mIHJhdGlvcyBleHByZXNzZWQgYXMgc3RyaW5ncywgb3IgY2VudHMgZXhwcmVzc2VkIGFzIG51bWJlcnNcbiAgICogQHBhcmFtIGFubm90YXRpb25zOiBhcyBwZXIgY29uc3RydWN0b3JcbiAgICogQHJldHVybnMgdHVuaW5nIG9iamVjdFxuICAgKi9cbiAgc3RhdGljIGZyb21JbnRlcnZhbHMoaW50ZXJ2YWxzOiAobnVtYmVyfHN0cmluZylbXSwgYW5ub3RhdGlvbnM6IEFubm90YXRpb25bXSA9IFtdKTogVHVuaW5nIHtcbiAgICByZXR1cm4gbmV3IFR1bmluZyhpbnRlcnZhbHMubWFwKGludGVydmFsID0+IHtcbiAgICAgIGlmICh0eXBlb2YgaW50ZXJ2YWwgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnZhbChuZXcgRnJhY3Rpb24oaW50ZXJ2YWwpKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gSW50ZXJ2YWwuZnJvbUNlbnRzKGludGVydmFsKTtcbiAgICAgIH1cbiAgICB9KSwgYW5ub3RhdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIElTIEEgVFVOSU5HIFRSQU5TUE9TQUJMRT9cbiAgICpcbiAgICogQSB0dW5pbmcgaXMgZnVsbHkgdHJhbnNwb3NhYmxlIGlmIGFsbCBvZiBpdHMgaW50ZXJ2YWwgZGlmZmVyZW5jZXMgYXJlIGVxdWFsLlxuICAgKiBXZSB3aWxsIGNvbnNpZGVyIGVxdWFsaXR5IHRvIGJlIHdpdGhpbiB0aGUgcmFuZ2Ugb2YgdGhlIFwianVzdCBub3RpY2VhYmxlXCIgaW50ZXJ2YWwgKDUgY2VudHMpLlxuICAgKi9cbiAgcHJpdmF0ZSBfdHJhbnNwb3NhYmxlOiBib29sZWFuO1xuICBnZXQgdHJhbnNwb3NhYmxlKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLl90cmFuc3Bvc2FibGUgIT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuX3RyYW5zcG9zYWJsZTtcblxuICAgIGNvbnN0IGZpcnN0OiBJbnRlcnZhbCA9IHRoaXMuaW50ZXJ2YWxzWzFdLmRpZmZlcmVuY2UodGhpcy5pbnRlcnZhbHNbMF0pO1xuICAgIHJldHVybiAodGhpcy5fdHJhbnNwb3NhYmxlID0gdGhpcy5pbnRlcnZhbHMuc2xpY2UoMSkuZXZlcnkoKHYsIGkpID0+IHtcbiAgICAgIGNvbnN0IG5leHQ6IEludGVydmFsID0gdi5kaWZmZXJlbmNlKHRoaXMuaW50ZXJ2YWxzW2ldKTtcbiAgICAgIGNvbnN0IGRpZmY6IEludGVydmFsID0gbmV3IEludGVydmFsKGZsaXBGcmFjdGlvbihuZXh0LmRpZmZlcmVuY2UoZmlyc3QpLnJhdGlvLCB0cnVlKSk7XG4gICAgICByZXR1cm4gZGlmZi5yYXRpby5jb21wYXJlKEludGVydmFsLkpORC5yYXRpbykgPCAwO1xuICAgIH0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTVEVQUyBPRiBBIFRVTklOR1xuICAgKlxuICAgKiBAcmV0dXJucyBjb3VudCBvZiB0b25lcyBpbiB0aGUgdHVuaW5nXG4gICAqL1xuICBnZXQgc3RlcHMoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnZhbHMubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPQ1RBVkUgT0YgQSBUVU5JTkdcbiAgICpcbiAgICogQHJldHVybnMgdGhlIGxhc3QgaW50ZXJ2YWwgaW4gdGhlIHR1bmluZywgd2hpY2ggaXMgY29uc2lkZXJlZCB0byBiZSB0aGUgb2N0YXZlXG4gICAqL1xuICBnZXQgb2N0YXZlKCk6IEludGVydmFsIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnZhbHNbdGhpcy5zdGVwc107XG4gIH1cblxuICAvKipcbiAgICogVFVORSBBIFRPTkVcbiAgICpcbiAgICogQHBhcmFtIHRvbmU6IHRvbmUgdG8gYmUgdHVuZWRcbiAgICogQHJldHVybnMgZnJlcXVlbmN5IHJhdGlvIG9mIHRoZSB0b25lIHdpdGggcmVzcGVjdCB0byByb290IHRvbmVcbiAgICovXG4gIHR1bmUodG9uZTogVG9uZSk6IEludGVydmFsIHtcbiAgICAvLyBHZXQgdGhlIHJhdGlvIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdGFyZ2V0IHRvbmUgYW5kIHRoZSByb290IHRvbmUsIHJhaXNlZCB0byB0aGUgZGlmZmVyZW5jZSBpbiBvY3RhdmUuXG4gICAgLy8gVGhlIG9jdGF2ZSBpcyBhbHdheXMgdGhlIGxhc3QgdG9uZSBhcyBwZXIgdGhlIGRlZmluaXRpb24gb2YgdGhlIGBpbnRlcnZhbHNgIGFycmF5LlxuICAgIHJldHVybiBuZXcgSW50ZXJ2YWwoXG4gICAgICB0aGlzLmludGVydmFsc1t0b25lLnBpdGNoQ2xhc3NdLnJhdGlvLm11bCh0aGlzLm9jdGF2ZS5yYXRpby5wb3codG9uZS5vY3RhdmUpKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTkVBUkVTVCBUT05FXG4gICAqIEZpbmQgdGhlIG5lYXJlc3QgdG9uZSBnaXZlbiBhbiBpbnRlcnZhbCBhbmQgcmV0dXJuIGRpZmZlcmVuY2VcbiAgICpcbiAgICogQHBhcmFtIGludGVydmFsOiB0YXJnZXQgaW50ZXJ2YWxcbiAgICogQHJldHVybnMgbmVhcmVzdCB0b25lLCBpbnRlcnZhbCBhbmQgZGlmZmVyZW5jZSBmcm9tIHRoZSB0YXJnZXRcbiAgICovXG4gIG5lYXJlc3QoaW50ZXJ2YWw6IEludGVydmFsKToge3RvbmU6IFRvbmUsIGludGVydmFsOiBJbnRlcnZhbCwgZGlmZmVyZW5jZTogSW50ZXJ2YWx9IHtcbiAgICAvLyBCcmluZyB0aGUgaW50ZXJ2YWwgdG8gdGhlIGJhc2Ugb2N0YXZlLlxuICAgIGNvbnN0IG9jdGF2ZSA9IE1hdGguZmxvb3IoTWF0aC5sb2coaW50ZXJ2YWwucmF0aW8udmFsdWVPZigpKSAvIE1hdGgubG9nKHRoaXMub2N0YXZlLnJhdGlvLnZhbHVlT2YoKSkpO1xuICAgIGNvbnN0IGJhc2UgPSBuZXcgSW50ZXJ2YWwoaW50ZXJ2YWwucmF0aW8uZGl2KHRoaXMub2N0YXZlLnJhdGlvLnBvdyhvY3RhdmUpKSk7XG5cbiAgICAvLyBTZWFyY2ggdGhyb3VnaCB0aGUgaW50ZXJ2YWxzIHRvIGxvY2F0ZSB0aGUgbmVhcmVzdC5cbiAgICBjb25zdCBuID0gYmluYXJ5U2VhcmNoKHRoaXMuaW50ZXJ2YWxzLCBiYXNlLCBJbnRlcnZhbC5jb21wYXJlKTtcbiAgICBpZiAobiA+PSAwKSB7XG4gICAgICAvLyBFeGFjdCBtYXRjaDogcmV0dXJuIHRoZSBwaXRjaCBhdCB0aGUgcmlnaHQgb2N0YXZlLlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9uZTogbmV3IFRvbmUodGhpcywgbiwgb2N0YXZlKSxcbiAgICAgICAgaW50ZXJ2YWwsXG4gICAgICAgIGRpZmZlcmVuY2U6IG5ldyBJbnRlcnZhbChuZXcgRnJhY3Rpb24oMSkpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFBhcnRpYWwgbWF0Y2g6IGZpbmQgcmVhbCBuZWFyZXN0IGJldHdlZW4gaW5zZXJ0aW9uIHBvaW50IGFuZCBwcmV2aW91cy5cbiAgICAgIC8vIFdlJ3JlIGd1YXJhbnRlZWQgdG8gZmluZCBhIHByZXZpb3VzIHZhbHVlIGJlY2F1c2UgdGhlIGZpcnN0IHZhbHVlIGlzIGFsd2F5cyB1bmlzb24uXG4gICAgICBjb25zdCBtID0gfm47XG4gICAgICBjb25zdCBsb3dlciA9IE1hdGguYWJzKHRoaXMuaW50ZXJ2YWxzW20tMV0uZGlmZmVyZW5jZShiYXNlKS5jZW50cyk7XG4gICAgICBjb25zdCB1cHBlciA9IE1hdGguYWJzKHRoaXMuaW50ZXJ2YWxzW21dLmRpZmZlcmVuY2UoYmFzZSkuY2VudHMpO1xuICAgICAgY29uc3QgbmVhcmVzdCA9IGxvd2VyIDwgdXBwZXIgPyBtLTEgOiBtO1xuICAgICAgY29uc3QgbmVhcmVzdFRvbmUgPSBuZXcgVG9uZSh0aGlzLCBuZWFyZXN0LCBvY3RhdmUpO1xuICAgICAgY29uc3QgbmVhcmVzdEludGVydmFsID0gdGhpcy50dW5lKG5lYXJlc3RUb25lKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvbmU6IG5lYXJlc3RUb25lLFxuICAgICAgICBpbnRlcnZhbDogbmVhcmVzdEludGVydmFsLFxuICAgICAgICBkaWZmZXJlbmNlOiBuZWFyZXN0SW50ZXJ2YWwuZGlmZmVyZW5jZShpbnRlcnZhbClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRVFVQUwgRElWSVNJT05TIE9GIFRIRSBPQ1RBVkUuXG4gICAqXG4gICAqIEdlbmVyYXRlIGFuIGludGVydmFscyBhcnJheSBiYXNlZCBvbiBlcXVhbCBkaXZpc2lvbnMgb2YgdGhlIG9jdGF2ZS5cbiAgICogVGhlIGludGVydmFscyBhcmUgY2FsY3VsYXRlZCBpbiBjZW50cywgYmVjYXVzZSB0aGV5IHdpbGwgYmUgY29udmVydGVkIHRvIHJhdGlvc1xuICAgKiBpbnNpZGUgdGhlIFR1bmluZyBjb25zdHJ1Y3Rvci5cbiAgICovXG4gIHN0YXRpYyBmcm9tRWRvKGRpdmlzaW9uczogbnVtYmVyKTogVHVuaW5nIHtcbiAgICByZXR1cm4gbmV3IFR1bmluZyhBcnJheS5mcm9tKEFycmF5KGRpdmlzaW9ucyArIDEpKS5tYXAoKF8sIGkpID0+IHtcbiAgICAgIHJldHVybiBJbnRlcnZhbC5mcm9tQ2VudHMoMTIwMCAvIGRpdmlzaW9ucyAqIGkpO1xuICAgIH0pKTtcbiAgfVxufVxuXG4vKipcbiAqIFRvbmUgaW4gYSB0dW5pbmcuXG4gKi9cbmV4cG9ydCBjbGFzcyBUb25lIHtcbiAgY29uc3RydWN0b3IocHVibGljIHR1bmluZzogVHVuaW5nLCBwdWJsaWMgcGl0Y2hDbGFzczogbnVtYmVyLCBwdWJsaWMgb2N0YXZlOiBudW1iZXIpIHtcbiAgICAvLyBUT0RPIFZlcmlmeSB0aGF0IHBpdGNoIGNsYXNzIGlzIHZhbGlkLlxuICB9XG5cbiAgZ2V0IHBpdGNoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucGl0Y2hDbGFzcyArIHRoaXMub2N0YXZlICogdGhpcy50dW5pbmcuc3RlcHM7XG4gIH1cblxuICBnZXQgdHVuZSgpOiBJbnRlcnZhbCB7XG4gICAgcmV0dXJuIHRoaXMudHVuaW5nLnR1bmUodGhpcyk7XG4gIH1cblxuICBzdGF0aWMgZnJvbVBpdGNoKHR1bmluZzogVHVuaW5nLCBwaXRjaDogbnVtYmVyKTogVG9uZSB7XG4gICAgcmV0dXJuIG5ldyBUb25lKHR1bmluZywgbW9kKHBpdGNoLCB0dW5pbmcuc3RlcHMpLCBNYXRoLmZsb29yKHBpdGNoIC8gdHVuaW5nLnN0ZXBzKSk7XG4gIH1cbn1cbiIsImV4cG9ydCAqIGZyb20gJy4vVHVuaW5nJztcbmV4cG9ydCAqIGZyb20gJy4vU29sbWl6YXRpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9JbnRlcnZhbCc7XG5leHBvcnQgKiBmcm9tICcuL1RvbmVSb3cnO1xuZXhwb3J0ICogZnJvbSAnLi9NdXNpY1hNTCc7XG5leHBvcnQgKiBmcm9tICcuL3V0aWxzL0Fubm90YXRpb24nO1xuIiwiLyoqXG4gKiBBTk5PVEFUSU9OXG4gKlxuICogQW4gYW5ub3RhdGlvbiBpcyBhIGdlbmVyaWMgY29udGFpbmVyIGZvciBtZXRhZGF0YSB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbnkgb2JqZWN0LlxuICovXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbiB7XG4gIHN0YXRpYyBmaW5kQnlMYWJlbChsYWJlbDogc3RyaW5nLCBhbm5vdGF0aW9uczogQW5ub3RhdGlvbltdKTogYW55W10ge1xuICAgIHJldHVybiBhbm5vdGF0aW9ucy5maWx0ZXIoYW5ub3RhdGlvbiA9PiBhbm5vdGF0aW9uLmxhYmVsID09PSBsYWJlbCkubWFwKGFubm90YXRpb24gPT4gYW5ub3RhdGlvbi52YWx1ZSk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgbGFiZWw6IHN0cmluZywgcHVibGljIHZhbHVlOiBhbnkpIHt9XG59XG4iLCIvKipcbiAqIEJJRElSRUNUSU9OQUwgTUFQXG4gKlxuICogQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9UaG9tYXNSb29uZXkvdHlwZWQtYmktZGlyZWN0aW9uYWwtbWFwXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUJpbWFwPEssIFY+IGV4dGVuZHMgTWFwPEssIFY+IHtcbiAgcmVhZG9ubHkgc2l6ZTogbnVtYmVyOyAvLyByZXR1cm5zIHRoZSB0b3RhbCBudW1iZXIgb2YgZWxlbWVudHNcbiAgZ2V0OiAoa2V5OiBLKSA9PiBWIHwgdW5kZWZpbmVkOyAvLyByZXR1cm5zIGEgc3BlY2lmaWVkIGVsZW1lbnRcbiAgZ2V0S2V5OiAodmFsdWU6IFYpID0+IEsgfCBLW10gfCB1bmRlZmluZWQ7IC8vIHJldHVybnMgYSBzcGVjaWZpZWQgZWxlbWVudFxuICBnZXRWYWx1ZTogKGtleTogSykgPT4gViB8IHVuZGVmaW5lZDsgLy8gcmV0dXJucyBhIHNwZWNpZmllZCBlbGVtZW50XG4gIHNldDogKGtleTogSywgdmFsdWU6IFYpID0+IHRoaXM7IC8vIGFkZHMgb3IgdXBkYXRlcyB0aGUgdmFsdWUgb2YgYW4gZWxlbWVudCBsb29rZWQgdXAgdmlhIHRoZSBzcGVjaWZpZWQga2V5XG4gIHNldFZhbHVlOiAoa2V5OiBLLCB2YWx1ZTogVikgPT4gdGhpczsgLy8gYWRkcyBvciB1cGRhdGVzIHRoZSBrZXkgb2YgYW4gZWxlbWVudCBsb29rZWQgdXAgdmlhIHRoZSBzcGVjaWZpZWQgdmFsdWVcbiAgc2V0S2V5OiAodmFsdWU6IFYsIGtleTogSykgPT4gdGhpczsgLy8gYWRkcyBvciB1cGRhdGVzIHRoZSB2YWx1ZSBvZiBhbiBlbGVtZW50IGxvb2tlZCB1cCB2aWEgdGhlIHNwZWNpZmllZCBrZXlcbiAgY2xlYXI6ICgpID0+IHZvaWQ7IC8vIHJlbW92ZXMgYWxsIGVsZW1lbnRzXG4gIGRlbGV0ZTogKGtleTogSykgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgZXhpc3RlZCBhbmQgaGFzIGJlZW4gcmVtb3ZlZCwgb3IgZmFsc2UgaWYgdGhlIGVsZW1lbnQgZG9lcyBub3QgZXhpc3QuXG4gIGRlbGV0ZUtleTogKGtleTogSykgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgZXhpc3RlZCBhbmQgaGFzIGJlZW4gcmVtb3ZlZCwgb3IgZmFsc2UgaWYgdGhlIGVsZW1lbnQgZG9lcyBub3QgZXhpc3QuXG4gIGRlbGV0ZVZhbHVlOiAodmFsdWU6IFYpID0+IGJvb2xlYW47IC8vIFJldHVybnMgdHJ1ZSBpZiBhbiBlbGVtZW50IGV4aXN0ZWQgYW5kIGhhcyBiZWVuIHJlbW92ZWQsIG9yIGZhbHNlIGlmIHRoZSBlbGVtZW50IGRvZXMgbm90IGV4aXN0LlxuICBmb3JFYWNoOiAoXG4gICAgY2FsbGJhY2tmbjogKHZhbHVlOiBWLCBrZXk6IEssIG1hcDogSUJpbWFwPEssIFY+KSA9PiB2b2lkLFxuICAgIHRoaXNBcmc/OiBhbnlcbiAgKSA9PiB2b2lkOyAvLyBleGVjdXRlcyB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgb25jZSBmb3IgZWFjaCBrZXkgb2YgdGhlIG1hcFxuICBoYXM6IChrZXk6IEspID0+IGJvb2xlYW47IC8vIFJldHVybnMgdHJ1ZSBpZiBhbiBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBrZXkgZXhpc3RzOyBvdGhlcndpc2UgZmFsc2UuXG4gIGhhc0tleTogKGtleTogSykgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGtleSBleGlzdHM7IG90aGVyd2lzZSBmYWxzZS5cbiAgaGFzVmFsdWU6ICh2YWx1ZTogVikgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIHZhbHVlIGV4aXN0czsgb3RoZXJ3aXNlIGZhbHNlLlxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ01hcCc7IC8vIEFueXRoaW5nIGltcGxlbWVudGluZyBNYXAgbXVzdCBhbHdheXMgaGF2ZSB0b1N0cmluZ1RhZyBkZWNsYXJlZCB0byBiZSAnTWFwJy4gSSBjb25zaWRlciB0aGlzIGEgbGl0dGxlIHNpbGx5LlxuICBpbnNwZWN0OiAoKSA9PiBzdHJpbmc7IC8vIEEgdXRpbGl0eSBmdW5jdGlvbiB0byBpbnNwZWN0IGN1cnJlbnQgY29udGVudHMgYXMgYSBzdHJpbmdcbn1cblxuLyoqXG4gKiBCaW1hcCB3aXRob3V0IGR1cGxpY2F0ZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCaW1hcDxLLCBWPiBpbXBsZW1lbnRzIElCaW1hcDxLLCBWPiB7XG4gIHByb3RlY3RlZCBrZXlWYWx1ZU1hcDogTWFwPEssIFY+ID0gbmV3IE1hcDxLLCBWPigpO1xuICBwcm90ZWN0ZWQgdmFsdWVLZXlNYXA6IE1hcDxWLCBLPiA9IG5ldyBNYXA8ViwgSz4oKTtcblxuICBnZXQgc2l6ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmtleVZhbHVlTWFwLnNpemU7XG4gIH1cblxuICBwdWJsaWMgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdNYXAnO1xuICBwdWJsaWMgW1N5bWJvbC5pdGVyYXRvcl06ICgpID0+IEl0ZXJhYmxlSXRlcmF0b3I8W0ssIFZdPiA9IHRoaXMua2V5VmFsdWVNYXBbU3ltYm9sLml0ZXJhdG9yXTtcblxuICBwdWJsaWMgZW50cmllcyA9ICgpOiBJdGVyYWJsZUl0ZXJhdG9yPFtLLCBWXT4gPT4gdGhpcy5rZXlWYWx1ZU1hcC5lbnRyaWVzKCk7XG4gIHB1YmxpYyBrZXlzID0gKCk6IEl0ZXJhYmxlSXRlcmF0b3I8Sz4gPT4gdGhpcy5rZXlWYWx1ZU1hcC5rZXlzKCk7XG4gIHB1YmxpYyB2YWx1ZXMgPSAoKTogSXRlcmFibGVJdGVyYXRvcjxWPiA9PiB0aGlzLmtleVZhbHVlTWFwLnZhbHVlcygpO1xuXG4gIHB1YmxpYyBnZXQgPSAoYTogSyk6IFYgfCB1bmRlZmluZWQgPT4gdGhpcy5rZXlWYWx1ZU1hcC5nZXQoYSk7XG4gIHB1YmxpYyBnZXRLZXkgPSAoYjogVik6IEsgfCB1bmRlZmluZWQgPT4gdGhpcy52YWx1ZUtleU1hcC5nZXQoYik7XG4gIHB1YmxpYyBnZXRWYWx1ZSA9IChhOiBLKTogViB8IHVuZGVmaW5lZCA9PiB0aGlzLmdldChhKTtcbiAgcHVibGljIHNldCA9IChrZXk6IEssIHZhbHVlOiBWKTogdGhpcyA9PiB7XG4gICAgLy8gTWFrZSBzdXJlIG5vIGR1cGxpY2F0ZXMuIE91ciBjb25mbGljdCBzY2VuYXJpbyBpcyBoYW5kbGVkIGJ5IGRlbGV0aW5nIHBvdGVudGlhbCBkdXBsaWNhdGVzLCBpbiBmYXZvdXIgb2YgdGhlIGN1cnJlbnQgYXJndW1lbnRzXG4gICAgdGhpcy5kZWxldGUoa2V5KTtcbiAgICB0aGlzLmRlbGV0ZVZhbHVlKHZhbHVlKTtcblxuICAgIHRoaXMua2V5VmFsdWVNYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgIHRoaXMudmFsdWVLZXlNYXAuc2V0KHZhbHVlLCBrZXkpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHB1YmxpYyBzZXRLZXkgPSAodmFsdWU6IFYsIGtleTogSyk6IHRoaXMgPT4gdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XG4gIHB1YmxpYyBzZXRWYWx1ZSA9IChrZXk6IEssIHZhbHVlOiBWKTogdGhpcyA9PiB0aGlzLnNldChrZXksIHZhbHVlKTtcbiAgcHVibGljIGNsZWFyID0gKCk6IHZvaWQgPT4ge1xuICAgIHRoaXMua2V5VmFsdWVNYXAuY2xlYXIoKTtcbiAgICB0aGlzLnZhbHVlS2V5TWFwLmNsZWFyKCk7XG4gIH07XG4gIHB1YmxpYyBkZWxldGUgPSAoa2V5OiBLKTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKHRoaXMuaGFzKGtleSkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5rZXlWYWx1ZU1hcC5nZXQoa2V5KSBhcyBWO1xuICAgICAgdGhpcy5rZXlWYWx1ZU1hcC5kZWxldGUoa2V5KTtcbiAgICAgIHRoaXMudmFsdWVLZXlNYXAuZGVsZXRlKHZhbHVlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIHB1YmxpYyBkZWxldGVLZXkgPSAoa2V5OiBLKTogYm9vbGVhbiA9PiB0aGlzLmRlbGV0ZShrZXkpO1xuICBwdWJsaWMgZGVsZXRlVmFsdWUgPSAodmFsdWU6IFYpOiBib29sZWFuID0+IHtcbiAgICBpZiAodGhpcy5oYXNWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZSh0aGlzLnZhbHVlS2V5TWFwLmdldCh2YWx1ZSkgYXMgSyk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgcHVibGljIGZvckVhY2ggPSAoXG4gICAgY2FsbGJhY2tmbjogKHZhbHVlOiBWLCBrZXk6IEssIG1hcDogSUJpbWFwPEssIFY+KSA9PiB2b2lkLFxuICAgIHRoaXNBcmc/OiBhbnlcbiAgKTogdm9pZCA9PiB7XG4gICAgdGhpcy5rZXlWYWx1ZU1hcC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICBjYWxsYmFja2ZuLmFwcGx5KHRoaXNBcmcsIFt2YWx1ZSwga2V5LCB0aGlzXSk7XG4gICAgfSk7XG4gIH07XG4gIHB1YmxpYyBoYXMgPSAoa2V5OiBLKTogYm9vbGVhbiA9PiB0aGlzLmtleVZhbHVlTWFwLmhhcyhrZXkpO1xuICBwdWJsaWMgaGFzS2V5ID0gKGtleTogSyk6IGJvb2xlYW4gPT4gdGhpcy5oYXMoa2V5KTtcbiAgcHVibGljIGhhc1ZhbHVlID0gKHZhbHVlOiBWKTogYm9vbGVhbiA9PiB0aGlzLnZhbHVlS2V5TWFwLmhhcyh2YWx1ZSk7XG4gIHB1YmxpYyBpbnNwZWN0ID0gKCk6IHN0cmluZyA9PiB7XG4gICAgbGV0IHN0ciA9ICdCaW1hcCB7JztcbiAgICBsZXQgZW50cnkgPSAwO1xuICAgIHRoaXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgZW50cnkrKztcbiAgICAgIHN0ciArPSAnJyArIGtleS50b1N0cmluZygpICsgJyA9PiAnICsgdmFsdWUudG9TdHJpbmcoKSArICcnO1xuICAgICAgaWYgKGVudHJ5IDwgdGhpcy5zaXplKSB7XG4gICAgICAgIHN0ciArPSAnLCAnO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHN0ciArPSAnfSc7XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbn1cblxuLyoqXG4gKiBCaW1hcCB3aXRoIG11bHRpcGxlIHZhbHVlcyBwZXIga2V5LlxuICovXG5leHBvcnQgY2xhc3MgTXVsdGltYXA8SywgVj4gaW1wbGVtZW50cyBJQmltYXA8SywgVj4ge1xuICBwcm90ZWN0ZWQga2V5VmFsdWVNYXA6IE1hcDxLLCBWPiA9IG5ldyBNYXA8SywgVj4oKTtcbiAgcHJvdGVjdGVkIHZhbHVlS2V5TWFwOiBNYXA8ViwgS1tdPiA9IG5ldyBNYXA8ViwgS1tdPigpO1xuXG4gIGdldCBzaXplKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMua2V5VmFsdWVNYXAuc2l6ZTtcbiAgfVxuXG4gIHB1YmxpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ01hcCc7XG4gIHB1YmxpYyBbU3ltYm9sLml0ZXJhdG9yXTogKCkgPT4gSXRlcmFibGVJdGVyYXRvcjxbSywgVl0+ID0gdGhpcy5rZXlWYWx1ZU1hcFtTeW1ib2wuaXRlcmF0b3JdO1xuXG4gIHB1YmxpYyBlbnRyaWVzID0gKCk6IEl0ZXJhYmxlSXRlcmF0b3I8W0ssIFZdPiA9PiB0aGlzLmtleVZhbHVlTWFwLmVudHJpZXMoKTtcbiAgcHVibGljIGtleXMgPSAoKTogSXRlcmFibGVJdGVyYXRvcjxLPiA9PiB0aGlzLmtleVZhbHVlTWFwLmtleXMoKTtcbiAgcHVibGljIHZhbHVlcyA9ICgpOiBJdGVyYWJsZUl0ZXJhdG9yPFY+ID0+IHRoaXMua2V5VmFsdWVNYXAudmFsdWVzKCk7XG5cbiAgcHVibGljIGdldCA9IChhOiBLKTogViB8IHVuZGVmaW5lZCA9PiB0aGlzLmtleVZhbHVlTWFwLmdldChhKTtcbiAgcHVibGljIGdldEtleSA9IChiOiBWKTogS1tdIHwgdW5kZWZpbmVkID0+IHRoaXMudmFsdWVLZXlNYXAuZ2V0KGIpO1xuICBwdWJsaWMgZ2V0VmFsdWUgPSAoYTogSyk6IFYgfCB1bmRlZmluZWQgPT4gdGhpcy5nZXQoYSk7XG4gIHB1YmxpYyBzZXQgPSAoa2V5OiBLLCB2YWx1ZTogVik6IHRoaXMgPT4ge1xuICAgIHRoaXMuZGVsZXRlKGtleSk7XG4gICAgdGhpcy5rZXlWYWx1ZU1hcC5zZXQoa2V5LCB2YWx1ZSk7XG5cbiAgICBjb25zdCBrZXlzID0gdGhpcy52YWx1ZUtleU1hcC5nZXQodmFsdWUpIHx8IFtdO1xuICAgIHRoaXMudmFsdWVLZXlNYXAuc2V0KHZhbHVlLCBbLi4ua2V5cywga2V5XSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgcHVibGljIHNldEtleSA9ICh2YWx1ZTogViwga2V5OiBLKTogdGhpcyA9PiB0aGlzLnNldChrZXksIHZhbHVlKTtcbiAgcHVibGljIHNldFZhbHVlID0gKGtleTogSywgdmFsdWU6IFYpOiB0aGlzID0+IHRoaXMuc2V0KGtleSwgdmFsdWUpO1xuICBwdWJsaWMgY2xlYXIgPSAoKTogdm9pZCA9PiB7XG4gICAgdGhpcy5rZXlWYWx1ZU1hcC5jbGVhcigpO1xuICAgIHRoaXMudmFsdWVLZXlNYXAuY2xlYXIoKTtcbiAgfTtcbiAgcHVibGljIGRlbGV0ZSA9IChrZXk6IEspOiBib29sZWFuID0+IHtcbiAgICBpZiAodGhpcy5oYXMoa2V5KSkge1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmtleVZhbHVlTWFwLmdldChrZXkpIGFzIFY7XG4gICAgICB0aGlzLmtleVZhbHVlTWFwLmRlbGV0ZShrZXkpO1xuICAgICAgY29uc3Qga2V5cyA9IHRoaXMudmFsdWVLZXlNYXAuZ2V0KHZhbHVlKS5maWx0ZXIoayA9PiBrICE9PSBrZXkpO1xuICAgICAgaWYgKGtleXMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLnZhbHVlS2V5TWFwLnNldCh2YWx1ZSwga2V5cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnZhbHVlS2V5TWFwLmRlbGV0ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBwdWJsaWMgZGVsZXRlS2V5ID0gKGtleTogSyk6IGJvb2xlYW4gPT4gdGhpcy5kZWxldGUoa2V5KTtcbiAgcHVibGljIGRlbGV0ZVZhbHVlID0gKHZhbHVlOiBWKTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKHRoaXMuaGFzVmFsdWUodmFsdWUpKSB7XG4gICAgICB0aGlzLnZhbHVlS2V5TWFwLmdldCh2YWx1ZSkuZm9yRWFjaChrZXkgPT4geyB0aGlzLmRlbGV0ZShrZXkpOyB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIHB1YmxpYyBmb3JFYWNoID0gKFxuICAgIGNhbGxiYWNrZm46ICh2YWx1ZTogViwga2V5OiBLLCBtYXA6IElCaW1hcDxLLCBWPikgPT4gdm9pZCxcbiAgICB0aGlzQXJnPzogYW55XG4gICk6IHZvaWQgPT4ge1xuICAgIHRoaXMua2V5VmFsdWVNYXAuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgY2FsbGJhY2tmbi5hcHBseSh0aGlzQXJnLCBbdmFsdWUsIGtleSwgdGhpc10pO1xuICAgIH0pO1xuICB9O1xuICBwdWJsaWMgaGFzID0gKGtleTogSyk6IGJvb2xlYW4gPT4gdGhpcy5rZXlWYWx1ZU1hcC5oYXMoa2V5KTtcbiAgcHVibGljIGhhc0tleSA9IChrZXk6IEspOiBib29sZWFuID0+IHRoaXMuaGFzKGtleSk7XG4gIHB1YmxpYyBoYXNWYWx1ZSA9ICh2YWx1ZTogVik6IGJvb2xlYW4gPT4gdGhpcy52YWx1ZUtleU1hcC5oYXModmFsdWUpO1xuICBwdWJsaWMgaW5zcGVjdCA9ICgpOiBzdHJpbmcgPT4ge1xuICAgIGxldCBzdHIgPSAnTXVsdGltYXAgeyc7XG4gICAgbGV0IGVudHJ5ID0gMDtcbiAgICB0aGlzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIGVudHJ5Kys7XG4gICAgICBzdHIgKz0gJycgKyBrZXkudG9TdHJpbmcoKSArICcgPT4gJyArIHZhbHVlLnRvU3RyaW5nKCkgKyAnJztcbiAgICAgIGlmIChlbnRyeSA8IHRoaXMuc2l6ZSkge1xuICAgICAgICBzdHIgKz0gJywgJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzdHIgKz0gJ30nO1xuICAgIHJldHVybiBzdHI7XG4gIH07XG59XG4iLCJpbXBvcnQgRnJhY3Rpb24gZnJvbSAnZnJhY3Rpb24uanMnO1xuXG4vKipcbiAqIEVzY2FwZSBhIHN0cmluZyB0byBiZSB1c2VkIGluIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvR3VpZGUvUmVndWxhcl9FeHByZXNzaW9uc1xuICpcbiAqIEBwYXJhbSBzdHI6IHN0cmluZyB0byBlc2NhcGVcbiAqIEByZXR1cm5zIGVzY2FwZWQsIFJlZ0V4cC1yZWFkeSBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKTsgLy8gJCYgbWVhbnMgdGhlIHdob2xlIG1hdGNoZWQgc3RyaW5nXG59XG5cbi8qKlxuICogR2V0IHByaW1lcyB1cCB0byBhIGdpdmVuIGludGVnZXIuXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTIyODc1OTkvMjA5MTg0XG4gKiBVc2VzIHRoZSBTaWV2ZSBvZiBFcmF0b3N0aGVuZXMgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU2lldmVfb2ZfRXJhdG9zdGhlbmVzXG4gKlxuICogQHBhcmFtIG1heDogbnVtYmVyIHRvIHJlYWNoXG4gKiBAcmV0dXJucyBhbGwgcHJpbWVzIHVwIHRvIG1heFxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJpbWVzKG1heDogbnVtYmVyKTogbnVtYmVyW10ge1xuICBjb25zdCBzaWV2ZTogYm9vbGVhbltdID0gW10sIHByaW1lczogbnVtYmVyW10gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDI7IGkgPD0gbWF4OyArK2kpIHtcbiAgICBpZiAoIXNpZXZlW2ldKSB7XG4gICAgICAvLyBpIGhhcyBub3QgYmVlbiBtYXJrZWQgLS0gaXQgaXMgcHJpbWVcbiAgICAgIHByaW1lcy5wdXNoKGkpO1xuICAgICAgZm9yIChsZXQgaiA9IGkgPDwgMTsgaiA8PSBtYXg7IGogKz0gaSkge1xuICAgICAgICBzaWV2ZVtqXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBwcmltZXM7XG59XG5cbi8qKlxuICogRW5zdXJlIGEgfGZyYWN0aW9ufCA8IDEgb3IgPiAxLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmxpcEZyYWN0aW9uKGY6IEZyYWN0aW9uLCBncmVhdGVyVGhhbk9uZSA9IGZhbHNlKTogRnJhY3Rpb24ge1xuICByZXR1cm4gZ3JlYXRlclRoYW5PbmUgP1xuICAgIChmLmFicygpLmNvbXBhcmUoMSkgPCAwID8gZi5pbnZlcnNlKCkgOiBmKSA6XG4gICAgKGYuYWJzKCkuY29tcGFyZSgxKSA+IDAgPyBmLmludmVyc2UoKSA6IGYpIDtcbn1cblxuLyoqXG4gKiBCaW5hcnkgc2VhcmNoIGluIGFuIGFycmF5LlxuICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI5MDE4NzQ1LzIwOTE4NFxuICpcbiAqIEBwYXJhbSBhcjogZWxlbWVudHMgYXJyYXkgdGhhdCBpcyBzb3J0ZWRcbiAqIEBwYXJhbSBlbDogdGFyZ2V0IGVsZW1lbnRcbiAqIEBwYXJhbSBjb21wOiBjb21wYXJpc29uIGZ1bmN0aW9uIChhLGIpID0+IG4gd2l0aFxuICogICAgICAgIG4gPiAwIGlmIGEgPiBiXG4gKiAgICAgICAgbiA8IDAgaWYgYSA8IGJcbiAqICAgICAgICBuID0gMCBpZiBhID0gYlxuICogQHJldHVybnMgaW5kZXggbSA+PSAwIGlmIG1hdGNoIGlzIGZvdW5kLCBtIDwgMCBpZiBub3QgZm91bmQgd2l0aCBpbnNlcnRpb24gcG9pbnQgPSAtbS0xLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluYXJ5U2VhcmNoPFQ+KGFyOiBSZWFkb25seUFycmF5PFQ+LCBlbDogVCwgY29tcDogKGE6IFQsIGI6IFQpID0+IG51bWJlcik6IG51bWJlciB7XG4gIGxldCBtID0gMDtcbiAgbGV0IG4gPSBhci5sZW5ndGggLSAxO1xuICB3aGlsZSAobSA8PSBuKSB7XG4gICAgY29uc3QgayA9IChuICsgbSkgPj4gMTtcbiAgICBjb25zdCBjbXAgPSBjb21wKGVsLCBhcltrXSk7XG4gICAgaWYgKGNtcCA+IDApIHtcbiAgICAgIG0gPSBrICsgMTtcbiAgICB9IGVsc2UgaWYgKGNtcCA8IDApIHtcbiAgICAgIG4gPSBrIC0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGs7XG4gICAgfVxuICB9XG4gIHJldHVybiB+bTtcbn1cblxuLyoqXG4gKiBDaGVjayBhcnJheSBlcXVhbGl0eS5cbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS83ODM3NDU2LzIwOTE4NFxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlFcXVhbDxUPihhcjE6IFJlYWRvbmx5QXJyYXk8VD4sIGFyMjogUmVhZG9ubHlBcnJheTxUPiwgY29tcDogKGE6IFQsIGI6IFQpID0+IG51bWJlcik6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIGFyMS5sZW5ndGggPT09IGFyMi5sZW5ndGggJiZcbiAgICBhcjEuZXZlcnkoKHZhbHVlLCBpbmRleCkgPT4gY29tcCh2YWx1ZSwgYXIyW2luZGV4XSkgPT09IDApXG4gICk7XG59XG5cbi8qKlxuICogUmV0dXJuIGFycmF5IHdpdGggdW5pcXVlIHZhbHVlcy5cbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzkwMzAxOC8yMDkxODRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5VW5pcXVlPFQ+KGFyOiBSZWFkb25seUFycmF5PFQ+KTogUmVhZG9ubHlBcnJheTxUPiB7XG4gIHJldHVybiBbLi4ubmV3IFNldChhcildO1xufVxuXG4vKipcbiAqIEFsd2F5cy1wb3NpdGl2ZSBNb2R1bG8gZnVuY3Rpb24uIFRoZSBidWlsdC1pbiAlIG9wZXJhdG9yIGNvbXB1dGVzIHRoZSBSZW1haW5kZXIuXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvUmVtYWluZGVyXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTczMjM2MDgvMjA5MTg0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb2QobjogbnVtYmVyLCBtOiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gKChuICUgbSkgKyBtKSAlIG07XG59XG5cbi8qKlxuICogQXJyYXkgcmFuZ2UuXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTAwNTA4MzEvMjA5MTg0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcnJheVJhbmdlKHNpemU6IG51bWJlciwgc3RhcnRBdCA9IDApOiBSZWFkb25seUFycmF5PG51bWJlcj4ge1xuICByZXR1cm4gWy4uLkFycmF5KHNpemUpLmtleXMoKV0ubWFwKGkgPT4gaSArIHN0YXJ0QXQpO1xufVxuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY3JlYXRlQmluZGluZyhvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3KTtcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiUCIsImFzc2lnbiIsIm4iLCJzIiwiaXNOYU4iLCJwYXJzZUludCIsIkZyYWN0aW9uIiwibmV3RnJhY3Rpb24iLCJkIiwiZiIsIk9iamVjdCIsImNyZWF0ZSIsInByb3RvdHlwZSIsImEiLCJnY2QiLCJmYWN0b3JpemUiLCJudW0iLCJmYWN0b3JzIiwiaSIsInBhcnNlIiwicDEiLCJwMiIsIk0iLCJ2IiwidyIsIngiLCJ5IiwieiIsIkEiLCJCIiwiQyIsIkQiLCJOIiwidW5kZWZpbmVkIiwiTWF0aCIsInBvdyIsImZsb29yIiwibG9nIiwiTE4xMCIsIk5hTiIsIm1hdGNoIiwibGVuZ3RoIiwiYWJzIiwiYiIsIkVycm9yIiwicGxhY2VzIiwiY2VpbCIsInJvdW5kIiwiayIsInQiLCJlcHMiLCJ0aGlzQUJTIiwiY29udCIsInZhbHVlT2YiLCJleGNsdWRlV2hvbGUiLCJ3aG9sZSIsInN0ciIsInJlcyIsInB1c2giLCJkZWMiLCJjeWNMZW4iLCJyZW0iLCJjeWNsZUxlbiIsImN5Y09mZiIsImxlbiIsInJlbTEiLCJyZW0yIiwiZSIsIm0iLCJyIiwibW9kcG93IiwiY3ljbGVTdGFydCIsImdsb2JhbFRoaXMiLCJzZWxmIiwiX2V4cG9ydHMiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJBcnJheSIsImlzQXJyYXkiLCJfYXJyYXlMaWtlVG9BcnJheSIsIl9hcnJheVdpdGhvdXRIb2xlcyIsIml0ZXIiLCJTeW1ib2wiLCJpdGVyYXRvciIsImZyb20iLCJfaXRlcmFibGVUb0FycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwib3duS2V5cyIsIm9iamVjdCIsImVudW1lcmFibGVPbmx5Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsInN5bWJvbHMiLCJmaWx0ZXIiLCJzeW0iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwidGFyZ2V0IiwiYXJndW1lbnRzIiwic291cmNlIiwiZm9yRWFjaCIsImtleSIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVmaW5lUHJvcGVydHkiLCJvYmoiLCJ2YWx1ZSIsImFyZyIsImlucHV0IiwiaGludCIsIl90eXBlb2YiLCJwcmltIiwidG9QcmltaXRpdmUiLCJjYWxsIiwiU3RyaW5nIiwiTnVtYmVyIiwiX3RvUHJpbWl0aXZlIiwiX3RvUHJvcGVydHlLZXkiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9zbGljZWRUb0FycmF5IiwiX2FycmF5V2l0aEhvbGVzIiwiX2kiLCJfcyIsIl9lIiwiX3giLCJfciIsIl9hcnIiLCJfbiIsIl9kIiwibmV4dCIsImRvbmUiLCJlcnIiLCJyZXR1cm4iLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJfbm9uSXRlcmFibGVSZXN0IiwibyIsIm1pbkxlbiIsInRvU3RyaW5nIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ0ZXN0IiwiYXJyMiIsInRvWE1MIiwiZGVmYXVsdCIsIkRBVEFfVFlQRVMiLCJQUklNSVRJVkVfVFlQRVMiLCJQUklWQVRFX1ZBUlMiLCJnZXRUeXBlIiwidmFsIiwiX25hbWUiLCJEYXRlIiwiaXNDREFUQSIsInN0YXJ0c1dpdGgiLCJtYXBTdHIiLCJyZXBsYWNlbWVudHMiLCJjb250ZW50TWFwIiwib3V0cHV0IiwicmVnZXhwIiwiUmVnRXhwIiwiY29uY2F0Iiwiam9pbiIsInJlcGxhY2UiLCJlbnRpdHkiLCJmb3JtYXRBdHRyaWJ1dGVzIiwia2V5VmFscyIsImF0dHJpYnV0ZXMiLCJvdXRwdXRFeHBsaWNpdFRydWUiLCJlbnRyaWVzIiwibWFwIiwiX3JlZiIsIl9yZWYyIiwicmVkdWNlIiwiYWxsQXR0cmlidXRlcyIsImF0dHIiLCJyZXBsYWNlZFZhbCIsInZhbFN0ciIsImdldEF0dHJpYnV0ZUtleVZhbHMiLCJrZXlzVmFsc0pvaW5lZCIsImlzUHJpbWl0aXZlIiwiaW5jbHVkZXMiLCJkZWZhdWx0RW50aXR5UmVwbGFjZW1lbnRzIiwiY29uZmlnIiwiX2NvbmZpZyRkZXB0aCIsImRlcHRoIiwiaW5kZW50IiwiX2lzRmlyc3RJdGVtIiwiX2NvbmZpZyRfaXNPdXRwdXRTdGFyIiwiX2lzT3V0cHV0U3RhcnQiLCJoZWFkZXIiLCJfY29uZmlnJGF0dHJpYnV0ZVJlcGwiLCJhdHRyaWJ1dGVSZXBsYWNlbWVudHMiLCJyYXdBdHRyaWJ1dGVSZXBsYWNlbWVudHMiLCJhdHRyaWJ1dGVGaWx0ZXIiLCJfY29uZmlnJGF0dHJpYnV0ZUV4cGwiLCJhdHRyaWJ1dGVFeHBsaWNpdFRydWUiLCJfY29uZmlnJGNvbnRlbnRSZXBsYWMiLCJjb250ZW50UmVwbGFjZW1lbnRzIiwicmF3Q29udGVudFJlcGxhY2VtZW50cyIsIl9jb25maWckc2VsZkNsb3NlVGFncyIsInNlbGZDbG9zZVRhZ3MiLCJpbmRlbnRTdHIiLCJyZXBlYXQiLCJnZXRJbmRlbnRTdHIiLCJ2YWxUeXBlIiwiaGVhZGVyU3RyIiwiX3JlZjQiLCJpc091dHB1dFN0YXJ0IiwiZ2V0SGVhZGVyU3RyaW5nIiwicHJlSW5kZW50U3RyIiwib3V0cHV0U3RyIiwiX2NvbnRlbnQiLCJldmVyeSIsIm5ld1ZhbCIsIm5ld1ZhbFR5cGUiLCJpc05ld1ZhbFNpbXBsZSIsImlzTmV3VmFsQ0RBVEEiLCJwcmVUYWciLCJ2YWxJc0VtcHR5IiwiZ2xvYmFsU2VsZkNsb3NlIiwibG9jYWxTZWxmQ2xvc2UiLCJfc2VsZkNsb3NlVGFnIiwic2hvdWxkU2VsZkNsb3NlIiwic2VsZkNsb3NlU3RyIiwiYXR0cmlidXRlc1N0cmluZyIsIl9hdHRycyIsInRhZyIsInByZVRhZ0Nsb3NlU3RyIiwicG9zdFRhZyIsImluZGV4IiwibmV3Q29uZmlnIiwiX2lzTGFzdEl0ZW0iLCJvdXRwdXRPYmoiLCJwcml2YXRlVmFyIiwibmV3Q29udGVudE9iaiIsIm9ialRvQXJyYXkiLCJmblJlc3VsdCIsInNpbmdsZVZhbCIsIl9kZWZhdWx0IiwiSW50ZXJ2YWwiLCJyYXRpbyIsImNlbnRzIiwibG9nMiIsInNhdmFydHMiLCJsb2cxMCIsImRpZmZlcmVuY2UiLCJyZWZlcmVuY2UiLCJkaXYiLCJmcm9tUmF0aW8iLCJmcm9tQ2VudHMiLCJmcm9tU2F2YXJ0cyIsImNvbXBhcmUiLCJKTkQiLCJNdXNpY1hNTCIsInRpdGxlIiwib2JqZWN0cyIsIm9wdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsIlNvbG1pemF0aW9uIiwiVHVuaW5nIiwiZnJvbUVkbyIsImNvbnZlcnQiLCJjb252ZXJ0RG9jdW1lbnQiLCJ0cmltIiwidmVyc2lvbiIsImNvbnZlcnREYXRlIiwiY29udmVydE9iamVjdHMiLCJtZWFzdXJlcyIsImluZGVzeCIsIm1lYXN1cmUiLCJjb252ZXJ0TWVhc3VyZSIsImxhYmVscyIsIkFubm90YXRpb24iLCJmaW5kQnlMYWJlbCIsImFubm90YXRpb25zIiwiY29uc29sZSIsImJlYXQiLCJ0b25lcyIsInRvbmUiLCJ0b25lSW5kZXgiLCJjb252ZXJ0Tm90ZSIsImNvbnZlcnRCYXIiLCJsb2NhdGlvbiIsInN0eWxlIiwibnVtYmVyIiwic29sbWl6YXRpb24iLCJzdGVwIiwiYWNjaWRlbnRhbCIsImNvbnZlcnRBY2NpZGVudGFsIiwib2N0YXZlIiwidHVuZSIsImR1cmF0aW9ucyIsImFjY2lkZW50YWxzIiwiZGF0ZSIsImdldFRpbWUiLCJnZXRUaW1lem9uZU9mZnNldCIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJ0dW5pbmciLCJub3RlcyIsInBhcnNlTWFwIiwiTXVsdGltYXAiLCJub3RlIiwic2V0IiwibW9kIiwic3RlcHMiLCJuYW1lTWFwIiwicmVnZXgiLCJlc2NhcGVSZWdFeHAiLCJnZXRLZXkiLCJwaXRjaENsYXNzIiwic29ydCIsImV4ZWMiLCJUb25lIiwiZ2V0IiwiVG9uZVJvdyIsInNvbWUiLCJmaW5kIiwidHJhbnNwb3NlIiwiZnJvbVBpdGNoIiwicGl0Y2giLCJpbnZlcnQiLCJheGlzIiwicmV2ZXJzZSIsInJvdGF0ZSIsImN5Y2xlcyIsImMiLCJtb25vdG9uaXplIiwiZGVzY2VuZGluZyIsImN1cnJlbnQiLCJsYXN0IiwicGl0Y2hlcyIsImZyb21QaXRjaGVzIiwiZnJvbVBpdGNoQ2xhc3NlcyIsInBpdGNoQ2xhc3NlcyIsIlRvbmVSb3dTb2xtaXplZCIsInN1cGVyIiwiZnJvbVRvbmVSb3ciLCJyb3ciLCJpbnRlcnZhbHMiLCJmcm9tSW50ZXJ2YWxzIiwiaW50ZXJ2YWwiLCJ0cmFuc3Bvc2FibGUiLCJfdHJhbnNwb3NhYmxlIiwiZmlyc3QiLCJmbGlwRnJhY3Rpb24iLCJtdWwiLCJuZWFyZXN0IiwiYmFzZSIsImJpbmFyeVNlYXJjaCIsImxvd2VyIiwidXBwZXIiLCJuZWFyZXN0VG9uZSIsIm5lYXJlc3RJbnRlcnZhbCIsImRpdmlzaW9ucyIsIl8iLCJsYWJlbCIsImFubm90YXRpb24iLCJrZXlWYWx1ZU1hcCIsIk1hcCIsInZhbHVlS2V5TWFwIiwidmFsdWVzIiwiZ2V0VmFsdWUiLCJkZWxldGUiLCJkZWxldGVWYWx1ZSIsInNldEtleSIsInNldFZhbHVlIiwiY2xlYXIiLCJoYXMiLCJkZWxldGVLZXkiLCJoYXNWYWx1ZSIsImNhbGxiYWNrZm4iLCJ0aGlzQXJnIiwiaGFzS2V5IiwiaW5zcGVjdCIsImVudHJ5Iiwic2l6ZSIsInRvU3RyaW5nVGFnIiwibWF4Iiwic2lldmUiLCJwcmltZXMiLCJqIiwiZ3JlYXRlclRoYW5PbmUiLCJpbnZlcnNlIiwiYXIiLCJlbCIsImNvbXAiLCJjbXAiLCJhcjEiLCJhcjIiLCJTZXQiLCJzdGFydEF0IiwiZXh0ZW5kU3RhdGljcyIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwicCIsImhhc093blByb3BlcnR5IiwiX19leHRlbmRzIiwiX18iLCJfX2Fzc2lnbiIsIl9fcmVzdCIsImluZGV4T2YiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwiZGVzYyIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsIl9fcGFyYW0iLCJwYXJhbUluZGV4IiwiZGVjb3JhdG9yIiwiX19tZXRhZGF0YSIsIm1ldGFkYXRhS2V5IiwibWV0YWRhdGFWYWx1ZSIsIm1ldGFkYXRhIiwiX19hd2FpdGVyIiwiX2FyZ3VtZW50cyIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJ0aGVuIiwiX19nZW5lcmF0b3IiLCJib2R5IiwiZyIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIm9wIiwicG9wIiwiX19jcmVhdGVCaW5kaW5nIiwiazIiLCJfX2V4cG9ydFN0YXIiLCJfX3ZhbHVlcyIsIl9fcmVhZCIsImVycm9yIiwiX19zcHJlYWQiLCJfX3NwcmVhZEFycmF5cyIsImlsIiwiamwiLCJfX2F3YWl0IiwiX19hc3luY0dlbmVyYXRvciIsImFzeW5jSXRlcmF0b3IiLCJxIiwicmVzdW1lIiwiZnVsZmlsbCIsInNldHRsZSIsInNoaWZ0IiwiX19hc3luY0RlbGVnYXRvciIsIl9fYXN5bmNWYWx1ZXMiLCJfX21ha2VUZW1wbGF0ZU9iamVjdCIsImNvb2tlZCIsInJhdyIsIl9faW1wb3J0U3RhciIsIl9fZXNNb2R1bGUiLCJfX2ltcG9ydERlZmF1bHQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwicmVjZWl2ZXIiLCJwcml2YXRlTWFwIiwiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkZWZpbml0aW9uIiwicHJvcCJdLCJzb3VyY2VSb290IjoiIn0=