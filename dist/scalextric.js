/*! For license information please see scalextric.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Scalextric=e():t.Scalextric=e()}(this,(function(){return(()=>{var t={628:function(t,e){var n;!function(r){"use strict";var i={s:1,n:0,d:1};function s(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message}function n(){}return n.prototype=Error.prototype,e.prototype=new n,e}var a=f.DivisionByZero=s("DivisionByZero"),o=f.InvalidParameter=s("InvalidParameter");function u(t,e){return isNaN(t=parseInt(t,10))&&h(),t*e}function h(){throw new o}var l=function(t,e){var n,r=0,s=1,o=1,l=0,c=0,f=0,p=1,d=1,y=0,v=1,w=1,g=1,m=1e7;if(null==t);else if(void 0!==e)o=(r=t)*(s=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(r=t.n,s=t.d,"s"in t&&(r*=t.s)):0 in t?(r=t[0],1 in t&&(s=t[1])):h(),o=r*s;break;case"number":if(t<0&&(o=t,t=-t),t%1==0)r=t;else if(t>0){for(t>=1&&(t/=d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));v<=m&&g<=m;){if(t===(n=(y+w)/(v+g))){v+g<=m?(r=y+w,s=v+g):g>v?(r=w,s=g):(r=y,s=v);break}t>n?(y+=w,v+=g):(w+=y,g+=v),v>m?(r=w,s=g):(r=y,s=v)}r*=d}else(isNaN(t)||isNaN(e))&&(s=r=NaN);break;case"string":if(null===(v=t.match(/\d+|./g))&&h(),"-"===v[y]?(o=-1,y++):"+"===v[y]&&y++,v.length===y+1?c=u(v[y++],o):"."===v[y+1]||"."===v[y]?("."!==v[y]&&(l=u(v[y++],o)),(1+ ++y===v.length||"("===v[y+1]&&")"===v[y+3]||"'"===v[y+1]&&"'"===v[y+3])&&(c=u(v[y],o),p=Math.pow(10,v[y].length),y++),("("===v[y]&&")"===v[y+2]||"'"===v[y]&&"'"===v[y+2])&&(f=u(v[y+1],o),d=Math.pow(10,v[y+1].length)-1,y+=3)):"/"===v[y+1]||":"===v[y+1]?(c=u(v[y],o),p=u(v[y+2],1),y+=3):"/"===v[y+3]&&" "===v[y+1]&&(l=u(v[y],o),c=u(v[y+2],o),p=u(v[y+4],1),y+=5),v.length<=y){o=r=f+(s=p*d)*l+d*c;break}default:h()}if(0===s)throw new a;i.s=o<0?-1:1,i.n=Math.abs(r),i.d=Math.abs(s)};function c(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function f(t,e){if(!(this instanceof f))return new f(t,e);l(t,e),t=f.REDUCE?c(i.d,i.n):1,this.s=i.s,this.n=i.n/t,this.d=i.d/t}f.REDUCE=1,f.prototype={s:1,n:0,d:1,abs:function(){return new f(this.n,this.d)},neg:function(){return new f(-this.s*this.n,this.d)},add:function(t,e){return l(t,e),new f(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(t,e){return l(t,e),new f(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(t,e){return l(t,e),new f(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(t,e){return l(t,e),new f(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return new f(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new f(NaN):void 0===t?new f(this.s*this.n%this.d,1):(l(t,e),0===i.n&&0===this.d&&f(0,0),new f(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d))},gcd:function(t,e){return l(t,e),new f(c(i.n,this.n)*c(i.d,this.d),i.d*this.d)},lcm:function(t,e){return l(t,e),0===i.n&&0===this.n?new f:new f(i.n*this.n,c(i.n,this.n)*c(i.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new f(this.s*this.d,this.n)},pow:function(t){return t<0?new f(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new f(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,e){return l(t,e),this.s*this.n*i.d==i.s*i.n*this.d},compare:function(t,e){l(t,e);var n=this.s*this.n*i.d-i.s*i.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function n(t){return 1===t.length?new f(t[0]):n(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var r=0;r<e.length;r++){var i=n(e.slice(0,r+1));if(i.sub(this.abs()).abs().valueOf()<t)return i.mul(this.s)}return this},divisible:function(t,e){return l(t,e),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];if(isNaN(this.n)||isNaN(this.d))return r;do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function(t){var e,n=this.n,r=this.d;if(isNaN(n)||isNaN(r))return"NaN";f.REDUCE||(n/=e=c(n,r),r/=e),t=t||15;var i=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>2e3)return 0;return r}(0,r),s=function(t,e,n){for(var r=1,i=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r}(10,n,e),s=0;s<300;s++){if(r===i)return s;r=10*r%e,i=10*i%e}return 0}(0,r,i),a=-1===this.s?"-":"";if(a+=n/r|0,n%=r,(n*=10)&&(a+="."),i){for(var o=s;o--;)a+=n/r|0,n%=r,n*=10;for(a+="(",o=i;o--;)a+=n/r|0,n%=r,n*=10;a+=")"}else for(o=t;n&&o--;)a+=n/r|0,n%=r,n*=10;return a}},void 0===(n=function(){return f}.apply(e,[]))||(t.exports=n)}()},748:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Multimap=e.Bimap=void 0,e.Bimap=class{constructor(){this.keyValueMap=new Map,this.valueKeyMap=new Map,this[Symbol.iterator]=this.keyValueMap[Symbol.iterator],this.entries=()=>this.keyValueMap.entries(),this.keys=()=>this.keyValueMap.keys(),this.values=()=>this.keyValueMap.values(),this.get=t=>this.keyValueMap.get(t),this.getKey=t=>this.valueKeyMap.get(t),this.getValue=t=>this.get(t),this.set=(t,e)=>(this.delete(t),this.deleteValue(e),this.keyValueMap.set(t,e),this.valueKeyMap.set(e,t),this),this.setKey=(t,e)=>this.set(e,t),this.setValue=(t,e)=>this.set(t,e),this.clear=()=>{this.keyValueMap.clear(),this.valueKeyMap.clear()},this.delete=t=>{if(this.has(t)){const e=this.keyValueMap.get(t);return this.keyValueMap.delete(t),this.valueKeyMap.delete(e),!0}return!1},this.deleteKey=t=>this.delete(t),this.deleteValue=t=>!!this.hasValue(t)&&this.delete(this.valueKeyMap.get(t)),this.forEach=(t,e)=>{this.keyValueMap.forEach(((n,r)=>{t.apply(e,[n,r,this])}))},this.has=t=>this.keyValueMap.has(t),this.hasKey=t=>this.has(t),this.hasValue=t=>this.valueKeyMap.has(t),this.inspect=()=>{let t="Bimap {",e=0;return this.forEach(((n,r)=>{e++,t+=r.toString()+" => "+n.toString(),e<this.size&&(t+=", ")})),t+="}",t}}get size(){return this.keyValueMap.size}},e.Multimap=class{constructor(){this.keyValueMap=new Map,this.valueKeyMap=new Map,this[Symbol.iterator]=this.keyValueMap[Symbol.iterator],this.entries=()=>this.keyValueMap.entries(),this.keys=()=>this.keyValueMap.keys(),this.values=()=>this.keyValueMap.values(),this.get=t=>this.keyValueMap.get(t),this.getKey=t=>this.valueKeyMap.get(t),this.getValue=t=>this.get(t),this.set=(t,e)=>{this.delete(t),this.keyValueMap.set(t,e);const n=this.valueKeyMap.get(e)||[];return this.valueKeyMap.set(e,[...n,t]),this},this.setKey=(t,e)=>this.set(e,t),this.setValue=(t,e)=>this.set(t,e),this.clear=()=>{this.keyValueMap.clear(),this.valueKeyMap.clear()},this.delete=t=>{if(this.has(t)){const e=this.keyValueMap.get(t);this.keyValueMap.delete(t);const n=this.valueKeyMap.get(e).filter((e=>e!==t));return n.length>0?this.valueKeyMap.set(e,n):this.valueKeyMap.delete(e),!0}return!1},this.deleteKey=t=>this.delete(t),this.deleteValue=t=>!!this.hasValue(t)&&(this.valueKeyMap.get(t).forEach((t=>{this.delete(t)})),!0),this.forEach=(t,e)=>{this.keyValueMap.forEach(((n,r)=>{t.apply(e,[n,r,this])}))},this.has=t=>this.keyValueMap.has(t),this.hasKey=t=>this.has(t),this.hasValue=t=>this.valueKeyMap.has(t),this.inspect=()=>{let t="Multimap {",e=0;return this.forEach(((n,r)=>{e++,t+=r.toString()+" => "+n.toString(),e<this.size&&(t+=", ")})),t+="}",t}}get size(){return this.keyValueMap.size}}},500:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Helpers=void 0,(n=e.Helpers||(e.Helpers={})).escapeRegExp=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},n.primes=function(t){const e=[],n=[];for(let r=2;r<=t;++r)if(!e[r]){n.push(r);for(let n=r<<1;n<=t;n+=r)e[n]=!0}return n},n.flipFraction=function(t,e=!1){return e?t.abs().compare(1)<0?t.inverse():t:t.abs().compare(1)>0?t.inverse():t},n.binarySearch=function(t,e,n){let r=0,i=t.length-1;for(;r<=i;){const s=i+r>>1,a=n(e,t[s]);if(a>0)r=s+1;else{if(!(a<0))return s;i=s-1}}return~r},n.arrayEqual=function(t,e,n){return t.length===e.length&&t.every(((t,r)=>0===n(t,e[r])))},n.arrayUnique=function(t){return[...new Set(t)]},n.mod=function(t,e){return(t%e+e)%e}},635:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Interval=void 0;const r=n(628);class i{constructor(t){this.ratio=t}get cents(){return 1200*Math.log2(this.ratio.valueOf())}get savarts(){return 1e3*Math.log10(this.ratio.valueOf())}difference(t){return new i(this.ratio.div(t.ratio))}static fromRatio(t){return new i(new r.default(t))}static fromCents(t){return new i(new r.default(Math.pow(2,t/1200)))}static fromSavarts(t){return new i(new r.default(Math.pow(10,t/1e3)))}static compare(t,e){return t.ratio.compare(e.ratio)}static JND(){return i.fromCents(5)}}e.Interval=i},312:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TuningTone=e.Tuning=void 0;const r=n(628),i=n(500),s=n(635);class a{constructor(t,e=[]){this.intervals=t,this.annotations=e,this.intervals.sort(s.Interval.compare),1!=this.intervals[0].ratio.valueOf()&&(this.intervals=[new s.Interval(new r.default(1)),...this.intervals])}static fromIntervals(t,e=[]){return new a(t.map((t=>"string"==typeof t?new s.Interval(new r.default(t)):s.Interval.fromCents(t))),e)}get transposable(){if(void 0!==this._transposable)return this._transposable;const t=this.intervals[1].difference(this.intervals[0]);return this._transposable=this.intervals.slice(1).every(((e,n)=>{const r=e.difference(this.intervals[n]);return new s.Interval(i.Helpers.flipFraction(r.difference(t).ratio,!0)).ratio.compare(s.Interval.JND().ratio)<0}))}get steps(){return this.intervals.length-1}get octave(){return this.intervals[this.steps]}tune(t){return new s.Interval(this.intervals[t.pitchClass].ratio.mul(this.octave.ratio.pow(t.octave)))}nearest(t){const e=Math.floor(Math.log(t.ratio.valueOf())/Math.log(this.octave.ratio.valueOf())),n=new s.Interval(t.ratio.div(this.octave.ratio.pow(e))),a=i.Helpers.binarySearch(this.intervals,n,s.Interval.compare);if(a>=0)return{tone:new o(this,a,e),interval:t,difference:new s.Interval(new r.default(1))};{const r=~a,i=Math.abs(this.intervals[r-1].difference(n).cents),s=Math.abs(this.intervals[r].difference(n).cents),u=new o(this,i<s?r-1:r,e),h=this.tune(u);return{tone:u,interval:h,difference:h.difference(t)}}}static intervalsEdo(t){return Array.from(Array(t+1)).map(((e,n)=>s.Interval.fromCents(1200/t*n)))}}e.Tuning=a;class o{constructor(t,e,n){this.tuning=t,this.pitchClass=e,this.octave=n}get pitch(){return this.pitchClass+this.octave*this.tuning.steps}static fromPitch(t,e){return new o(t,i.Helpers.mod(e,t.steps),Math.floor(e/t.steps))}}e.TuningTone=o},913:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TuningNotation=void 0;const r=n(312),i=n(500),s=n(748);class a{constructor(t,e){this.tuning=t,this.map=e,this.regex=new RegExp("^("+Array.from(this.map.keys()).map(i.Helpers.escapeRegExp).join("|")+")(-?\\d)$","i")}static fromNotesAccidentalsCombination(t,e,n){const r=new s.Multimap;return Object.keys(e).forEach((s=>{r.set(""+s,e[s]),Object.keys(n).forEach((a=>{r.set(`${s}${a}`,i.Helpers.mod(e[s]+n[a],t.steps))}))})),new a(t,r)}name(t){return[...this.map.getKey(t.pitchClass)].map((e=>`${e}${t.octave}`))}parse(t){const e=this.regex.exec(t);if(!e)throw new Error("[TuningNotation.parse] Could not parse note "+t);return new r.TuningTone(this.tuning,this.map.get(e[1]),parseInt(e[2],10))}}e.TuningNotation=a},607:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(655);r.__exportStar(n(312),e),r.__exportStar(n(913),e),r.__exportStar(n(635),e)},655:(t,e,n)=>{"use strict";n.r(e),n.d(e,{__extends:()=>i,__assign:()=>s,__rest:()=>a,__decorate:()=>o,__param:()=>u,__metadata:()=>h,__awaiter:()=>l,__generator:()=>c,__createBinding:()=>f,__exportStar:()=>p,__values:()=>d,__read:()=>y,__spread:()=>v,__spreadArrays:()=>w,__await:()=>g,__asyncGenerator:()=>m,__asyncDelegator:()=>b,__asyncValues:()=>M,__makeTemplateObject:()=>_,__importStar:()=>N,__importDefault:()=>O,__classPrivateFieldGet:()=>k,__classPrivateFieldSet:()=>S});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function o(t,e,n,r){var i,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function h(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,s){function a(t){try{u(r.next(t))}catch(t){s(t)}}function o(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}u((r=r.apply(t,e||[])).next())}))}function c(t,e){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function w(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)r[i]=s[a];return r}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){s.push([t,e,n,r])>1||o(t,e)}))})}function o(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(u,h):l(s[0][2],n)}catch(t){l(s[0][3],t)}var n}function u(t){o("next",t)}function h(t){o("throw",t)}function l(t,e){t(e),s.shift(),s.length&&o(s[0][0],s[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function M(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function N(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function O(t){return t&&t.__esModule?t:{default:t}}function k(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}return n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(607)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY2FsZXh0cmljL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9TY2FsZXh0cmljLy4vbm9kZV9tb2R1bGVzL2ZyYWN0aW9uLmpzL2ZyYWN0aW9uLmpzIiwid2VicGFjazovL1NjYWxleHRyaWMvLi9zcmMvQmltYXAudHMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy8uL3NyYy9IZWxwZXJzLnRzIiwid2VicGFjazovL1NjYWxleHRyaWMvLi9zcmMvSW50ZXJ2YWwudHMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy8uL3NyYy9UdW5pbmcudHMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy8uL3NyYy9UdW5pbmdOb3RhdGlvbi50cyIsIndlYnBhY2s6Ly9TY2FsZXh0cmljLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL1NjYWxleHRyaWMvLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovL1NjYWxleHRyaWMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vU2NhbGV4dHJpYy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL1NjYWxleHRyaWMvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiUCIsImNyZWF0ZUVycm9yIiwibmFtZSIsImVycm9yQ29uc3RydWN0b3IiLCJ0ZW1wIiwiRXJyb3IiLCJhcHBseSIsImFyZ3VtZW50cyIsIkludGVybWVkaWF0ZUluaGVyaXRvciIsInByb3RvdHlwZSIsIkRpdmlzaW9uQnlaZXJvIiwiRnJhY3Rpb24iLCJJbnZhbGlkUGFyYW1ldGVyIiwiYXNzaWduIiwibiIsInMiLCJpc05hTiIsInBhcnNlSW50IiwidGhyb3dJbnZhbGlkUGFyYW0iLCJwYXJzZSIsInAxIiwicDIiLCJNIiwiZCIsInYiLCJ3IiwieCIsInkiLCJ6IiwiQSIsIkIiLCJDIiwiRCIsIk4iLCJ1bmRlZmluZWQiLCJNYXRoIiwicG93IiwiZmxvb3IiLCJsb2ciLCJMTjEwIiwiTmFOIiwibWF0Y2giLCJsZW5ndGgiLCJhYnMiLCJnY2QiLCJhIiwiYiIsInBsYWNlcyIsImNlaWwiLCJyb3VuZCIsIm0iLCJ0IiwiZXBzIiwiY29udCIsInJlYyIsInNsaWNlIiwiaSIsInRtcCIsInZhbHVlT2YiLCJleGNsdWRlV2hvbGUiLCJ3aG9sZSIsInN0ciIsInJlcyIsInB1c2giLCJkZWMiLCJnIiwiY3ljTGVuIiwicmVtIiwiY3ljbGVMZW4iLCJjeWNPZmYiLCJsZW4iLCJyZW0xIiwicmVtMiIsImUiLCJyIiwibW9kcG93IiwiY3ljbGVTdGFydCIsImtleVZhbHVlTWFwIiwiTWFwIiwidmFsdWVLZXlNYXAiLCJTeW1ib2wiLCJpdGVyYXRvciIsImVudHJpZXMiLCJrZXlzIiwidmFsdWVzIiwiZ2V0IiwiZ2V0S2V5IiwiZ2V0VmFsdWUiLCJzZXQiLCJrZXkiLCJ2YWx1ZSIsImRlbGV0ZSIsImRlbGV0ZVZhbHVlIiwic2V0S2V5Iiwic2V0VmFsdWUiLCJjbGVhciIsImhhcyIsImRlbGV0ZUtleSIsImhhc1ZhbHVlIiwiZm9yRWFjaCIsImNhbGxiYWNrZm4iLCJ0aGlzQXJnIiwiaGFzS2V5IiwiaW5zcGVjdCIsImVudHJ5IiwidG9TdHJpbmciLCJzaXplIiwiZmlsdGVyIiwiayIsIkhlbHBlcnMiLCJlc2NhcGVSZWdFeHAiLCJyZXBsYWNlIiwicHJpbWVzIiwibWF4Iiwic2lldmUiLCJqIiwiZmxpcEZyYWN0aW9uIiwiZiIsImdyZWF0ZXJUaGFuT25lIiwiY29tcGFyZSIsImludmVyc2UiLCJiaW5hcnlTZWFyY2giLCJhciIsImVsIiwiY29tcCIsImNtcCIsImFycmF5RXF1YWwiLCJhcjEiLCJhcjIiLCJldmVyeSIsImluZGV4IiwiYXJyYXlVbmlxdWUiLCJTZXQiLCJtb2QiLCJJbnRlcnZhbCIsInJhdGlvIiwibG9nMiIsImxvZzEwIiwicmVmZXJlbmNlIiwiZGl2IiwiY2VudHMiLCJzYXZhcnRzIiwiZnJvbUNlbnRzIiwiVHVuaW5nIiwiaW50ZXJ2YWxzIiwiYW5ub3RhdGlvbnMiLCJzb3J0IiwibWFwIiwiaW50ZXJ2YWwiLCJfdHJhbnNwb3NhYmxlIiwiZmlyc3QiLCJkaWZmZXJlbmNlIiwibmV4dCIsIkpORCIsInN0ZXBzIiwidG9uZSIsInBpdGNoQ2xhc3MiLCJtdWwiLCJvY3RhdmUiLCJiYXNlIiwiVHVuaW5nVG9uZSIsImxvd2VyIiwidXBwZXIiLCJuZWFyZXN0VG9uZSIsIm5lYXJlc3RJbnRlcnZhbCIsInR1bmUiLCJkaXZpc2lvbnMiLCJBcnJheSIsImZyb20iLCJfIiwidHVuaW5nIiwicGl0Y2giLCJUdW5pbmdOb3RhdGlvbiIsInJlZ2V4IiwiUmVnRXhwIiwiam9pbiIsIm5vdGVzIiwiYWNjaWRlbnRhbHMiLCJNdWx0aW1hcCIsIk9iamVjdCIsIm5vdGUiLCJhY2NpZGVudGFsIiwiZXhlYyIsImV4dGVuZFN0YXRpY3MiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fZXh0ZW5kcyIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJfX2Fzc2lnbiIsImNhbGwiLCJfX3Jlc3QiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImRlc2MiLCJjIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiZGVmaW5lUHJvcGVydHkiLCJfX3BhcmFtIiwicGFyYW1JbmRleCIsImRlY29yYXRvciIsIl9fbWV0YWRhdGEiLCJtZXRhZGF0YUtleSIsIm1ldGFkYXRhVmFsdWUiLCJtZXRhZGF0YSIsIl9fYXdhaXRlciIsIl9hcmd1bWVudHMiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiX19nZW5lcmF0b3IiLCJib2R5IiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJvcCIsIlR5cGVFcnJvciIsInBvcCIsIl9fY3JlYXRlQmluZGluZyIsIm8iLCJrMiIsIl9fZXhwb3J0U3RhciIsIl9fdmFsdWVzIiwiX19yZWFkIiwiZXJyb3IiLCJfX3NwcmVhZCIsImNvbmNhdCIsIl9fc3ByZWFkQXJyYXlzIiwiaWwiLCJqbCIsIl9fYXdhaXQiLCJfX2FzeW5jR2VuZXJhdG9yIiwiYXN5bmNJdGVyYXRvciIsInEiLCJyZXN1bWUiLCJmdWxmaWxsIiwic2V0dGxlIiwic2hpZnQiLCJfX2FzeW5jRGVsZWdhdG9yIiwiX19hc3luY1ZhbHVlcyIsIl9fbWFrZVRlbXBsYXRlT2JqZWN0IiwiY29va2VkIiwicmF3IiwiX19pbXBvcnRTdGFyIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfX2ltcG9ydERlZmF1bHQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwicmVjZWl2ZXIiLCJwcml2YXRlTWFwIiwiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkZWZpbml0aW9uIiwiZW51bWVyYWJsZSIsIm9iaiIsInByb3AiLCJ0b1N0cmluZ1RhZyJdLCJtYXBwaW5ncyI6IjtDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxJQUNRLG1CQUFYRyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sR0FB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S0MsSUFBU2pHLE9BQU8xSyxVQUFVa0wsZUFBZU0sS0FBS2tGLEVBQUtDLEdDQ2pGTixFQUFvQnBNLEVBQUsvRSxJQUNILG9CQUFYcUYsUUFBMEJBLE9BQU9xTSxhQUMxQ2xHLE9BQU8yQixlQUFlbk4sRUFBU3FGLE9BQU9xTSxZQUFhLENBQUUzTCxNQUFPLFdBRTdEeUYsT0FBTzJCLGVBQWVuTixFQUFTLGFBQWMsQ0FBRStGLE9BQU8sS0hGaERvTCxFQUFvQixNIiwiZmlsZSI6InNjYWxleHRyaWMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJTY2FsZXh0cmljXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlNjYWxleHRyaWNcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIvKipcbiAqIEBsaWNlbnNlIEZyYWN0aW9uLmpzIHY0LjAuMTIgMDkvMDkvMjAxNVxuICogaHR0cDovL3d3dy54YXJnLm9yZy8yMDE0LzAzL3JhdGlvbmFsLW51bWJlcnMtaW4tamF2YXNjcmlwdC9cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUsIFJvYmVydCBFaXNlbGUgKHJvYmVydEB4YXJnLm9yZylcbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLlxuICoqL1xuXG5cbi8qKlxuICpcbiAqIFRoaXMgY2xhc3Mgb2ZmZXJzIHRoZSBwb3NzaWJpbGl0eSB0byBjYWxjdWxhdGUgZnJhY3Rpb25zLlxuICogWW91IGNhbiBwYXNzIGEgZnJhY3Rpb24gaW4gZGlmZmVyZW50IGZvcm1hdHMuIEVpdGhlciBhcyBhcnJheSwgYXMgZG91YmxlLCBhcyBzdHJpbmcgb3IgYXMgYW4gaW50ZWdlci5cbiAqXG4gKiBBcnJheS9PYmplY3QgZm9ybVxuICogWyAwID0+IDxub21pbmF0b3I+LCAxID0+IDxkZW5vbWluYXRvcj4gXVxuICogWyBuID0+IDxub21pbmF0b3I+LCBkID0+IDxkZW5vbWluYXRvcj4gXVxuICpcbiAqIEludGVnZXIgZm9ybVxuICogLSBTaW5nbGUgaW50ZWdlciB2YWx1ZVxuICpcbiAqIERvdWJsZSBmb3JtXG4gKiAtIFNpbmdsZSBkb3VibGUgdmFsdWVcbiAqXG4gKiBTdHJpbmcgZm9ybVxuICogMTIzLjQ1NiAtIGEgc2ltcGxlIGRvdWJsZVxuICogMTIzLzQ1NiAtIGEgc3RyaW5nIGZyYWN0aW9uXG4gKiAxMjMuJzQ1NicgLSBhIGRvdWJsZSB3aXRoIHJlcGVhdGluZyBkZWNpbWFsIHBsYWNlc1xuICogMTIzLig0NTYpIC0gc3lub255bVxuICogMTIzLjQ1JzYnIC0gYSBkb3VibGUgd2l0aCByZXBlYXRpbmcgbGFzdCBwbGFjZVxuICogMTIzLjQ1KDYpIC0gc3lub255bVxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogdmFyIGYgPSBuZXcgRnJhY3Rpb24oXCI5LjQnMzEnXCIpO1xuICogZi5tdWwoWy00LCAzXSkuZGl2KDQuOSk7XG4gKlxuICovXG5cbihmdW5jdGlvbihyb290KSB7XG5cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLy8gTWF4aW11bSBzZWFyY2ggZGVwdGggZm9yIGN5Y2xpYyByYXRpb25hbCBudW1iZXJzLiAyMDAwIHNob3VsZCBiZSBtb3JlIHRoYW4gZW5vdWdoLlxuICAvLyBFeGFtcGxlOiAxLzcgPSAwLigxNDI4NTcpIGhhcyA2IHJlcGVhdGluZyBkZWNpbWFsIHBsYWNlcy5cbiAgLy8gSWYgTUFYX0NZQ0xFX0xFTiBnZXRzIHJlZHVjZWQsIGxvbmcgY3ljbGVzIHdpbGwgbm90IGJlIGRldGVjdGVkIGFuZCB0b1N0cmluZygpIG9ubHkgZ2V0cyB0aGUgZmlyc3QgMTAgZGlnaXRzXG4gIHZhciBNQVhfQ1lDTEVfTEVOID0gMjAwMDtcblxuICAvLyBQYXJzZWQgZGF0YSB0byBhdm9pZCBjYWxsaW5nIFwibmV3XCIgYWxsIHRoZSB0aW1lXG4gIHZhciBQID0ge1xuICAgIFwic1wiOiAxLFxuICAgIFwiblwiOiAwLFxuICAgIFwiZFwiOiAxXG4gIH07XG5cbiAgZnVuY3Rpb24gY3JlYXRlRXJyb3IobmFtZSkge1xuXG4gICAgZnVuY3Rpb24gZXJyb3JDb25zdHJ1Y3RvcigpIHtcbiAgICAgIHZhciB0ZW1wID0gRXJyb3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHRlbXBbJ25hbWUnXSA9IHRoaXNbJ25hbWUnXSA9IG5hbWU7XG4gICAgICB0aGlzWydzdGFjayddID0gdGVtcFsnc3RhY2snXTtcbiAgICAgIHRoaXNbJ21lc3NhZ2UnXSA9IHRlbXBbJ21lc3NhZ2UnXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJtZWRpYXRlSW5oZXJpdG9yKCkge31cbiAgICBJbnRlcm1lZGlhdGVJbmhlcml0b3IucHJvdG90eXBlID0gRXJyb3IucHJvdG90eXBlO1xuICAgIGVycm9yQ29uc3RydWN0b3IucHJvdG90eXBlID0gbmV3IEludGVybWVkaWF0ZUluaGVyaXRvcigpO1xuXG4gICAgcmV0dXJuIGVycm9yQ29uc3RydWN0b3I7XG4gIH1cblxuICB2YXIgRGl2aXNpb25CeVplcm8gPSBGcmFjdGlvblsnRGl2aXNpb25CeVplcm8nXSA9IGNyZWF0ZUVycm9yKCdEaXZpc2lvbkJ5WmVybycpO1xuICB2YXIgSW52YWxpZFBhcmFtZXRlciA9IEZyYWN0aW9uWydJbnZhbGlkUGFyYW1ldGVyJ10gPSBjcmVhdGVFcnJvcignSW52YWxpZFBhcmFtZXRlcicpO1xuXG4gIGZ1bmN0aW9uIGFzc2lnbihuLCBzKSB7XG5cbiAgICBpZiAoaXNOYU4obiA9IHBhcnNlSW50KG4sIDEwKSkpIHtcbiAgICAgIHRocm93SW52YWxpZFBhcmFtKCk7XG4gICAgfVxuICAgIHJldHVybiBuICogcztcbiAgfVxuXG4gIGZ1bmN0aW9uIHRocm93SW52YWxpZFBhcmFtKCkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkUGFyYW1ldGVyKCk7XG4gIH1cblxuICB2YXIgcGFyc2UgPSBmdW5jdGlvbihwMSwgcDIpIHtcblxuICAgIHZhciBuID0gMCwgZCA9IDEsIHMgPSAxO1xuICAgIHZhciB2ID0gMCwgdyA9IDAsIHggPSAwLCB5ID0gMSwgeiA9IDE7XG5cbiAgICB2YXIgQSA9IDAsIEIgPSAxO1xuICAgIHZhciBDID0gMSwgRCA9IDE7XG5cbiAgICB2YXIgTiA9IDEwMDAwMDAwO1xuICAgIHZhciBNO1xuXG4gICAgaWYgKHAxID09PSB1bmRlZmluZWQgfHwgcDEgPT09IG51bGwpIHtcbiAgICAgIC8qIHZvaWQgKi9cbiAgICB9IGVsc2UgaWYgKHAyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG4gPSBwMTtcbiAgICAgIGQgPSBwMjtcbiAgICAgIHMgPSBuICogZDtcbiAgICB9IGVsc2VcbiAgICAgIHN3aXRjaCAodHlwZW9mIHAxKSB7XG5cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKFwiZFwiIGluIHAxICYmIFwiblwiIGluIHAxKSB7XG4gICAgICAgICAgICBuID0gcDFbXCJuXCJdO1xuICAgICAgICAgICAgZCA9IHAxW1wiZFwiXTtcbiAgICAgICAgICAgIGlmIChcInNcIiBpbiBwMSlcbiAgICAgICAgICAgICAgbiAqPSBwMVtcInNcIl07XG4gICAgICAgICAgfSBlbHNlIGlmICgwIGluIHAxKSB7XG4gICAgICAgICAgICBuID0gcDFbMF07XG4gICAgICAgICAgICBpZiAoMSBpbiBwMSlcbiAgICAgICAgICAgICAgZCA9IHAxWzFdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvd0ludmFsaWRQYXJhbSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzID0gbiAqIGQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKHAxIDwgMCkge1xuICAgICAgICAgICAgcyA9IHAxO1xuICAgICAgICAgICAgcDEgPSAtcDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHAxICUgMSA9PT0gMCkge1xuICAgICAgICAgICAgbiA9IHAxO1xuICAgICAgICAgIH0gZWxzZSBpZiAocDEgPiAwKSB7IC8vIGNoZWNrIGZvciAhPSAwLCBzY2FsZSB3b3VsZCBiZWNvbWUgTmFOIChsb2coMCkpLCB3aGljaCBjb252ZXJnZXMgcmVhbGx5IHNsb3dcblxuICAgICAgICAgICAgaWYgKHAxID49IDEpIHtcbiAgICAgICAgICAgICAgeiA9IE1hdGgucG93KDEwLCBNYXRoLmZsb29yKDEgKyBNYXRoLmxvZyhwMSkgLyBNYXRoLkxOMTApKTtcbiAgICAgICAgICAgICAgcDEgLz0gejtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXNpbmcgRmFyZXkgU2VxdWVuY2VzXG4gICAgICAgICAgICAvLyBodHRwOi8vd3d3LmpvaG5kY29vay5jb20vYmxvZy8yMDEwLzEwLzIwL2Jlc3QtcmF0aW9uYWwtYXBwcm94aW1hdGlvbi9cblxuICAgICAgICAgICAgd2hpbGUgKEIgPD0gTiAmJiBEIDw9IE4pIHtcbiAgICAgICAgICAgICAgTSA9IChBICsgQykgLyAoQiArIEQpO1xuXG4gICAgICAgICAgICAgIGlmIChwMSA9PT0gTSkge1xuICAgICAgICAgICAgICAgIGlmIChCICsgRCA8PSBOKSB7XG4gICAgICAgICAgICAgICAgICBuID0gQSArIEM7XG4gICAgICAgICAgICAgICAgICBkID0gQiArIEQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChEID4gQikge1xuICAgICAgICAgICAgICAgICAgbiA9IEM7XG4gICAgICAgICAgICAgICAgICBkID0gRDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgbiA9IEE7XG4gICAgICAgICAgICAgICAgICBkID0gQjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGlmIChwMSA+IE0pIHtcbiAgICAgICAgICAgICAgICAgIEEgKz0gQztcbiAgICAgICAgICAgICAgICAgIEIgKz0gRDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgQyArPSBBO1xuICAgICAgICAgICAgICAgICAgRCArPSBCO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChCID4gTikge1xuICAgICAgICAgICAgICAgICAgbiA9IEM7XG4gICAgICAgICAgICAgICAgICBkID0gRDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgbiA9IEE7XG4gICAgICAgICAgICAgICAgICBkID0gQjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG4gKj0gejtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTmFOKHAxKSB8fCBpc05hTihwMikpIHtcbiAgICAgICAgICAgIGQgPSBuID0gTmFOO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgIHtcbiAgICAgICAgICBCID0gcDEubWF0Y2goL1xcZCt8Li9nKTtcblxuICAgICAgICAgIGlmIChCID09PSBudWxsKVxuICAgICAgICAgICAgdGhyb3dJbnZhbGlkUGFyYW0oKTtcblxuICAgICAgICAgIGlmIChCW0FdID09PSAnLScpIHsvLyBDaGVjayBmb3IgbWludXMgc2lnbiBhdCB0aGUgYmVnaW5uaW5nXG4gICAgICAgICAgICBzID0gLTE7XG4gICAgICAgICAgICBBKys7XG4gICAgICAgICAgfSBlbHNlIGlmIChCW0FdID09PSAnKycpIHsvLyBDaGVjayBmb3IgcGx1cyBzaWduIGF0IHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICAgIEErKztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoQi5sZW5ndGggPT09IEEgKyAxKSB7IC8vIENoZWNrIGlmIGl0J3MganVzdCBhIHNpbXBsZSBudW1iZXIgXCIxMjM0XCJcbiAgICAgICAgICAgIHcgPSBhc3NpZ24oQltBKytdLCBzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKEJbQSArIDFdID09PSAnLicgfHwgQltBXSA9PT0gJy4nKSB7IC8vIENoZWNrIGlmIGl0J3MgYSBkZWNpbWFsIG51bWJlclxuXG4gICAgICAgICAgICBpZiAoQltBXSAhPT0gJy4nKSB7IC8vIEhhbmRsZSAwLjUgYW5kIC41XG4gICAgICAgICAgICAgIHYgPSBhc3NpZ24oQltBKytdLCBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEErKztcblxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGRlY2ltYWwgcGxhY2VzXG4gICAgICAgICAgICBpZiAoQSArIDEgPT09IEIubGVuZ3RoIHx8IEJbQSArIDFdID09PSAnKCcgJiYgQltBICsgM10gPT09ICcpJyB8fCBCW0EgKyAxXSA9PT0gXCInXCIgJiYgQltBICsgM10gPT09IFwiJ1wiKSB7XG4gICAgICAgICAgICAgIHcgPSBhc3NpZ24oQltBXSwgcyk7XG4gICAgICAgICAgICAgIHkgPSBNYXRoLnBvdygxMCwgQltBXS5sZW5ndGgpO1xuICAgICAgICAgICAgICBBKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGZvciByZXBlYXRpbmcgcGxhY2VzXG4gICAgICAgICAgICBpZiAoQltBXSA9PT0gJygnICYmIEJbQSArIDJdID09PSAnKScgfHwgQltBXSA9PT0gXCInXCIgJiYgQltBICsgMl0gPT09IFwiJ1wiKSB7XG4gICAgICAgICAgICAgIHggPSBhc3NpZ24oQltBICsgMV0sIHMpO1xuICAgICAgICAgICAgICB6ID0gTWF0aC5wb3coMTAsIEJbQSArIDFdLmxlbmd0aCkgLSAxO1xuICAgICAgICAgICAgICBBICs9IDM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKEJbQSArIDFdID09PSAnLycgfHwgQltBICsgMV0gPT09ICc6JykgeyAvLyBDaGVjayBmb3IgYSBzaW1wbGUgZnJhY3Rpb24gXCIxMjMvNDU2XCIgb3IgXCIxMjM6NDU2XCJcbiAgICAgICAgICAgIHcgPSBhc3NpZ24oQltBXSwgcyk7XG4gICAgICAgICAgICB5ID0gYXNzaWduKEJbQSArIDJdLCAxKTtcbiAgICAgICAgICAgIEEgKz0gMztcbiAgICAgICAgICB9IGVsc2UgaWYgKEJbQSArIDNdID09PSAnLycgJiYgQltBICsgMV0gPT09ICcgJykgeyAvLyBDaGVjayBmb3IgYSBjb21wbGV4IGZyYWN0aW9uIFwiMTIzIDEvMlwiXG4gICAgICAgICAgICB2ID0gYXNzaWduKEJbQV0sIHMpO1xuICAgICAgICAgICAgdyA9IGFzc2lnbihCW0EgKyAyXSwgcyk7XG4gICAgICAgICAgICB5ID0gYXNzaWduKEJbQSArIDRdLCAxKTtcbiAgICAgICAgICAgIEEgKz0gNTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoQi5sZW5ndGggPD0gQSkgeyAvLyBDaGVjayBmb3IgbW9yZSB0b2tlbnMgb24gdGhlIHN0YWNrXG4gICAgICAgICAgICBkID0geSAqIHo7XG4gICAgICAgICAgICBzID0gLyogdm9pZCAqL1xuICAgICAgICAgICAgICAgICAgICBuID0geCArIGQgKiB2ICsgeiAqIHc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKiBGYWxsIHRocm91Z2ggb24gZXJyb3IgKi9cbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93SW52YWxpZFBhcmFtKCk7XG4gICAgICB9XG5cbiAgICBpZiAoZCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IERpdmlzaW9uQnlaZXJvKCk7XG4gICAgfVxuXG4gICAgUFtcInNcIl0gPSBzIDwgMCA/IC0xIDogMTtcbiAgICBQW1wiblwiXSA9IE1hdGguYWJzKG4pO1xuICAgIFBbXCJkXCJdID0gTWF0aC5hYnMoZCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbW9kcG93KGIsIGUsIG0pIHtcblxuICAgIHZhciByID0gMTtcbiAgICBmb3IgKDsgZSA+IDA7IGIgPSAoYiAqIGIpICUgbSwgZSA+Pj0gMSkge1xuXG4gICAgICBpZiAoZSAmIDEpIHtcbiAgICAgICAgciA9IChyICogYikgJSBtO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gY3ljbGVMZW4obiwgZCkge1xuXG4gICAgZm9yICg7IGQgJSAyID09PSAwO1xuICAgICAgICAgICAgZCAvPSAyKSB7XG4gICAgfVxuXG4gICAgZm9yICg7IGQgJSA1ID09PSAwO1xuICAgICAgICAgICAgZCAvPSA1KSB7XG4gICAgfVxuXG4gICAgaWYgKGQgPT09IDEpIC8vIENhdGNoIG5vbi1jeWNsaWMgbnVtYmVyc1xuICAgICAgcmV0dXJuIDA7XG5cbiAgICAvLyBJZiB3ZSB3b3VsZCBsaWtlIHRvIGNvbXB1dGUgcmVhbGx5IGxhcmdlIG51bWJlcnMgcXVpY2tlciwgd2UgY291bGQgbWFrZSB1c2Ugb2YgRmVybWF0J3MgbGl0dGxlIHRoZW9yZW06XG4gICAgLy8gMTBeKGQtMSkgJSBkID09IDFcbiAgICAvLyBIb3dldmVyLCB3ZSBkb24ndCBuZWVkIHN1Y2ggbGFyZ2UgbnVtYmVycyBhbmQgTUFYX0NZQ0xFX0xFTiBzaG91bGQgYmUgdGhlIGNhcHN0b25lLFxuICAgIC8vIGFzIHdlIHdhbnQgdG8gdHJhbnNsYXRlIHRoZSBudW1iZXJzIHRvIHN0cmluZ3MuXG5cbiAgICB2YXIgcmVtID0gMTAgJSBkO1xuICAgIHZhciB0ID0gMTtcblxuICAgIGZvciAoOyByZW0gIT09IDE7IHQrKykge1xuICAgICAgcmVtID0gcmVtICogMTAgJSBkO1xuXG4gICAgICBpZiAodCA+IE1BWF9DWUNMRV9MRU4pXG4gICAgICAgIHJldHVybiAwOyAvLyBSZXR1cm5pbmcgMCBoZXJlIG1lYW5zIHRoYXQgd2UgZG9uJ3QgcHJpbnQgaXQgYXMgYSBjeWNsaWMgbnVtYmVyLiBJdCdzIGxpa2VseSB0aGF0IHRoZSBhbnN3ZXIgaXMgYGQtMWBcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG4gIH1cblxuXG4gICAgIGZ1bmN0aW9uIGN5Y2xlU3RhcnQobiwgZCwgbGVuKSB7XG5cbiAgICB2YXIgcmVtMSA9IDE7XG4gICAgdmFyIHJlbTIgPSBtb2Rwb3coMTAsIGxlbiwgZCk7XG5cbiAgICBmb3IgKHZhciB0ID0gMDsgdCA8IDMwMDsgdCsrKSB7IC8vIHMgPCB+bG9nMTAoTnVtYmVyLk1BWF9WQUxVRSlcbiAgICAgIC8vIFNvbHZlIDEwXnMgPT0gMTBeKHMrdCkgKG1vZCBkKVxuXG4gICAgICBpZiAocmVtMSA9PT0gcmVtMilcbiAgICAgICAgcmV0dXJuIHQ7XG5cbiAgICAgIHJlbTEgPSByZW0xICogMTAgJSBkO1xuICAgICAgcmVtMiA9IHJlbTIgKiAxMCAlIGQ7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2NkKGEsIGIpIHtcblxuICAgIGlmICghYSlcbiAgICAgIHJldHVybiBiO1xuICAgIGlmICghYilcbiAgICAgIHJldHVybiBhO1xuXG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIGEgJT0gYjtcbiAgICAgIGlmICghYSlcbiAgICAgICAgcmV0dXJuIGI7XG4gICAgICBiICU9IGE7XG4gICAgICBpZiAoIWIpXG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogTW9kdWxlIGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge251bWJlcnxGcmFjdGlvbj19IGFcbiAgICogQHBhcmFtIHtudW1iZXI9fSBiXG4gICAqL1xuICBmdW5jdGlvbiBGcmFjdGlvbihhLCBiKSB7XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRnJhY3Rpb24pKSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKGEsIGIpO1xuICAgIH1cblxuICAgIHBhcnNlKGEsIGIpO1xuXG4gICAgaWYgKEZyYWN0aW9uWydSRURVQ0UnXSkge1xuICAgICAgYSA9IGdjZChQW1wiZFwiXSwgUFtcIm5cIl0pOyAvLyBBYnVzZSBhXG4gICAgfSBlbHNlIHtcbiAgICAgIGEgPSAxO1xuICAgIH1cblxuICAgIHRoaXNbXCJzXCJdID0gUFtcInNcIl07XG4gICAgdGhpc1tcIm5cIl0gPSBQW1wiblwiXSAvIGE7XG4gICAgdGhpc1tcImRcIl0gPSBQW1wiZFwiXSAvIGE7XG4gIH1cblxuICAvKipcbiAgICogQm9vbGVhbiBnbG9iYWwgdmFyaWFibGUgdG8gYmUgYWJsZSB0byBkaXNhYmxlIGF1dG9tYXRpYyByZWR1Y3Rpb24gb2YgdGhlIGZyYWN0aW9uXG4gICAqXG4gICAqL1xuICBGcmFjdGlvblsnUkVEVUNFJ10gPSAxO1xuXG4gIEZyYWN0aW9uLnByb3RvdHlwZSA9IHtcblxuICAgIFwic1wiOiAxLFxuICAgIFwiblwiOiAwLFxuICAgIFwiZFwiOiAxLFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgYWJzb2x1dGUgdmFsdWVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oLTQpLmFicygpID0+IDRcbiAgICAgKiovXG4gICAgXCJhYnNcIjogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24odGhpc1tcIm5cIl0sIHRoaXNbXCJkXCJdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW52ZXJ0cyB0aGUgc2lnbiBvZiB0aGUgY3VycmVudCBmcmFjdGlvblxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigtNCkubmVnKCkgPT4gNFxuICAgICAqKi9cbiAgICBcIm5lZ1wiOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbigtdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSwgdGhpc1tcImRcIl0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKHtuOiAyLCBkOiAzfSkuYWRkKFwiMTQuOVwiKSA9PiA0NjcgLyAzMFxuICAgICAqKi9cbiAgICBcImFkZFwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihcbiAgICAgICAgICAgICAgdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdICsgUFtcInNcIl0gKiB0aGlzW1wiZFwiXSAqIFBbXCJuXCJdLFxuICAgICAgICAgICAgICB0aGlzW1wiZFwiXSAqIFBbXCJkXCJdXG4gICAgICAgICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0cyB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbih7bjogMiwgZDogM30pLmFkZChcIjE0LjlcIikgPT4gLTQyNyAvIDMwXG4gICAgICoqL1xuICAgIFwic3ViXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICAgICAgICB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdICogUFtcImRcIl0gLSBQW1wic1wiXSAqIHRoaXNbXCJkXCJdICogUFtcIm5cIl0sXG4gICAgICAgICAgICAgIHRoaXNbXCJkXCJdICogUFtcImRcIl1cbiAgICAgICAgICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIi0xNy4oMzQ1KVwiKS5tdWwoMykgPT4gNTc3NiAvIDExMVxuICAgICAqKi9cbiAgICBcIm11bFwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihcbiAgICAgICAgICAgICAgdGhpc1tcInNcIl0gKiBQW1wic1wiXSAqIHRoaXNbXCJuXCJdICogUFtcIm5cIl0sXG4gICAgICAgICAgICAgIHRoaXNbXCJkXCJdICogUFtcImRcIl1cbiAgICAgICAgICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGl2aWRlcyB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIi0xNy4oMzQ1KVwiKS5pbnZlcnNlKCkuZGl2KDMpXG4gICAgICoqL1xuICAgIFwiZGl2XCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICAgICAgICB0aGlzW1wic1wiXSAqIFBbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSxcbiAgICAgICAgICAgICAgdGhpc1tcImRcIl0gKiBQW1wiblwiXVxuICAgICAgICAgICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIGFjdHVhbCBvYmplY3RcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCItMTcuKDM0NSlcIikuY2xvbmUoKVxuICAgICAqKi9cbiAgICBcImNsb25lXCI6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih0aGlzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbW9kdWxvIG9mIHR3byByYXRpb25hbCBudW1iZXJzIC0gYSBtb3JlIHByZWNpc2UgZm1vZFxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbignNC4oMyknKS5tb2QoWzcsIDhdKSA9PiAoMTMvMykgJSAoNy84KSA9ICg1LzYpXG4gICAgICoqL1xuICAgIFwibW9kXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbJ24nXSkgfHwgaXNOYU4odGhpc1snZCddKSkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE5hTik7XG4gICAgICB9XG5cbiAgICAgIGlmIChhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdICUgdGhpc1tcImRcIl0sIDEpO1xuICAgICAgfVxuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIGlmICgwID09PSBQW1wiblwiXSAmJiAwID09PSB0aGlzW1wiZFwiXSkge1xuICAgICAgICBGcmFjdGlvbigwLCAwKTsgLy8gVGhyb3cgRGl2aXNpb25CeVplcm9cbiAgICAgIH1cblxuICAgICAgLypcbiAgICAgICAqIEZpcnN0IHNpbGx5IGF0dGVtcHQsIGtpbmRhIHNsb3dcbiAgICAgICAqXG4gICAgICAgcmV0dXJuIHRoYXRbXCJzdWJcIl0oe1xuICAgICAgIFwiblwiOiBudW1bXCJuXCJdICogTWF0aC5mbG9vcigodGhpcy5uIC8gdGhpcy5kKSAvIChudW0ubiAvIG51bS5kKSksXG4gICAgICAgXCJkXCI6IG51bVtcImRcIl0sXG4gICAgICAgXCJzXCI6IHRoaXNbXCJzXCJdXG4gICAgICAgfSk7Ki9cblxuICAgICAgLypcbiAgICAgICAqIE5ldyBhdHRlbXB0OiBhMSAvIGIxID0gYTIgLyBiMiAqIHEgKyByXG4gICAgICAgKiA9PiBiMiAqIGExID0gYTIgKiBiMSAqIHEgKyBiMSAqIGIyICogclxuICAgICAgICogPT4gKGIyICogYTEgJSBhMiAqIGIxKSAvIChiMSAqIGIyKVxuICAgICAgICovXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICAgICAgICB0aGlzW1wic1wiXSAqIChQW1wiZFwiXSAqIHRoaXNbXCJuXCJdKSAlIChQW1wiblwiXSAqIHRoaXNbXCJkXCJdKSxcbiAgICAgICAgICAgICAgUFtcImRcIl0gKiB0aGlzW1wiZFwiXVxuICAgICAgICAgICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBmcmFjdGlvbmFsIGdjZCBvZiB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbig1LDgpLmdjZCgzLDcpID0+IDEvNTZcbiAgICAgKi9cbiAgICBcImdjZFwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuXG4gICAgICAvLyBnY2QoYSAvIGIsIGMgLyBkKSA9IGdjZChhLCBjKSAvIGxjbShiLCBkKVxuXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKGdjZChQW1wiblwiXSwgdGhpc1tcIm5cIl0pICogZ2NkKFBbXCJkXCJdLCB0aGlzW1wiZFwiXSksIFBbXCJkXCJdICogdGhpc1tcImRcIl0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBmcmFjdGlvbmFsIGxjbSBvZiB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbig1LDgpLmxjbSgzLDcpID0+IDE1XG4gICAgICovXG4gICAgXCJsY21cIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcblxuICAgICAgLy8gbGNtKGEgLyBiLCBjIC8gZCkgPSBsY20oYSwgYykgLyBnY2QoYiwgZClcblxuICAgICAgaWYgKFBbXCJuXCJdID09PSAwICYmIHRoaXNbXCJuXCJdID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb247XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFBbXCJuXCJdICogdGhpc1tcIm5cIl0sIGdjZChQW1wiblwiXSwgdGhpc1tcIm5cIl0pICogZ2NkKFBbXCJkXCJdLCB0aGlzW1wiZFwiXSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBjZWlsIG9mIGEgcmF0aW9uYWwgbnVtYmVyXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKCc0LigzKScpLmNlaWwoKSA9PiAoNSAvIDEpXG4gICAgICoqL1xuICAgIFwiY2VpbFwiOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbXCJuXCJdKSB8fCBpc05hTih0aGlzW1wiZFwiXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihOYU4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihNYXRoLmNlaWwocGxhY2VzICogdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAvIHRoaXNbXCJkXCJdKSwgcGxhY2VzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZmxvb3Igb2YgYSByYXRpb25hbCBudW1iZXJcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oJzQuKDMpJykuZmxvb3IoKSA9PiAoNCAvIDEpXG4gICAgICoqL1xuICAgIFwiZmxvb3JcIjogZnVuY3Rpb24ocGxhY2VzKSB7XG5cbiAgICAgIHBsYWNlcyA9IE1hdGgucG93KDEwLCBwbGFjZXMgfHwgMCk7XG5cbiAgICAgIGlmIChpc05hTih0aGlzW1wiblwiXSkgfHwgaXNOYU4odGhpc1tcImRcIl0pKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTmFOKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTWF0aC5mbG9vcihwbGFjZXMgKiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl0pLCBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3VuZHMgYSByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKCc0LigzKScpLnJvdW5kKCkgPT4gKDQgLyAxKVxuICAgICAqKi9cbiAgICBcInJvdW5kXCI6IGZ1bmN0aW9uKHBsYWNlcykge1xuXG4gICAgICBwbGFjZXMgPSBNYXRoLnBvdygxMCwgcGxhY2VzIHx8IDApO1xuXG4gICAgICBpZiAoaXNOYU4odGhpc1tcIm5cIl0pIHx8IGlzTmFOKHRoaXNbXCJkXCJdKSkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE5hTik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE1hdGgucm91bmQocGxhY2VzICogdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAvIHRoaXNbXCJkXCJdKSwgcGxhY2VzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW52ZXJzZSBvZiB0aGUgZnJhY3Rpb24sIG1lYW5zIG51bWVyYXRvciBhbmQgZGVudW1lcmF0b3IgYXJlIGV4Y2hhbmdlZFxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihbLTMsIDRdKS5pbnZlcnNlKCkgPT4gLTQgLyAzXG4gICAgICoqL1xuICAgIFwiaW52ZXJzZVwiOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih0aGlzW1wic1wiXSAqIHRoaXNbXCJkXCJdLCB0aGlzW1wiblwiXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGZyYWN0aW9uIHRvIHNvbWUgaW50ZWdlciBleHBvbmVudFxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigtMSwyKS5wb3coLTMpID0+IC04XG4gICAgICovXG4gICAgXCJwb3dcIjogZnVuY3Rpb24obSkge1xuXG4gICAgICBpZiAobSA8IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihNYXRoLnBvdyh0aGlzWydzJ10gKiB0aGlzW1wiZFwiXSwgLW0pLCBNYXRoLnBvdyh0aGlzW1wiblwiXSwgLW0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTWF0aC5wb3codGhpc1sncyddICogdGhpc1tcIm5cIl0sIG0pLCBNYXRoLnBvdyh0aGlzW1wiZFwiXSwgbSkpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0d28gcmF0aW9uYWwgbnVtYmVycyBhcmUgdGhlIHNhbWVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oMTkuNikuZXF1YWxzKFs5OCwgNV0pO1xuICAgICAqKi9cbiAgICBcImVxdWFsc1wiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSA9PT0gUFtcInNcIl0gKiBQW1wiblwiXSAqIHRoaXNbXCJkXCJdOyAvLyBTYW1lIGFzIGNvbXBhcmUoKSA9PT0gMFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0d28gcmF0aW9uYWwgbnVtYmVycyBhcmUgdGhlIHNhbWVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oMTkuNikuZXF1YWxzKFs5OCwgNV0pO1xuICAgICAqKi9cbiAgICBcImNvbXBhcmVcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHZhciB0ID0gKHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSAtIFBbXCJzXCJdICogUFtcIm5cIl0gKiB0aGlzW1wiZFwiXSk7XG4gICAgICByZXR1cm4gKDAgPCB0KSAtICh0IDwgMCk7XG4gICAgfSxcblxuICAgIFwic2ltcGxpZnlcIjogZnVuY3Rpb24oZXBzKSB7XG5cbiAgICAgIC8vIEZpcnN0IG5haXZlIGltcGxlbWVudGF0aW9uLCBuZWVkcyBpbXByb3ZlbWVudFxuXG4gICAgICBpZiAoaXNOYU4odGhpc1snbiddKSB8fCBpc05hTih0aGlzWydkJ10pKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udCA9IHRoaXNbJ2FicyddKClbJ3RvQ29udGludWVkJ10oKTtcblxuICAgICAgZXBzID0gZXBzIHx8IDAuMDAxO1xuXG4gICAgICBmdW5jdGlvbiByZWMoYSkge1xuICAgICAgICBpZiAoYS5sZW5ndGggPT09IDEpXG4gICAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihhWzBdKTtcbiAgICAgICAgcmV0dXJuIHJlYyhhLnNsaWNlKDEpKVsnaW52ZXJzZSddKClbJ2FkZCddKGFbMF0pO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRtcCA9IHJlYyhjb250LnNsaWNlKDAsIGkgKyAxKSk7XG4gICAgICAgIGlmICh0bXBbJ3N1YiddKHRoaXNbJ2FicyddKCkpWydhYnMnXSgpLnZhbHVlT2YoKSA8IGVwcykge1xuICAgICAgICAgIHJldHVybiB0bXBbJ211bCddKHRoaXNbJ3MnXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0d28gcmF0aW9uYWwgbnVtYmVycyBhcmUgZGl2aXNpYmxlXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDE5LjYpLmRpdmlzaWJsZSgxLjUpO1xuICAgICAqL1xuICAgIFwiZGl2aXNpYmxlXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gISghKFBbXCJuXCJdICogdGhpc1tcImRcIl0pIHx8ICgodGhpc1tcIm5cIl0gKiBQW1wiZFwiXSkgJSAoUFtcIm5cIl0gKiB0aGlzW1wiZFwiXSkpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGRlY2ltYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIGZyYWN0aW9uXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiMTAwLic5MTgyMydcIikudmFsdWVPZigpID0+IDEwMC45MTgyMzkxODIzOTE4M1xuICAgICAqKi9cbiAgICAndmFsdWVPZic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAvIHRoaXNbXCJkXCJdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nLWZyYWN0aW9uIHJlcHJlc2VudGF0aW9uIG9mIGEgRnJhY3Rpb24gb2JqZWN0XG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiMS4nMydcIikudG9GcmFjdGlvbigpID0+IFwiNCAxLzNcIlxuICAgICAqKi9cbiAgICAndG9GcmFjdGlvbic6IGZ1bmN0aW9uKGV4Y2x1ZGVXaG9sZSkge1xuXG4gICAgICB2YXIgd2hvbGUsIHN0ciA9IFwiXCI7XG4gICAgICB2YXIgbiA9IHRoaXNbXCJuXCJdO1xuICAgICAgdmFyIGQgPSB0aGlzW1wiZFwiXTtcbiAgICAgIGlmICh0aGlzW1wic1wiXSA8IDApIHtcbiAgICAgICAgc3RyICs9ICctJztcbiAgICAgIH1cblxuICAgICAgaWYgKGQgPT09IDEpIHtcbiAgICAgICAgc3RyICs9IG47XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIGlmIChleGNsdWRlV2hvbGUgJiYgKHdob2xlID0gTWF0aC5mbG9vcihuIC8gZCkpID4gMCkge1xuICAgICAgICAgIHN0ciArPSB3aG9sZTtcbiAgICAgICAgICBzdHIgKz0gXCIgXCI7XG4gICAgICAgICAgbiAlPSBkO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RyICs9IG47XG4gICAgICAgIHN0ciArPSAnLyc7XG4gICAgICAgIHN0ciArPSBkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxhdGV4IHJlcHJlc2VudGF0aW9uIG9mIGEgRnJhY3Rpb24gb2JqZWN0XG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiMS4nMydcIikudG9MYXRleCgpID0+IFwiXFxmcmFjezR9ezN9XCJcbiAgICAgKiovXG4gICAgJ3RvTGF0ZXgnOiBmdW5jdGlvbihleGNsdWRlV2hvbGUpIHtcblxuICAgICAgdmFyIHdob2xlLCBzdHIgPSBcIlwiO1xuICAgICAgdmFyIG4gPSB0aGlzW1wiblwiXTtcbiAgICAgIHZhciBkID0gdGhpc1tcImRcIl07XG4gICAgICBpZiAodGhpc1tcInNcIl0gPCAwKSB7XG4gICAgICAgIHN0ciArPSAnLSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChkID09PSAxKSB7XG4gICAgICAgIHN0ciArPSBuO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBpZiAoZXhjbHVkZVdob2xlICYmICh3aG9sZSA9IE1hdGguZmxvb3IobiAvIGQpKSA+IDApIHtcbiAgICAgICAgICBzdHIgKz0gd2hvbGU7XG4gICAgICAgICAgbiAlPSBkO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RyICs9IFwiXFxcXGZyYWN7XCI7XG4gICAgICAgIHN0ciArPSBuO1xuICAgICAgICBzdHIgKz0gJ317JztcbiAgICAgICAgc3RyICs9IGQ7XG4gICAgICAgIHN0ciArPSAnfSc7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGNvbnRpbnVlZCBmcmFjdGlvbiBlbGVtZW50c1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIjcvOFwiKS50b0NvbnRpbnVlZCgpID0+IFswLDEsN11cbiAgICAgKi9cbiAgICAndG9Db250aW51ZWQnOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHQ7XG4gICAgICB2YXIgYSA9IHRoaXNbJ24nXTtcbiAgICAgIHZhciBiID0gdGhpc1snZCddO1xuICAgICAgdmFyIHJlcyA9IFtdO1xuXG4gICAgICBpZiAoaXNOYU4odGhpc1snbiddKSB8fCBpc05hTih0aGlzWydkJ10pKSB7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG5cbiAgICAgIGRvIHtcbiAgICAgICAgcmVzLnB1c2goTWF0aC5mbG9vcihhIC8gYikpO1xuICAgICAgICB0ID0gYSAlIGI7XG4gICAgICAgIGEgPSBiO1xuICAgICAgICBiID0gdDtcbiAgICAgIH0gd2hpbGUgKGEgIT09IDEpO1xuXG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgZnJhY3Rpb24gd2l0aCBhbGwgZGlnaXRzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiMTAwLic5MTgyMydcIikudG9TdHJpbmcoKSA9PiBcIjEwMC4oOTE4MjMpXCJcbiAgICAgKiovXG4gICAgJ3RvU3RyaW5nJzogZnVuY3Rpb24oZGVjKSB7XG5cbiAgICAgIHZhciBnO1xuICAgICAgdmFyIE4gPSB0aGlzW1wiblwiXTtcbiAgICAgIHZhciBEID0gdGhpc1tcImRcIl07XG5cbiAgICAgIGlmIChpc05hTihOKSB8fCBpc05hTihEKSkge1xuICAgICAgICByZXR1cm4gXCJOYU5cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFGcmFjdGlvblsnUkVEVUNFJ10pIHtcbiAgICAgICAgZyA9IGdjZChOLCBEKTtcbiAgICAgICAgTiAvPSBnO1xuICAgICAgICBEIC89IGc7XG4gICAgICB9XG5cbiAgICAgIGRlYyA9IGRlYyB8fCAxNTsgLy8gMTUgPSBkZWNpbWFsIHBsYWNlcyB3aGVuIG5vIHJlcGl0YXRpb25cblxuICAgICAgdmFyIGN5Y0xlbiA9IGN5Y2xlTGVuKE4sIEQpOyAvLyBDeWNsZSBsZW5ndGhcbiAgICAgIHZhciBjeWNPZmYgPSBjeWNsZVN0YXJ0KE4sIEQsIGN5Y0xlbik7IC8vIEN5Y2xlIHN0YXJ0XG5cbiAgICAgIHZhciBzdHIgPSB0aGlzWydzJ10gPT09IC0xID8gXCItXCIgOiBcIlwiO1xuXG4gICAgICBzdHIgKz0gTiAvIEQgfCAwO1xuXG4gICAgICBOICU9IEQ7XG4gICAgICBOICo9IDEwO1xuXG4gICAgICBpZiAoTilcbiAgICAgICAgc3RyICs9IFwiLlwiO1xuXG4gICAgICBpZiAoY3ljTGVuKSB7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGN5Y09mZjsgaS0tOyApIHtcbiAgICAgICAgICBzdHIgKz0gTiAvIEQgfCAwO1xuICAgICAgICAgIE4gJT0gRDtcbiAgICAgICAgICBOICo9IDEwO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSBcIihcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IGN5Y0xlbjsgaS0tOyApIHtcbiAgICAgICAgICBzdHIgKz0gTiAvIEQgfCAwO1xuICAgICAgICAgIE4gJT0gRDtcbiAgICAgICAgICBOICo9IDEwO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSBcIilcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSBkZWM7IE4gJiYgaS0tOyApIHtcbiAgICAgICAgICBzdHIgKz0gTiAvIEQgfCAwO1xuICAgICAgICAgIE4gJT0gRDtcbiAgICAgICAgICBOICo9IDEwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgfTtcblxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZVtcImFtZFwiXSkge1xuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gRnJhY3Rpb247XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsndmFsdWUnOiB0cnVlfSk7XG4gICAgRnJhY3Rpb25bJ2RlZmF1bHQnXSA9IEZyYWN0aW9uO1xuICAgIEZyYWN0aW9uWydGcmFjdGlvbiddID0gRnJhY3Rpb247XG4gICAgbW9kdWxlWydleHBvcnRzJ10gPSBGcmFjdGlvbjtcbiAgfSBlbHNlIHtcbiAgICByb290WydGcmFjdGlvbiddID0gRnJhY3Rpb247XG4gIH1cblxufSkodGhpcyk7XG4iLCIvKipcbiAqIEJJRElSRUNUSU9OQUwgTUFQXG4gKlxuICogQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9UaG9tYXNSb29uZXkvdHlwZWQtYmktZGlyZWN0aW9uYWwtbWFwXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUJpbWFwPEssIFY+IGV4dGVuZHMgTWFwPEssIFY+IHtcbiAgcmVhZG9ubHkgc2l6ZTogbnVtYmVyOyAvLyByZXR1cm5zIHRoZSB0b3RhbCBudW1iZXIgb2YgZWxlbWVudHNcbiAgZ2V0OiAoa2V5OiBLKSA9PiBWIHwgdW5kZWZpbmVkOyAvLyByZXR1cm5zIGEgc3BlY2lmaWVkIGVsZW1lbnRcbiAgZ2V0S2V5OiAodmFsdWU6IFYpID0+IEsgfCBLW10gfCB1bmRlZmluZWQ7IC8vIHJldHVybnMgYSBzcGVjaWZpZWQgZWxlbWVudFxuICBnZXRWYWx1ZTogKGtleTogSykgPT4gViB8IHVuZGVmaW5lZDsgLy8gcmV0dXJucyBhIHNwZWNpZmllZCBlbGVtZW50XG4gIHNldDogKGtleTogSywgdmFsdWU6IFYpID0+IHRoaXM7IC8vIGFkZHMgb3IgdXBkYXRlcyB0aGUgdmFsdWUgb2YgYW4gZWxlbWVudCBsb29rZWQgdXAgdmlhIHRoZSBzcGVjaWZpZWQga2V5XG4gIHNldFZhbHVlOiAoa2V5OiBLLCB2YWx1ZTogVikgPT4gdGhpczsgLy8gYWRkcyBvciB1cGRhdGVzIHRoZSBrZXkgb2YgYW4gZWxlbWVudCBsb29rZWQgdXAgdmlhIHRoZSBzcGVjaWZpZWQgdmFsdWVcbiAgc2V0S2V5OiAodmFsdWU6IFYsIGtleTogSykgPT4gdGhpczsgLy8gYWRkcyBvciB1cGRhdGVzIHRoZSB2YWx1ZSBvZiBhbiBlbGVtZW50IGxvb2tlZCB1cCB2aWEgdGhlIHNwZWNpZmllZCBrZXlcbiAgY2xlYXI6ICgpID0+IHZvaWQ7IC8vIHJlbW92ZXMgYWxsIGVsZW1lbnRzXG4gIGRlbGV0ZTogKGtleTogSykgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgZXhpc3RlZCBhbmQgaGFzIGJlZW4gcmVtb3ZlZCwgb3IgZmFsc2UgaWYgdGhlIGVsZW1lbnQgZG9lcyBub3QgZXhpc3QuXG4gIGRlbGV0ZUtleTogKGtleTogSykgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgZXhpc3RlZCBhbmQgaGFzIGJlZW4gcmVtb3ZlZCwgb3IgZmFsc2UgaWYgdGhlIGVsZW1lbnQgZG9lcyBub3QgZXhpc3QuXG4gIGRlbGV0ZVZhbHVlOiAodmFsdWU6IFYpID0+IGJvb2xlYW47IC8vIFJldHVybnMgdHJ1ZSBpZiBhbiBlbGVtZW50IGV4aXN0ZWQgYW5kIGhhcyBiZWVuIHJlbW92ZWQsIG9yIGZhbHNlIGlmIHRoZSBlbGVtZW50IGRvZXMgbm90IGV4aXN0LlxuICBmb3JFYWNoOiAoXG4gICAgY2FsbGJhY2tmbjogKHZhbHVlOiBWLCBrZXk6IEssIG1hcDogSUJpbWFwPEssIFY+KSA9PiB2b2lkLFxuICAgIHRoaXNBcmc/OiBhbnlcbiAgKSA9PiB2b2lkOyAvLyBleGVjdXRlcyB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgb25jZSBmb3IgZWFjaCBrZXkgb2YgdGhlIG1hcFxuICBoYXM6IChrZXk6IEspID0+IGJvb2xlYW47IC8vIFJldHVybnMgdHJ1ZSBpZiBhbiBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBrZXkgZXhpc3RzOyBvdGhlcndpc2UgZmFsc2UuXG4gIGhhc0tleTogKGtleTogSykgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGtleSBleGlzdHM7IG90aGVyd2lzZSBmYWxzZS5cbiAgaGFzVmFsdWU6ICh2YWx1ZTogVikgPT4gYm9vbGVhbjsgLy8gUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIHZhbHVlIGV4aXN0czsgb3RoZXJ3aXNlIGZhbHNlLlxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ01hcCc7IC8vIEFueXRoaW5nIGltcGxlbWVudGluZyBNYXAgbXVzdCBhbHdheXMgaGF2ZSB0b1N0cmluZ1RhZyBkZWNsYXJlZCB0byBiZSAnTWFwJy4gSSBjb25zaWRlciB0aGlzIGEgbGl0dGxlIHNpbGx5LlxuICBpbnNwZWN0OiAoKSA9PiBzdHJpbmc7IC8vIEEgdXRpbGl0eSBmdW5jdGlvbiB0byBpbnNwZWN0IGN1cnJlbnQgY29udGVudHMgYXMgYSBzdHJpbmdcbn1cblxuLyoqXG4gKiBCaW1hcCB3aXRob3V0IGR1cGxpY2F0ZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCaW1hcDxLLCBWPiBpbXBsZW1lbnRzIElCaW1hcDxLLCBWPiB7XG4gIHByb3RlY3RlZCBrZXlWYWx1ZU1hcDogTWFwPEssIFY+ID0gbmV3IE1hcDxLLCBWPigpO1xuICBwcm90ZWN0ZWQgdmFsdWVLZXlNYXA6IE1hcDxWLCBLPiA9IG5ldyBNYXA8ViwgSz4oKTtcblxuICBnZXQgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5rZXlWYWx1ZU1hcC5zaXplO1xuICB9XG5cbiAgLyogdHNsaW50OmRpc2FibGUgbWVtYmVyLW9yZGVyaW5nICovXG4gIHB1YmxpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ01hcCc7XG4gIHB1YmxpYyBbU3ltYm9sLml0ZXJhdG9yXTogKCkgPT4gSXRlcmFibGVJdGVyYXRvcjxbSywgVl0+ID0gdGhpcy5rZXlWYWx1ZU1hcFtTeW1ib2wuaXRlcmF0b3JdO1xuICAvKiB0c2xpbnQ6ZW5hYmxlICovXG5cbiAgcHVibGljIGVudHJpZXMgPSAoKSA9PiB0aGlzLmtleVZhbHVlTWFwLmVudHJpZXMoKTtcbiAgcHVibGljIGtleXMgPSAoKSA9PiB0aGlzLmtleVZhbHVlTWFwLmtleXMoKTtcbiAgcHVibGljIHZhbHVlcyA9ICgpID0+IHRoaXMua2V5VmFsdWVNYXAudmFsdWVzKCk7XG5cbiAgcHVibGljIGdldCA9IChhOiBLKTogViB8IHVuZGVmaW5lZCA9PiB0aGlzLmtleVZhbHVlTWFwLmdldChhKTtcbiAgcHVibGljIGdldEtleSA9IChiOiBWKTogSyB8IHVuZGVmaW5lZCA9PiB0aGlzLnZhbHVlS2V5TWFwLmdldChiKTtcbiAgcHVibGljIGdldFZhbHVlID0gKGE6IEspOiBWIHwgdW5kZWZpbmVkID0+IHRoaXMuZ2V0KGEpO1xuICBwdWJsaWMgc2V0ID0gKGtleTogSywgdmFsdWU6IFYpID0+IHtcbiAgICAvLyBNYWtlIHN1cmUgbm8gZHVwbGljYXRlcy4gT3VyIGNvbmZsaWN0IHNjZW5hcmlvIGlzIGhhbmRsZWQgYnkgZGVsZXRpbmcgcG90ZW50aWFsIGR1cGxpY2F0ZXMsIGluIGZhdm91ciBvZiB0aGUgY3VycmVudCBhcmd1bWVudHNcbiAgICB0aGlzLmRlbGV0ZShrZXkpO1xuICAgIHRoaXMuZGVsZXRlVmFsdWUodmFsdWUpO1xuXG4gICAgdGhpcy5rZXlWYWx1ZU1hcC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgdGhpcy52YWx1ZUtleU1hcC5zZXQodmFsdWUsIGtleSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgcHVibGljIHNldEtleSA9ICh2YWx1ZTogViwga2V5OiBLKSA9PiB0aGlzLnNldChrZXksIHZhbHVlKTtcbiAgcHVibGljIHNldFZhbHVlID0gKGtleTogSywgdmFsdWU6IFYpID0+IHRoaXMuc2V0KGtleSwgdmFsdWUpO1xuICBwdWJsaWMgY2xlYXIgPSAoKSA9PiB7XG4gICAgdGhpcy5rZXlWYWx1ZU1hcC5jbGVhcigpO1xuICAgIHRoaXMudmFsdWVLZXlNYXAuY2xlYXIoKTtcbiAgfTtcbiAgcHVibGljIGRlbGV0ZSA9IChrZXk6IEspID0+IHtcbiAgICBpZiAodGhpcy5oYXMoa2V5KSkge1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmtleVZhbHVlTWFwLmdldChrZXkpIGFzIFY7XG4gICAgICB0aGlzLmtleVZhbHVlTWFwLmRlbGV0ZShrZXkpO1xuICAgICAgdGhpcy52YWx1ZUtleU1hcC5kZWxldGUodmFsdWUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgcHVibGljIGRlbGV0ZUtleSA9IChrZXk6IEspID0+IHRoaXMuZGVsZXRlKGtleSk7XG4gIHB1YmxpYyBkZWxldGVWYWx1ZSA9ICh2YWx1ZTogVikgPT4ge1xuICAgIGlmICh0aGlzLmhhc1ZhbHVlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlKHRoaXMudmFsdWVLZXlNYXAuZ2V0KHZhbHVlKSBhcyBLKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBwdWJsaWMgZm9yRWFjaCA9IChcbiAgICBjYWxsYmFja2ZuOiAodmFsdWU6IFYsIGtleTogSywgbWFwOiBJQmltYXA8SywgVj4pID0+IHZvaWQsXG4gICAgdGhpc0FyZz86IGFueVxuICApID0+IHtcbiAgICB0aGlzLmtleVZhbHVlTWFwLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIGNhbGxiYWNrZm4uYXBwbHkodGhpc0FyZywgW3ZhbHVlLCBrZXksIHRoaXNdKTtcbiAgICB9KTtcbiAgfTtcbiAgcHVibGljIGhhcyA9IChrZXk6IEspID0+IHRoaXMua2V5VmFsdWVNYXAuaGFzKGtleSk7XG4gIHB1YmxpYyBoYXNLZXkgPSAoa2V5OiBLKSA9PiB0aGlzLmhhcyhrZXkpO1xuICBwdWJsaWMgaGFzVmFsdWUgPSAodmFsdWU6IFYpID0+IHRoaXMudmFsdWVLZXlNYXAuaGFzKHZhbHVlKTtcbiAgcHVibGljIGluc3BlY3QgPSAoKSA9PiB7XG4gICAgbGV0IHN0ciA9ICdCaW1hcCB7JztcbiAgICBsZXQgZW50cnkgPSAwO1xuICAgIHRoaXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgZW50cnkrKztcbiAgICAgIHN0ciArPSAnJyArIGtleS50b1N0cmluZygpICsgJyA9PiAnICsgdmFsdWUudG9TdHJpbmcoKSArICcnO1xuICAgICAgaWYgKGVudHJ5IDwgdGhpcy5zaXplKSB7XG4gICAgICAgIHN0ciArPSAnLCAnO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHN0ciArPSAnfSc7XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbn1cblxuLyoqXG4gKiBCaW1hcCB3aXRoIG11bHRpcGxlIHZhbHVlcyBwZXIga2V5LlxuICovXG5leHBvcnQgY2xhc3MgTXVsdGltYXA8SywgVj4gaW1wbGVtZW50cyBJQmltYXA8SywgVj4ge1xuICBwcm90ZWN0ZWQga2V5VmFsdWVNYXA6IE1hcDxLLCBWPiA9IG5ldyBNYXA8SywgVj4oKTtcbiAgcHJvdGVjdGVkIHZhbHVlS2V5TWFwOiBNYXA8ViwgS1tdPiA9IG5ldyBNYXA8ViwgS1tdPigpO1xuXG4gIGdldCBzaXplKCkge1xuICAgIHJldHVybiB0aGlzLmtleVZhbHVlTWFwLnNpemU7XG4gIH1cblxuICAvKiB0c2xpbnQ6ZGlzYWJsZSBtZW1iZXItb3JkZXJpbmcgKi9cbiAgcHVibGljIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnTWFwJztcbiAgcHVibGljIFtTeW1ib2wuaXRlcmF0b3JdOiAoKSA9PiBJdGVyYWJsZUl0ZXJhdG9yPFtLLCBWXT4gPSB0aGlzLmtleVZhbHVlTWFwW1N5bWJvbC5pdGVyYXRvcl07XG4gIC8qIHRzbGludDplbmFibGUgKi9cblxuICBwdWJsaWMgZW50cmllcyA9ICgpID0+IHRoaXMua2V5VmFsdWVNYXAuZW50cmllcygpO1xuICBwdWJsaWMga2V5cyA9ICgpID0+IHRoaXMua2V5VmFsdWVNYXAua2V5cygpO1xuICBwdWJsaWMgdmFsdWVzID0gKCkgPT4gdGhpcy5rZXlWYWx1ZU1hcC52YWx1ZXMoKTtcblxuICBwdWJsaWMgZ2V0ID0gKGE6IEspOiBWIHwgdW5kZWZpbmVkID0+IHRoaXMua2V5VmFsdWVNYXAuZ2V0KGEpO1xuICBwdWJsaWMgZ2V0S2V5ID0gKGI6IFYpOiBLW10gfCB1bmRlZmluZWQgPT4gdGhpcy52YWx1ZUtleU1hcC5nZXQoYik7XG4gIHB1YmxpYyBnZXRWYWx1ZSA9IChhOiBLKTogViB8IHVuZGVmaW5lZCA9PiB0aGlzLmdldChhKTtcbiAgcHVibGljIHNldCA9IChrZXk6IEssIHZhbHVlOiBWKSA9PiB7XG4gICAgdGhpcy5kZWxldGUoa2V5KTtcbiAgICB0aGlzLmtleVZhbHVlTWFwLnNldChrZXksIHZhbHVlKTtcblxuICAgIGNvbnN0IGtleXMgPSB0aGlzLnZhbHVlS2V5TWFwLmdldCh2YWx1ZSkgfHwgW107XG4gICAgdGhpcy52YWx1ZUtleU1hcC5zZXQodmFsdWUsIFsuLi5rZXlzLCBrZXldKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBwdWJsaWMgc2V0S2V5ID0gKHZhbHVlOiBWLCBrZXk6IEspID0+IHRoaXMuc2V0KGtleSwgdmFsdWUpO1xuICBwdWJsaWMgc2V0VmFsdWUgPSAoa2V5OiBLLCB2YWx1ZTogVikgPT4gdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XG4gIHB1YmxpYyBjbGVhciA9ICgpID0+IHtcbiAgICB0aGlzLmtleVZhbHVlTWFwLmNsZWFyKCk7XG4gICAgdGhpcy52YWx1ZUtleU1hcC5jbGVhcigpO1xuICB9O1xuICBwdWJsaWMgZGVsZXRlID0gKGtleTogSykgPT4ge1xuICAgIGlmICh0aGlzLmhhcyhrZXkpKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMua2V5VmFsdWVNYXAuZ2V0KGtleSkgYXMgVjtcbiAgICAgIHRoaXMua2V5VmFsdWVNYXAuZGVsZXRlKGtleSk7XG4gICAgICBjb25zdCBrZXlzID0gdGhpcy52YWx1ZUtleU1hcC5nZXQodmFsdWUpLmZpbHRlcihrID0+IGsgIT09IGtleSk7XG4gICAgICBpZiAoa2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMudmFsdWVLZXlNYXAuc2V0KHZhbHVlLCBrZXlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudmFsdWVLZXlNYXAuZGVsZXRlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIHB1YmxpYyBkZWxldGVLZXkgPSAoa2V5OiBLKSA9PiB0aGlzLmRlbGV0ZShrZXkpO1xuICBwdWJsaWMgZGVsZXRlVmFsdWUgPSAodmFsdWU6IFYpID0+IHtcbiAgICBpZiAodGhpcy5oYXNWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIHRoaXMudmFsdWVLZXlNYXAuZ2V0KHZhbHVlKS5mb3JFYWNoKGtleSA9PiB7IHRoaXMuZGVsZXRlKGtleSk7IH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgcHVibGljIGZvckVhY2ggPSAoXG4gICAgY2FsbGJhY2tmbjogKHZhbHVlOiBWLCBrZXk6IEssIG1hcDogSUJpbWFwPEssIFY+KSA9PiB2b2lkLFxuICAgIHRoaXNBcmc/OiBhbnlcbiAgKSA9PiB7XG4gICAgdGhpcy5rZXlWYWx1ZU1hcC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICBjYWxsYmFja2ZuLmFwcGx5KHRoaXNBcmcsIFt2YWx1ZSwga2V5LCB0aGlzXSk7XG4gICAgfSk7XG4gIH07XG4gIHB1YmxpYyBoYXMgPSAoa2V5OiBLKSA9PiB0aGlzLmtleVZhbHVlTWFwLmhhcyhrZXkpO1xuICBwdWJsaWMgaGFzS2V5ID0gKGtleTogSykgPT4gdGhpcy5oYXMoa2V5KTtcbiAgcHVibGljIGhhc1ZhbHVlID0gKHZhbHVlOiBWKSA9PiB0aGlzLnZhbHVlS2V5TWFwLmhhcyh2YWx1ZSk7XG4gIHB1YmxpYyBpbnNwZWN0ID0gKCkgPT4ge1xuICAgIGxldCBzdHIgPSAnTXVsdGltYXAgeyc7XG4gICAgbGV0IGVudHJ5ID0gMDtcbiAgICB0aGlzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIGVudHJ5Kys7XG4gICAgICBzdHIgKz0gJycgKyBrZXkudG9TdHJpbmcoKSArICcgPT4gJyArIHZhbHVlLnRvU3RyaW5nKCkgKyAnJztcbiAgICAgIGlmIChlbnRyeSA8IHRoaXMuc2l6ZSkge1xuICAgICAgICBzdHIgKz0gJywgJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzdHIgKz0gJ30nO1xuICAgIHJldHVybiBzdHI7XG4gIH07XG59XG4iLCJpbXBvcnQgRnJhY3Rpb24gZnJvbSAnZnJhY3Rpb24uanMnO1xuXG5leHBvcnQgbmFtZXNwYWNlIEhlbHBlcnMge1xuICAvKipcbiAgICogRXNjYXBlIGEgc3RyaW5nIHRvIGJlIHVzZWQgaW4gcmVndWxhciBleHByZXNzaW9uLlxuICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L0d1aWRlL1JlZ3VsYXJfRXhwcmVzc2lvbnNcbiAgICpcbiAgICogQHBhcmFtIHN0cjogc3RyaW5nIHRvIGVzY2FwZVxuICAgKiBAcmV0dXJucyBlc2NhcGVkLCBSZWdFeHAtcmVhZHkgc3RyaW5nXG4gICAqL1xuICBleHBvcnQgZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJyk7IC8vICQmIG1lYW5zIHRoZSB3aG9sZSBtYXRjaGVkIHN0cmluZ1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBwcmltZXMgdXAgdG8gYSBnaXZlbiBpbnRlZ2VyLlxuICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTIyODc1OTkvMjA5MTg0XG4gICAqIFVzZXMgdGhlIFNpZXZlIG9mIEVyYXRvc3RoZW5lcyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TaWV2ZV9vZl9FcmF0b3N0aGVuZXNcbiAgICpcbiAgICogQHBhcmFtIG1heDogbnVtYmVyIHRvIHJlYWNoXG4gICAqIEByZXR1cm5zIGFsbCBwcmltZXMgdXAgdG8gbWF4XG4gICAqL1xuICBleHBvcnQgZnVuY3Rpb24gcHJpbWVzKG1heDogbnVtYmVyKTogbnVtYmVyW10ge1xuICAgIGNvbnN0IHNpZXZlOiBib29sZWFuW10gPSBbXSwgcHJpbWVzOiBudW1iZXJbXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAyOyBpIDw9IG1heDsgKytpKSB7XG4gICAgICBpZiAoIXNpZXZlW2ldKSB7XG4gICAgICAgIC8vIGkgaGFzIG5vdCBiZWVuIG1hcmtlZCAtLSBpdCBpcyBwcmltZVxuICAgICAgICBwcmltZXMucHVzaChpKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IGkgPDwgMTsgaiA8PSBtYXg7IGogKz0gaSkge1xuICAgICAgICAgICBzaWV2ZVtqXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByaW1lcztcbiAgfVxuXG4gIC8qKlxuICAgKiBFbnN1cmUgYSB8ZnJhY3Rpb258IDwgMSBvciA+IDEuXG4gICAqL1xuICBleHBvcnQgZnVuY3Rpb24gZmxpcEZyYWN0aW9uKGY6IEZyYWN0aW9uLCBncmVhdGVyVGhhbk9uZTogYm9vbGVhbiA9IGZhbHNlKTogRnJhY3Rpb24ge1xuICAgIHJldHVybiBncmVhdGVyVGhhbk9uZSA/XG4gICAgICAoZi5hYnMoKS5jb21wYXJlKDEpIDwgMCA/IGYuaW52ZXJzZSgpIDogZikgOlxuICAgICAgKGYuYWJzKCkuY29tcGFyZSgxKSA+IDAgPyBmLmludmVyc2UoKSA6IGYpIDtcbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5hcnkgc2VhcmNoIGluIGFuIGFycmF5LlxuICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjkwMTg3NDUvMjA5MTg0XG4gICAqXG4gICAqIEBwYXJhbSBhcjogZWxlbWVudHMgYXJyYXkgdGhhdCBpcyBzb3J0ZWRcbiAgICogQHBhcmFtIGVsOiB0YXJnZXQgZWxlbWVudFxuICAgKiBAcGFyYW0gY29tcDogY29tcGFyaXNvbiBmdW5jdGlvbiAoYSxiKSA9PiBuIHdpdGhcbiAgICogICAgICAgIG4gPiAwIGlmIGEgPiBiXG4gICAqICAgICAgICBuIDwgMCBpZiBhIDwgYlxuICAgKiAgICAgICAgbiA9IDAgaWYgYSA9IGJcbiAgICogQHJldHVybnMgaW5kZXggbSA+PSAwIGlmIG1hdGNoIGlzIGZvdW5kLCBtIDwgMCBpZiBub3QgZm91bmQgd2l0aCBpbnNlcnRpb24gcG9pbnQgPSAtbS0xLlxuICAgKi9cbiAgZXhwb3J0IGZ1bmN0aW9uIGJpbmFyeVNlYXJjaDxUPihhcjogQXJyYXk8VD4sIGVsOiBULCBjb21wOiAoYTogVCwgYjogVCkgPT4gbnVtYmVyKTogbnVtYmVyIHtcbiAgICBsZXQgbSA9IDA7XG4gICAgbGV0IG4gPSBhci5sZW5ndGggLSAxO1xuICAgIHdoaWxlIChtIDw9IG4pIHtcbiAgICAgIGNvbnN0IGsgPSAobiArIG0pID4+IDE7XG4gICAgICBjb25zdCBjbXAgPSBjb21wKGVsLCBhcltrXSk7XG4gICAgICBpZiAoY21wID4gMCkge1xuICAgICAgICBtID0gayArIDE7XG4gICAgICB9IGVsc2UgaWYgKGNtcCA8IDApIHtcbiAgICAgICAgbiA9IGsgLSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB+bTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBhcnJheSBlcXVhbGl0eS5cbiAgICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzc4Mzc0NTYvMjA5MTg0XG4gICAqL1xuICBleHBvcnQgZnVuY3Rpb24gYXJyYXlFcXVhbDxUPihhcjE6IEFycmF5PFQ+LCBhcjI6IEFycmF5PFQ+LCBjb21wOiAoYTogVCwgYjogVCkgPT4gbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIGFyMS5sZW5ndGggPT09IGFyMi5sZW5ndGggJiZcbiAgICAgIGFyMS5ldmVyeSgodmFsdWUsIGluZGV4KSA9PiBjb21wKHZhbHVlLCBhcjJbaW5kZXhdKSA9PT0gMClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhcnJheSB3aXRoIHVuaXF1ZSB2YWx1ZXMuXG4gICAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzkwMzAxOC8yMDkxODRcbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBhcnJheVVuaXF1ZTxUPihhcjogQXJyYXk8VD4pOiBBcnJheTxUPiB7XG4gICAgcmV0dXJuIFsuLi5uZXcgU2V0KGFyKV07XG4gIH1cblxuICAvKipcbiAgICogQWx3YXlzLXBvc2l0aXZlIE1vZHVsbyBmdW5jdGlvbi4gVGhlIGJ1aWx0LWluICUgb3BlcmF0b3IgY29tcHV0ZXMgdGhlIFJlbWFpbmRlci5cbiAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL1JlbWFpbmRlclxuICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTczMjM2MDgvMjA5MTg0XG4gICAqL1xuICBleHBvcnQgZnVuY3Rpb24gbW9kKG46IG51bWJlciwgbTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gKChuICUgbSkgKyBtKSAlIG07XG4gIH1cbn1cbiIsImltcG9ydCBGcmFjdGlvbiBmcm9tICdmcmFjdGlvbi5qcyc7XG5cbi8qKlxuICogSU5URVJWQUxTXG4gKlxuICogVGhlIGludGVydmFsIGlzIHRoZSBiYXNpYyBidWlsZGluZyBibG9jayBvZiBtdXNpYy5cbiAqIEl0IGlzIHRoZSBkaWZmZXJlbmNlIGluIHBpdGNoIGJldHdlZW4gdHdvIHNvdW5kcy5cbiAqXG4gKiBJdCBjYW4gYmUgcmVwcmVzZW50ZWQgYXM6XG4gKiAtIGEgZnJlcXVlbmN5IHJhdGlvXG4gKiAtIGEgbnVtYmVyIG9mIGNlbnRzICgxLzEwMCBvZiBhbiBlcXVhbGx5IHRlbXBlcmVkIHNlbWl0b25lKVxuICogLSBhIG51bWJlciBvZiBzYXZhcnRzIChodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TYXZhcnQpXG4gKiAtIC4uLmFuZCBtb3JlXG4gKlxuICogSXQgY2FuIGFsc28gYmUgbmFtZWQsIGRlcGVuZGluZyBvbiB0aGUgbm9tZW5jbGF0dXJlIGJlaW5nIHVzZWQuXG4gKlxuICovXG5leHBvcnQgY2xhc3MgSW50ZXJ2YWwge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmF0aW86IEZyYWN0aW9uKSB7fVxuICBnZXQgY2VudHMoKSB7IHJldHVybiAxMjAwICogTWF0aC5sb2cyKHRoaXMucmF0aW8udmFsdWVPZigpKTsgfVxuICBnZXQgc2F2YXJ0cygpIHsgcmV0dXJuIDEwMDAgKiBNYXRoLmxvZzEwKHRoaXMucmF0aW8udmFsdWVPZigpKTsgfVxuICBkaWZmZXJlbmNlKHJlZmVyZW5jZTogSW50ZXJ2YWwpIHsgcmV0dXJuIG5ldyBJbnRlcnZhbCh0aGlzLnJhdGlvLmRpdihyZWZlcmVuY2UucmF0aW8pKTsgfVxuICBzdGF0aWMgZnJvbVJhdGlvKHJhdGlvOiBzdHJpbmcpIHsgcmV0dXJuIG5ldyBJbnRlcnZhbChuZXcgRnJhY3Rpb24ocmF0aW8pKTsgfVxuICBzdGF0aWMgZnJvbUNlbnRzKGNlbnRzOiBudW1iZXIpIHsgcmV0dXJuIG5ldyBJbnRlcnZhbChuZXcgRnJhY3Rpb24oTWF0aC5wb3coMiwgY2VudHMgLyAxMjAwKSkpOyB9XG4gIHN0YXRpYyBmcm9tU2F2YXJ0cyhzYXZhcnRzOiBudW1iZXIpIHsgcmV0dXJuIG5ldyBJbnRlcnZhbChuZXcgRnJhY3Rpb24oTWF0aC5wb3coMTAsIHNhdmFydHMgLyAxMDAwKSkpOyB9XG4gIHN0YXRpYyBjb21wYXJlKGE6IEludGVydmFsLCBiOiBJbnRlcnZhbCkgeyByZXR1cm4gYS5yYXRpby5jb21wYXJlKGIucmF0aW8pOyB9XG4gIHN0YXRpYyBKTkQoKSB7IHJldHVybiBJbnRlcnZhbC5mcm9tQ2VudHMoNSkgfTtcbn1cbiIsImltcG9ydCBGcmFjdGlvbiBmcm9tICdmcmFjdGlvbi5qcyc7XG5pbXBvcnQge0hlbHBlcnN9IGZyb20gJy4vSGVscGVycyc7XG5pbXBvcnQge0ludGVydmFsfSBmcm9tICcuL0ludGVydmFsJztcbmltcG9ydCB7QW5ub3RhdGlvbn0gZnJvbSAnLi9Bbm5vdGF0aW9uJztcblxuLyoqXG4gKiBUVU5JTkcgU1lTVEVNXG4gKlxuICogR2l2ZW4gYSByZWZlcmVuY2UgdG9uZSBhbmQgYSB0YXJnZXQgdG9uZSwgYSB0dW5pbmcgcmV0dXJucyB0aGUgcmF0aW8gYmV0d2VlbiB0aGVtLlxuICpcbiAqIFRoZSBmdW5kYW1lbnRhbCBpbnRlcnZhbCBpcyAyLzEgYmV0d2VlbiB0aGUgYmFzZSB0b25lIGFuZCBpdHMgb2N0YXZlLlxuICogT3RoZXIgdG9uZXMgc3ViZGl2aWRlIHRoZSBvY3RhdmUgaW50ZXJ2YWwuIEEgZmluaXRlIG51bWJlciBvZiB0b25lcyBOIG1ha2UgdXAgdGhlIHR1bmluZy5cbiAqIFRvbmVzIGFyZSBpbmRleGVkIGFjY29yZGluZyB0byB0aGVpciByYW5rIGluIHRoZSBvcmRlcmVkIHNlcXVlbmNlIG9mIHJhdGlvc1xuICogdG9uZSAwID0+IHJhdGlvIDEgKHVuaXNvbilcbiAqIHRvbmUgMSA9PiByYXRpbyAxLmFiYyAoZmlyc3QgaW50ZXJ2YWwpXG4gKiB0b25lIDIgPT4gcmF0aW8gMS5kZWYgKHNlY29uZCBpbnRlcnZhbClcbiAqIC4uLlxuICogdG9uZSBOLTIgPT4gcmF0aW8gMS54eXogKG5leHQtdG8tbGFzdCBpbnRlcnZhbClcbiAqIHRvbmUgTi0xID0+IHJhdGlvIDIgKG9jdGF2ZSlcbiAqXG4gKiBUb25lcyBjYW4gZXh0ZW5kIGJleW9uZCB0aGUgb2N0YXZlXG4gKiBlLmcuIHRvbmUgTisxIGlzIGVxdWl2YWxlbnQgdG8gdG9uZSAxLCBidXQgb25lIG9jdGF2ZSBoaWdoZXIuXG4gKiBJbiBhZGRpdGlvbiB0byByZXByZXNlbnRpbmcgYSB0b25lIGFzIGFib3ZlLCB3ZSBjYW4gcmVwcmVzZW50IGl0IGJ5IGl0cyBcImdlbmVyYXRvclwiOlxuICogLSBpdHMgcGl0Y2ggY2xhc3MgcGMg4oiIIFswLCBOLTFdXG4gKiAtIGl0cyBvY3RhdmUgbyDiiIgg4oSkXG4gKiBzdWNoIHRoYXQgdCA9IHBjKHQpICsgTiAqIG8odClcbiAqL1xuZXhwb3J0IGNsYXNzIFR1bmluZyB7XG4gIC8qKlxuICAgKiBDT05TVFJVQ1RPUlxuICAgKlxuICAgKiBAcGFyYW0gaW50ZXJ2YWxzOiB0dW5pbmcgaW50ZXJ2YWxzXG4gICAqIFRoZSBpbnRlcnZhbHMgd2lsbCBiZSBndWFyYW50ZWVkIHRvIGJlIHNvcnRlZC5cbiAgICogVGhlIGZpcnN0IGludGVydmFsIHdpbGwgYmUgZ3VhcmFudGVlZCB0byBiZSB0aGUgdW5pc29uLlxuICAgKiBUaGUgbGFzdCBpbnRlcnZhbCB3aWxsIGJlIGNvbnNpZGVyZWQgdG8gYmUgdGhlIHJlcGVhdGVyIChlLmcuIDIvMSB0aGUgb2N0YXZlKS5cbiAgICogQHBhcmFtIGFubm90YXRpb25zOiBub3RlcyBhYm91dCB0aGUgdHVuaW5nXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgaW50ZXJ2YWxzOiBJbnRlcnZhbFtdLCBwdWJsaWMgYW5ub3RhdGlvbnM6IEFubm90YXRpb25bXSA9IFtdKSB7XG4gICAgdGhpcy5pbnRlcnZhbHMuc29ydChJbnRlcnZhbC5jb21wYXJlKTtcbiAgICBpZiAodGhpcy5pbnRlcnZhbHNbMF0ucmF0aW8udmFsdWVPZigpICE9IDEpIHtcbiAgICAgIHRoaXMuaW50ZXJ2YWxzID0gW25ldyBJbnRlcnZhbChuZXcgRnJhY3Rpb24oMSkpLCAuLi50aGlzLmludGVydmFsc107XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHR1bmluZyBmcm9tIHJhdGlvcyBvciBjZW50cy5cbiAgICpcbiAgICogQHBhcmFtIGludGVydmFsczogYW4gYXJyYXkgb2YgcmF0aW9zIGV4cHJlc3NlZCBhcyBzdHJpbmdzLCBvciBjZW50cyBleHByZXNzZWQgYXMgbnVtYmVyc1xuICAgKiBAcGFyYW0gYW5ub3RhdGlvbnM6IGFzIHBlciBjb25zdHJ1Y3RvclxuICAgKiBAcmV0dXJucyB0dW5pbmcgb2JqZWN0XG4gICAqL1xuICBzdGF0aWMgZnJvbUludGVydmFscyhpbnRlcnZhbHM6IChudW1iZXJ8c3RyaW5nKVtdLCBhbm5vdGF0aW9uczogQW5ub3RhdGlvbltdID0gW10pIHtcbiAgICByZXR1cm4gbmV3IFR1bmluZyhpbnRlcnZhbHMubWFwKGludGVydmFsID0+IHtcbiAgICAgIGlmICh0eXBlb2YgaW50ZXJ2YWwgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnZhbChuZXcgRnJhY3Rpb24oaW50ZXJ2YWwpKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gSW50ZXJ2YWwuZnJvbUNlbnRzKGludGVydmFsKTtcbiAgICAgIH1cbiAgICB9KSwgYW5ub3RhdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIElTIEEgVFVOSU5HIFRSQU5TUE9TQUJMRT9cbiAgICpcbiAgICogQSB0dW5pbmcgaXMgZnVsbHkgdHJhbnNwb3NhYmxlIGlmIGFsbCBvZiBpdHMgaW50ZXJ2YWwgZGlmZmVyZW5jZXMgYXJlIGVxdWFsLlxuICAgKiBXZSB3aWxsIGNvbnNpZGVyIGVxdWFsaXR5IHRvIGJlIHdpdGhpbiB0aGUgcmFuZ2Ugb2YgdGhlIFwianVzdCBub3RpY2VhYmxlXCIgaW50ZXJ2YWwgKDUgY2VudHMpLlxuICAgKi9cbiAgcHJpdmF0ZSBfdHJhbnNwb3NhYmxlOiBib29sZWFuO1xuICBnZXQgdHJhbnNwb3NhYmxlKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLl90cmFuc3Bvc2FibGUgIT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuX3RyYW5zcG9zYWJsZTtcblxuICAgIGNvbnN0IGZpcnN0OiBJbnRlcnZhbCA9IHRoaXMuaW50ZXJ2YWxzWzFdLmRpZmZlcmVuY2UodGhpcy5pbnRlcnZhbHNbMF0pO1xuICAgIHJldHVybiAodGhpcy5fdHJhbnNwb3NhYmxlID0gdGhpcy5pbnRlcnZhbHMuc2xpY2UoMSkuZXZlcnkoKHYsIGkpID0+IHtcbiAgICAgIGNvbnN0IG5leHQ6IEludGVydmFsID0gdi5kaWZmZXJlbmNlKHRoaXMuaW50ZXJ2YWxzW2ldKTtcbiAgICAgIGNvbnN0IGRpZmY6IEludGVydmFsID0gbmV3IEludGVydmFsKEhlbHBlcnMuZmxpcEZyYWN0aW9uKG5leHQuZGlmZmVyZW5jZShmaXJzdCkucmF0aW8sIHRydWUpKTtcbiAgICAgIHJldHVybiBkaWZmLnJhdGlvLmNvbXBhcmUoSW50ZXJ2YWwuSk5EKCkucmF0aW8pIDwgMDtcbiAgICB9KSk7XG4gIH1cblxuICAvKipcbiAgICogU1RFUFMgT0YgQSBUVU5JTkdcbiAgICpcbiAgICogQHJldHVybnMgY291bnQgb2YgdG9uZXMgaW4gdGhlIHR1bmluZ1xuICAgKi9cbiAgZ2V0IHN0ZXBzKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJ2YWxzLmxlbmd0aCAtIDE7XG4gIH1cblxuICAvKipcbiAgICogT0NUQVZFIE9GIEEgVFVOSU5HXG4gICAqXG4gICAqIEByZXR1cm5zIHRoZSBsYXN0IGludGVydmFsIGluIHRoZSB0dW5pbmcsIHdoaWNoIGlzIGNvbnNpZGVyZWQgdG8gYmUgdGhlIG9jdGF2ZVxuICAgKi9cbiAgZ2V0IG9jdGF2ZSgpOiBJbnRlcnZhbCB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJ2YWxzW3RoaXMuc3RlcHNdO1xuICB9XG5cbiAgLyoqXG4gICAqIFRVTkUgQSBUT05FXG4gICAqXG4gICAqIEBwYXJhbSB0b25lOiB0b25lIHRvIGJlIHR1bmVkXG4gICAqIEByZXR1cm5zIGZyZXF1ZW5jeSByYXRpbyBvZiB0aGUgdG9uZSB3aXRoIHJlc3BlY3QgdG8gcm9vdCB0b25lXG4gICAqL1xuICB0dW5lKHRvbmU6IFR1bmluZ1RvbmUpOiBJbnRlcnZhbCB7XG4gICAgLy8gR2V0IHRoZSByYXRpbyBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHRhcmdldCB0b25lIGFuZCB0aGUgcm9vdCB0b25lLCByYWlzZWQgdG8gdGhlIGRpZmZlcmVuY2UgaW4gb2N0YXZlLlxuICAgIC8vIFRoZSBvY3RhdmUgaXMgYWx3YXlzIHRoZSBsYXN0IHRvbmUgYXMgcGVyIHRoZSBkZWZpbml0aW9uIG9mIHRoZSBgaW50ZXJ2YWxzYCBhcnJheS5cbiAgICByZXR1cm4gbmV3IEludGVydmFsKFxuICAgICAgdGhpcy5pbnRlcnZhbHNbdG9uZS5waXRjaENsYXNzXS5yYXRpby5tdWwodGhpcy5vY3RhdmUucmF0aW8ucG93KHRvbmUub2N0YXZlKSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIE5FQVJFU1QgVE9ORVxuICAgKiBGaW5kIHRoZSBuZWFyZXN0IHRvbmUgZ2l2ZW4gYW4gaW50ZXJ2YWwgYW5kIHJldHVybiBkaWZmZXJlbmNlXG4gICAqXG4gICAqIEBwYXJhbSBpbnRlcnZhbDogdGFyZ2V0IGludGVydmFsXG4gICAqIEByZXR1cm5zIG5lYXJlc3QgdG9uZSwgaW50ZXJ2YWwgYW5kIGRpZmZlcmVuY2UgZnJvbSB0aGUgdGFyZ2V0XG4gICAqL1xuICBuZWFyZXN0KGludGVydmFsOiBJbnRlcnZhbCk6IHt0b25lOiBUdW5pbmdUb25lLCBpbnRlcnZhbDogSW50ZXJ2YWwsIGRpZmZlcmVuY2U6IEludGVydmFsfSB7XG4gICAgLy8gQnJpbmcgdGhlIGludGVydmFsIHRvIHRoZSBiYXNlIG9jdGF2ZS5cbiAgICBjb25zdCBvY3RhdmUgPSBNYXRoLmZsb29yKE1hdGgubG9nKGludGVydmFsLnJhdGlvLnZhbHVlT2YoKSkgLyBNYXRoLmxvZyh0aGlzLm9jdGF2ZS5yYXRpby52YWx1ZU9mKCkpKTtcbiAgICBjb25zdCBiYXNlID0gbmV3IEludGVydmFsKGludGVydmFsLnJhdGlvLmRpdih0aGlzLm9jdGF2ZS5yYXRpby5wb3cob2N0YXZlKSkpO1xuXG4gICAgLy8gU2VhcmNoIHRocm91Z2ggdGhlIGludGVydmFscyB0byBsb2NhdGUgdGhlIG5lYXJlc3QuXG4gICAgY29uc3QgbiA9IEhlbHBlcnMuYmluYXJ5U2VhcmNoKHRoaXMuaW50ZXJ2YWxzLCBiYXNlLCBJbnRlcnZhbC5jb21wYXJlKTtcbiAgICBpZiAobiA+PSAwKSB7XG4gICAgICAvLyBFeGFjdCBtYXRjaDogcmV0dXJuIHRoZSBwaXRjaCBhdCB0aGUgcmlnaHQgb2N0YXZlLlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9uZTogbmV3IFR1bmluZ1RvbmUodGhpcywgbiwgb2N0YXZlKSxcbiAgICAgICAgaW50ZXJ2YWwsXG4gICAgICAgIGRpZmZlcmVuY2U6IG5ldyBJbnRlcnZhbChuZXcgRnJhY3Rpb24oMSkpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFBhcnRpYWwgbWF0Y2g6IGZpbmQgcmVhbCBuZWFyZXN0IGJldHdlZW4gaW5zZXJ0aW9uIHBvaW50IGFuZCBwcmV2aW91cy5cbiAgICAgIC8vIFdlJ3JlIGd1YXJhbnRlZWQgdG8gZmluZCBhIHByZXZpb3VzIHZhbHVlIGJlY2F1c2UgdGhlIGZpcnN0IHZhbHVlIGlzIGFsd2F5cyB1bmlzb24uXG4gICAgICBjb25zdCBtID0gfm47XG4gICAgICBjb25zdCBsb3dlciA9IE1hdGguYWJzKHRoaXMuaW50ZXJ2YWxzW20tMV0uZGlmZmVyZW5jZShiYXNlKS5jZW50cyk7XG4gICAgICBjb25zdCB1cHBlciA9IE1hdGguYWJzKHRoaXMuaW50ZXJ2YWxzW21dLmRpZmZlcmVuY2UoYmFzZSkuY2VudHMpO1xuICAgICAgY29uc3QgbmVhcmVzdCA9IGxvd2VyIDwgdXBwZXIgPyBtLTEgOiBtO1xuICAgICAgY29uc3QgbmVhcmVzdFRvbmUgPSBuZXcgVHVuaW5nVG9uZSh0aGlzLCBuZWFyZXN0LCBvY3RhdmUpO1xuICAgICAgY29uc3QgbmVhcmVzdEludGVydmFsID0gdGhpcy50dW5lKG5lYXJlc3RUb25lKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvbmU6IG5lYXJlc3RUb25lLFxuICAgICAgICBpbnRlcnZhbDogbmVhcmVzdEludGVydmFsLFxuICAgICAgICBkaWZmZXJlbmNlOiBuZWFyZXN0SW50ZXJ2YWwuZGlmZmVyZW5jZShpbnRlcnZhbClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRVFVQUwgRElWSVNJT05TIE9GIFRIRSBPQ1RBVkUuXG4gICAqXG4gICAqIEdlbmVyYXRlIGFuIGludGVydmFscyBhcnJheSBiYXNlZCBvbiBlcXVhbCBkaXZpc2lvbnMgb2YgdGhlIG9jdGF2ZS5cbiAgICogVGhlIGludGVydmFscyBhcmUgY2FsY3VsYXRlZCBpbiBjZW50cywgYmVjYXVzZSB0aGV5IHdpbGwgYmUgY29udmVydGVkIHRvIHJhdGlvc1xuICAgKiBpbnNpZGUgdGhlIFR1bmluZyBjb25zdHJ1Y3Rvci5cbiAgICovXG4gIHN0YXRpYyBpbnRlcnZhbHNFZG8oZGl2aXNpb25zOiBudW1iZXIpOiBJbnRlcnZhbFtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShBcnJheShkaXZpc2lvbnMgKyAxKSkubWFwKChfLCBpKSA9PiB7XG4gICAgICByZXR1cm4gSW50ZXJ2YWwuZnJvbUNlbnRzKDEyMDAgLyBkaXZpc2lvbnMgKiBpKTtcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFRvbmUgaW4gYSB0dW5pbmcuXG4gKi9cbmV4cG9ydCBjbGFzcyBUdW5pbmdUb25lIHtcbiAgY29uc3RydWN0b3IocHVibGljIHR1bmluZzogVHVuaW5nLCBwdWJsaWMgcGl0Y2hDbGFzczogbnVtYmVyLCBwdWJsaWMgb2N0YXZlOiBudW1iZXIpIHt9XG5cbiAgZ2V0IHBpdGNoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucGl0Y2hDbGFzcyArIHRoaXMub2N0YXZlICogdGhpcy50dW5pbmcuc3RlcHM7XG4gIH1cblxuICBzdGF0aWMgZnJvbVBpdGNoKHR1bmluZzogVHVuaW5nLCBwaXRjaDogbnVtYmVyKTogVHVuaW5nVG9uZSB7XG4gICAgcmV0dXJuIG5ldyBUdW5pbmdUb25lKHR1bmluZywgSGVscGVycy5tb2QocGl0Y2gsIHR1bmluZy5zdGVwcyksIE1hdGguZmxvb3IocGl0Y2ggLyB0dW5pbmcuc3RlcHMpKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtUdW5pbmcsIFR1bmluZ1RvbmV9IGZyb20gJy4vVHVuaW5nJztcbmltcG9ydCB7SGVscGVyc30gZnJvbSAnLi9IZWxwZXJzJztcbmltcG9ydCB7TXVsdGltYXB9IGZyb20gJy4vQmltYXAnO1xuXG4vKipcbiAqIE5PTUVOQ0xBVFVSRSBTWVNURU1cbiAqXG4gKiBUbyBuYW1lIG5vdGVzLCB3ZSB1c2UgYSBjb21tb24gcmVwcmVzZW50YXRpb24gYmFzZWQgb24gU2NpZW50aWZpYyBQaXRjaCBOb3RhdGlvbiAoU1BOKTpcbiAqIC0gU3RhbmRhcmQgbm90ZSBsZXR0ZXJzIEMsIEQsIEUsIEYsIEcsIEEsIEJcbiAqIC0gQW4gZXh0ZW5zaWJsZSBzZXQgb2YgYWNjaWRlbnRhbHNcbiAqIC0gVGhlIG9jdGF2ZSBzcGVjaWZpY2F0aW9uXG4gKlxuICogV2UgZGVmaW5lIGEgdHVuaW5nIG5vdGF0aW9uIG1hcCB0aGF0IGRlZmluZXMgaG93IG5vdGVzIGFuZCBhY2NpZGVudGFscyBtYXAgdG8gdHVuaW5nIHRvbmVzL3BpdGNoZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBUdW5pbmdOb3RhdGlvbiB7XG4gIHJlZ2V4OiBSZWdFeHA7XG5cbiAgLyoqXG4gICAqIENPTlNUUlVDVE9SXG4gICAqXG4gICAqIEBwYXJhbSB0dW5pbmc6IHRoZSB0dW5pbmcgYmVpbmcgbm90YXRlZFxuICAgKiBAcGFyYW0gbWFwOiB0aGUgbm90YXRpb24gbWFwIHRoYXQgbWFwcyBldmVyeSBub3RlIGxldHRlciArIGFjY2lkZW50YWwgY29tYmluYXRpb24gdG8gdGhlIHR1bmluZyB0b25lXG4gICAqICAgICAgICAtIGRpZmZlcmVudCBub3RlIG5hbWVzIHRoYXQgbWFwIHRvIHRoZSBzYW1lIGluZGV4IChlLmcuIEMjID0gRGIgPT4gMSkgc2hvdWxkIGhhdmUgc2VwYXJhdGUgZW50cmllc1xuICAgKiAgICAgICAgLSBkb24ndCBpbmNsdWRlIG9jdGF2ZSBudW1iZXJzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgdHVuaW5nOiBUdW5pbmcsIHB1YmxpYyBtYXA6IE11bHRpbWFwPHN0cmluZywgbnVtYmVyPikge1xuICAgIHRoaXMucmVnZXggPSBuZXcgUmVnRXhwKFxuICAgICAgJ14oJyArIEFycmF5LmZyb20odGhpcy5tYXAua2V5cygpKS5tYXAoSGVscGVycy5lc2NhcGVSZWdFeHApLmpvaW4oJ3wnKSArICcpJyArXG4gICAgICAnKC0/XFxcXGQpJCcsXG4gICAgICAnaSdcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEJVSUxEIEEgTUFQIEJZIENPTUJJTklORyBOT1RFUyBBTkQgQUNDSURFTlRBTFNcbiAgICpcbiAgICogQHBhcmFtIHR1bmluZzogYXMgcGVyIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBub3RlczogbWFwIG9mIG5vdGUgbGV0dGVycyB0byB0b25lIGluZGV4ZXM6XG4gICAqIGBgYFxuICAgKiB7XG4gICAqICAgJ0MnOiAwLFxuICAgKiAgICdEJzogMixcbiAgICogICAnRSc6IDQsXG4gICAqICAgJ0YnOiA1LFxuICAgKiAgICdHJzogNyxcbiAgICogICAnQSc6IDksXG4gICAqICAgJ0InOiAxMSxcbiAgICogfVxuICAgKiBAcGFyYW0gYWNjaWRlbnRhbHM6IG1hcCBvZiBub3RlIGFjY2lkZW50YWxzIHRvIHRvbmUgaW5jcmVtZW50czpcbiAgICogYGBgXG4gICAqIHtcbiAgICogICAnIyc6ICsxLFxuICAgKiAgICdiJzogLTEsXG4gICAqICAgJ24nOiAgMCxcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIHN0YXRpYyBmcm9tTm90ZXNBY2NpZGVudGFsc0NvbWJpbmF0aW9uKFxuICAgIHR1bmluZzogVHVuaW5nLFxuICAgIG5vdGVzOiB7W25vdGU6IHN0cmluZ106IG51bWJlcn0sXG4gICAgYWNjaWRlbnRhbHM6IHtbYWNjaWRlbnRhbDogc3RyaW5nXTogbnVtYmVyfVxuICApIHtcbiAgICBjb25zdCBtYXAgPSBuZXcgTXVsdGltYXA8c3RyaW5nLCBudW1iZXI+KCk7XG4gICAgT2JqZWN0LmtleXMobm90ZXMpLmZvckVhY2gobm90ZSA9PiB7XG4gICAgICBtYXAuc2V0KGAke25vdGV9YCwgbm90ZXNbbm90ZV0pO1xuICAgICAgT2JqZWN0LmtleXMoYWNjaWRlbnRhbHMpLmZvckVhY2goYWNjaWRlbnRhbCA9PiB7XG4gICAgICAgIG1hcC5zZXQoYCR7bm90ZX0ke2FjY2lkZW50YWx9YCwgSGVscGVycy5tb2Qobm90ZXNbbm90ZV0gKyBhY2NpZGVudGFsc1thY2NpZGVudGFsXSwgdHVuaW5nLnN0ZXBzKSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFR1bmluZ05vdGF0aW9uKHR1bmluZywgbWFwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBOQU1FIEEgVE9ORVxuICAgKlxuICAgKiBAcGFyYW0gdG9uZTogdG9uZSB0byBiZSBuYW1lZFxuICAgKiBAcmV0dXJucyBhcnJheSBvZiBzdHJpbmdzIHJlcHJlc2VudGluZyB0aGUgZW5oYXJtb25pYyBuYW1pbmdzIG9mIHRoZSB0b25lXG4gICAqL1xuICBuYW1lKHRvbmU6IFR1bmluZ1RvbmUpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLm1hcC5nZXRLZXkodG9uZS5waXRjaENsYXNzKV0ubWFwKG4gPT4gYCR7bn0ke3RvbmUub2N0YXZlfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIFBBUlNFIEEgTk9URVxuICAgKlxuICAgKiBAcGFyYW0gbm90ZTogdGFyZ2V0IG5vdGUgaW4gc2NpZW50aWZpYyBwaXRjaCBub3RhdGlvblxuICAgKiBAcmV0dXJucyB0b25lIGdlbmVyYXRvclxuICAgKi9cbiAgcGFyc2Uobm90ZTogc3RyaW5nKTogVHVuaW5nVG9uZSB7XG4gICAgY29uc3QgbWF0Y2ggPSB0aGlzLnJlZ2V4LmV4ZWMobm90ZSk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBbVHVuaW5nTm90YXRpb24ucGFyc2VdIENvdWxkIG5vdCBwYXJzZSBub3RlICR7bm90ZX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBUdW5pbmdUb25lKHRoaXMudHVuaW5nLCB0aGlzLm1hcC5nZXQobWF0Y2hbMV0pLCBwYXJzZUludChtYXRjaFsyXSwgMTApKTtcbiAgfVxufVxuIiwiZXhwb3J0ICogZnJvbSAnLi9UdW5pbmcnO1xuZXhwb3J0ICogZnJvbSAnLi9UdW5pbmdOb3RhdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL0ludGVydmFsJztcbiIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NyZWF0ZUJpbmRpbmcobywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gbW9kdWxlIGV4cG9ydHMgbXVzdCBiZSByZXR1cm5lZCBmcm9tIHJ1bnRpbWUgc28gZW50cnkgaW5saW5pbmcgaXMgZGlzYWJsZWRcbi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xucmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oNjA3KTtcbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07Il0sInNvdXJjZVJvb3QiOiIifQ==